{"version":3,"sources":["assets/tileJS.png","assets/tileTS.png","assets/tileBlockly.png","assets/blockly2js.png","Theme.js","Dialogs/Rename.js","Dialogs/Delete.js","Dialogs/AddNewScript.js","Dialogs/New.js","Dialogs/Error.js","SideMenu.js","Log.js","Components/ScriptEditorVanilaMonaco.js","Dialogs/Export.js","Dialogs/Import.js","Components/BlocklyEditor.js","Components/simple-cron/cron2text.js","Components/simple-cron/jquery.cron.locale.js","Components/simple-cron/cronText.js","Components/ComplexCron.js","Components/simple-cron/SimpleCron.js","Components/Schedule.js","Dialogs/Cron.js","Dialogs/ScriptEditor.js","Editor.js","Dialogs/ImportFile.js","App.js","serviceWorker.js","index.js","assets/js.png","assets/blockly.png","assets/typescript.png"],"names":["module","exports","type","root","flexGrow","display","width","height","menu","depthOffset","colors","primary","secondary","selected","background","color","error","toolbar","tabs","DialogRename","React","Component","constructor","props","super","handleCancel","this","onClose","handleOk","onRename","oldId","state","id","name","instance","handleChange","setState","getId","isShowInstance","folder","instances","length","prefix","getPrefix","parts","split","pop","join","replace","componentWillReceiveProps","nextProps","render","Dialog","disableBackdropClick","disableEscapeKeyDown","maxWidth","fullWidth","open","aria-labelledby","DialogTitle","I18n","t","DialogContent","noValidate","autoComplete","TextField","style","label","value","onKeyPress","ev","key","preventDefault","setTimeout","onChange","e","target","margin","disabled","FormControl","InputLabel","htmlFor","Select","parseInt","inputProps","map","MenuItem","DialogActions","Button","onClick","DialogDelete","onDelete","fontSize","fontWeight","DialogAddNew","openHtml","html","lang","getLanguage","window","focus","getJSCard","Card","className","classes","card","CardActionArea","CardMedia","media","image","ImgJS","title","CardContent","text","CardActions","size","getTSCard","ImgTS","getBlocklyCard","ImgBlockly","textAlign","withStyles","DialogNew","onAdd","existingItems","indexOf","parent","helperText","minWidth","parents","splice","names","forEach","n","i","el","find","item","push","DialogError","console","log","aria-describedby","titleBackground","titleColor","DialogContentText","autoFocus","theme","Themes","COLOR_RUN","green","COLOR_PROBLEM","yellow","COLOR_PAUSE","red","images","def","ImgTypeScript","getObjectName","obj","common","en","prepareList","data","result","ids","Object","keys","sort","a","b","enabled","depth","engineType","engine","modified","startsWith","index","it","parentIndex","SideDrawer","onDragUpdate","update","provided","destination","listItems","dragDepth","expanded","localStorage","getItem","JSON","parse","inputRef","createRef","scripts","problems","reorder","draggedId","creatingScript","creatingFolder","copingScript","renaming","deleting","choosingType","errorText","menuOpened","menuAnchorEl","searchMode","expertMode","searchText","typeFilter","statusFilter","runningInstances","scriptsHash","newExp","ensureSelectedIsVisible","filterTimer","isAllZeroInstances","getIsAllZeroInstances","problemsTimer","onProblemUpdatedBound","onProblemUpdated","bind","readProblems","cb","tasks","shift","match","that","_id","substring","connection","getState","err","componentDidMount","subscribeState","componentWillUnmount","unsubscribeState","stringify","changed","val","pos","isSearchEnabled","objects","newState","toLowerCase","filteredPartly","found","source","lastIndexOf","filtered","filterList","filterListStatic","ensureSelectedIsVisibleStatic","nState","assign","getIsAllZeroInstancesStatic","selectId","setItem","saveExpanded","showError","onExpand","stopPropagation","concat","onCollapse","onDragEnd","newId","draggableId","onDragStart","event","renderItemButtons","children","IconButton","iconButtons","onEnableDisable","onEdit","Promise","resolve","renderFolderButtons","isExpanded","gripHandle","noGripHandle","expandButton","getTextStyle","whiteSpace","padding","overflow","flex","onDblClick","isFilteredOut","renderOneItem","items","childrenFiltered","filter","depthPx","Theme","marginLeft","cursor","opacity","iconStyle","inner","ListItem","element","onDoubleClick","ListItemIcon","scriptIcon","alt","src","ListItemText","undefined","childrenCount","ListItemSecondaryAction","isDragDisabled","snapshot","ref","innerRef","draggableProps","dragHandleProps","isDragging","draggableStyle","userSelect","renderAllItems","dragging","List","dense","disablePadding","onAddNew","onCopy","onAddNewFolder","getUniqueName","copyId","word","m","getUniqueFolderName","onCloseMenu","menuAnchorFilterEl","getFilterBadge","filterIcon","getMainMenu","selectedItem","Menu","anchorEl","PaperProps","maxHeight","MENU_ITEM_HEIGHT","then","iconDropdownMenu","onExpertModeChange","onExport","onImport","onThemeChange","getToolbarButtons","RootRef","rootRef","Input","toolbarSearch","placeholder","clearTimeout","onSearch","toolbarButtons","float","mini","marginTop","aria-label","aria-owns","aria-haspopup","currentTarget","getFolders","folders","onCollapseAll","onExpandAll","getBottomButtons","footerButtons","Blockly","footerButtonsRight","renamingItem","copingItem","Drawer","variant","paper","drawerPaper","anchor","Divider","droppableId","innerMenu","footer","newName","newInstance","position","palette","lineHeight","paddingRight","iconOnTheRight","right","top","overflowX","overflowY","borderRadius","marginRight","backgroundColor","gText","Log","lines","goBottom","editing","lastIndex","messagesEnd","logHandlerBound","logHandler","generateLine","message","ts","severity","trTime","d","getHours","toString","getMinutes","getSeconds","getMilliseconds","getTimeString","Date","trSeverity","scrollToBottom","current","scrollIntoView","behavior","allLines","date","ms","toLocaleString","registerLogHandler","unregisterLogHandler","componentDidUpdate","hasOwnProperty","str","document","createElement","body","appendChild","select","execCommand","removeChild","copyToClipboard","clearLog","logBox","toolbox","onLayoutChange","layoutIcon","verticalLayout","logBoxInner","table","clear","paddingLeft","info","warn","debug","silly","fontFamily","left","boxShadow","ScriptEditor","isDark","language","readOnly","alive","check","monacoDiv","editor","monaco","insert","originalCode","code","globalTypingHandles","typings","lastSearch","waitForMonaco","monacoCounter","onRegisterSelect","getModel","getValueInRange","getSelection","compilerOptions","languages","typescript","typescriptDefaults","ScriptTarget","ES2015","allowJs","checkJs","noLib","lib","moduleResolution","ModuleResolutionKind","NodeJs","setCompilerOptions","setTypeCheck","create","lineNumbers","scrollBeyondLastLine","automaticLayout","onDidChangeModelContent","getValue","scriptAdapterInstance","getScripts","sendTo","setEditorTypings","addCommand","KeyMod","CtrlCmd","KeyCode","KEY_S","onForceSave","highlightText","options","selectOnLineNumbers","setEditorOptions","setValue","setEditorLanguage","updateOptions","lineWrap","wordWrap","typeCheck","setTheme","dispose","model","uri","path","filenameWithoutExtension","substr","extension","newLanguage","newModel","createModel","Uri","from","setModel","noSemanticValidation","noSyntaxValidation","setDiagnosticsOptions","addTypingsToEditor","isGlobal","handle","addExtraLib","isGlobalScript","test","partialDeclarationsPath","insertTextIntoEditor","selection","range","Range","startLineNumber","startColumn","endLineNumber","endColumn","executeEdits","forceMoveMarkers","findMatches","r","setSelection","revealLine","row","getPosition","lineNumber","col","column","UNSAFE_componentWillReceiveProps","onInserted","newValue","Fab","bottom","zIndex","forceUpdate","DialogExport","popper","getElementById","dialog","textArea","textAreaLight","Popper","placement","transition","TransitionProps","Fade","timeout","Paper","typography","tabIndex","aria-hidden","spacing","unit","DialogImport","fullHeight","resize","toolboxXml","languageBlocklyLoaded","languageOwnLoaded","toolboxText","scriptsLoaded","BlocklyEditor","blockly","blocklyWorkspace","exportText","importText","someSelected","changeTimer","onResizeBind","onResize","lastCommand","blinkBlock","loadLanguages","url","callback","location","scriptTag","onload","onreadystatechange","onerror","adapter","loadJS","loadScripts","toLoad","parseXml","DOMParser","xmlStr","parseFromString","ActiveXObject","xmlDoc","async","loadXML","_result","tagName","attributes","nodeName","innerText","childNodes","node","searchXml","searchBlocks","dom","Xml","workspaceToDom","allBlocks","getAllBlocks","searchId","blocks","addSelect","someSelectedTime","now","removeSelect","command","blocklyCheckBlocks","badBlock","blocklyBlinkBlock","exportBlocks","importBlocks","updateBackground","loadCode","fileLang","setAttribute","readyState","getElementsByTagName","fileCustom","svgResize","jsCode2Blockly","xml","l","decodeURIComponent","atob","block","unselect","blocklyRemoveOrphanedShadows","isShadow","connections","getConnections_","conn","j","targetConnection","warningText","blocklyGetUnconnectedBlock","blocklyGetBlockWithWarning","sourceBlock_","INPUT_VALUE","OUTPUT_VALUE","_optional","warning","blocklyCode2JSCode","oneWay","JavaScript","workspaceToCode","domToText","btoa","encodeURIComponent","xmlBlock","blockToDom","dragMode_","DRAG_FREE","deleteNext","xy","getRelativeToSurfaceXY","RTL","x","y","domToPrettyText","onImportBlocks","trim","xmlBlocks","textToDom","paste","onBlocklyChanged","ignoreChanges","domToWorkspace","alert","didUpdate","addEventListener","getToolbox","inject","zoom","controls","wheel","startScale","maxScale","minScale","scaleSpeed","move","scrollbars","drag","trashcan","grid","colour","snap","addChangeListener","masterEvent","Events","UI","CREATE","getElementsByClassName","classList","darkBackground","add","remove","removeEventListener","outerHTML","p1","MSG","CustomBlocks","Words","HUE","_b","stroke","fill","cronToText","cronspec","withSeconds","locale","NAMES","JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC","SUN","MON","TUE","WED","THU","FRI","SAT","REPLACEMENTS","FIELDS","s","h","D","M","Y","offset","arguments","max","isNaN","Math","min","sched","inc","addHash","schedules","curSched","hash","dc","clone","field","slice","cloneSchedule","except1","except2","exceptions","addWeekday","incSplit","rangeSplit","addRange","isHash","itemSorter","toInt","argumentForCoercion","coercedNumber","number","isFinite","ceil","floor","ordinal","ORDINALS","th","st","nd","rd","numberList","numbers","lastVal","numberToDateName","DOW","MONTH","dateList","outputText","zeroPad","schedule","Every","hm","k","and","scheduleToSentence","expr","hasSeconds","prepared","toUpperCase","prepareExpr","components","f","component","parseExpr","parseCron","JQUERY_CRON_LOCALE","convertCronToText","cron","seconds","correctCasus","WEEKDAYS","MONTHS","convertMinusIntoArray","p","iMax","convertArrayIntoMinus","newParts","start","end","ComplexCron","cronExpression","cron2state","extended","tab","state2cron","modes","minutes","hours","dates","months","dows","cronParts","recalcCron","onToggle","nums","getDigitsSelector","values","numberButton","getPeriodsTab","every","everyN","periodSelect","verticalAlign","num","InputLabelProps","shrink","mainDiv","FormControlLabel","control","Checkbox","checked","AppBar","appBar","Tabs","active","Tab","tabContent","slider","numberButtonBreak","PERIODIC","once","interval","intervalBetween","specific","PERIODIC_TYPES","DEFAULT_STATE","mode","period","SimpleCron","time","timeFrom","timeTo","weekdays","list","part","_parts","day","dow","text2weekdays","settings","periodArray2text","getDate","getMonth","partsDate","month","getControlsWeekdaysElements","getControlsPeriodElements","marginBottom","getControlsTime","formControl","formControlMarginRight","getControlsDate","formControlPaddingTop","getOnceElements","getIntervalElements","getIntervalBetweenElements","hour","getSpecificTimeElements","onModeChange","paddingTop","PERIODS","ASTRO","DEFAULT","exactTime","days","weeks","years","yearMonth","yearDate","valid","to","string2USdate","Schedule","now2string","refFrom","refTo","refOnce","desc","state2text","force","isDiff","copy","string2date","today","setHours","setMinutes","setSeconds","setMilliseconds","validFrom","tDows","last","tMonths","getTime","getTimePeriodElements","wholeDay","night","fromTo","rowDiv","modeDiv","Radio","inputRadio","_schedule","settingsDiv","inputTime","getPeriodSettingsMinutes","getTimeExactElements","isAstro","getDivider","hr","getPeriodModes","isOnce","rowOnce","inputDate","defaultValue","timerOnce","getFullYear","rowDays","getPeriodSettingsDaily","getPeriodSettingsWeekdays","rowDows","getPeriodSettingsWeekly","rowDowsDows","rowMonths","getPeriodSettingsMonthly","rowMonthsDates","getPeriodSettingsDates","rowYears","getPeriodSettingsYearly","inputEvery","isSpecific","FormGroup","inputGroup","inputGroupElement","inputSmallCheck","parsedDates","inputDateDay","inputDateDayCheck","pointerEvents","parsedMonths","isEnd","setDate","getValidSettings","timerFrom","timerTo","scrollWindow","border","borderTop","rowDates","rowWeeks","rowDaysDows","paddingBottom","DialogCron","simple","onOk","setMode","dialogPaper","ok","cancel","headerID","fontStyle","radio","DialogScriptEditor","isReturn","args","argsTitle","Editor","tabsRef","debugEnabled","verboseEnabled","showBlocklyCode","showSelectId","showCron","showScript","visible","cmdToBlockly","menuTabsOpened","menuTabsAnchorEl","showDebugMenu","toast","setChangedInAdmin","initValue","scriptDialog","systemLang","main","selectIdDialog","cronDialog","showScriptDialog","onSelectedChange","onBrowserCloseBound","onBrowserClose","isChanged","configNotSaved","returnValue","removeNonExistingScripts","_changed","verbose","oldSource","commonLocal","nextCommon","onRestart","onSave","onCancel","func","getSelect","onConvert2JS","showConfirmDialog","nowSelected","script","onTabChange","isScriptChanged","onTabClose","question","confirmCallback","confirm","sendCommandToBlockly","cmd","getTabs","indicatorColor","textColor","scrollButtons","tabIcon","tabText","tabChanged","tabChangedIcon","closeButton","href","tabButton","wrapper","tabButtonWrapper","tabMenuButton","_event","hintButton","hintIcon","getDebugMenu","menuDebugAnchorEl","menuIcon","getDebugBadge","getToolbar","isInstanceRunning","isScriptRunning","Toolbar","onLocate","notRunning","textButton","ImgBlockly2Js","Badge","badgeMargin","badgeContent","getScriptEditor","editorDiv","getBlocklyEditor","resizing","getConfirmDialog","getSelectIdDialog","statesOnly","getCronDialog","getEditorDialog","getToast","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","action","closeToast","minHeight","hintText","textOverflow","DialogImportFile","imageStatus","file","reader","FileReader","onabort","readAsDataURL","handleDropFile","files","readFileDataUrl","dropzone","dropzoneAccepted","dropzoneRejected","maxSize","acceptClassName","rejectClassName","onDrop","multiple","accept","getRootProps","getInputProps","isDragActive","isDragReject","dropzoneDiv","icon","iconError","iconOk","borderWidth","borderStyle","borderColor","boxSizing","transform","App","setTranslations","require","connected","progress","ready","updateScripts","updating","logMessage","menuSelectId","logHorzLayout","importFile","themeType","logSize","parseFloat","menuSize","hosts","port","protocol","socket","Connection","autoSubscribes","autoSubscribeLog","onProgress","PROGRESS","CONNECTING","READY","round","onReady","setLanguage","onObjectChange","onError","onBlocklyChanges","reload","onLog","isReady","nScripts","groups","compareScripts","loadCustomBlockly","newScripts","oldIds","newIds","oldScript","newScript","promise","parentID","updateScript","renameGroup","catch","onUpdateScript","onSelect","showMessage","delObject","isFolder","reg","RegExp","setObject","expert","getLiveHost","_list","host","emit","link","click","download","onImportConfirmed","toggleLogLayout","renderMain","errorDialog","content","menuOpenCloseButton","primaryMinSize","secondaryInitialSize","onSecondaryPaneSizeChange","extendObject","primaryIndex","secondaryMinSize","customClassName","splitterDivs","menuDivWithoutMenu","SideMenu","menuDiv","default","splitterDivWithMenu","Boolean","hostname","build","Map","ReactDOM","createTheme","_theme","navigator","serviceWorker","registration","unregister"],"mappings":"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ACpB,YAAoB,eACpB,GAAoB,KACpB,GAAoB,KACpB,GAAoB,MAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,uCACA,6CACA,iCACA,uCACA,2BACA,2BACA,2BACA,6CACA,mDACA,6CACA,uCACA,8CAEJD,IAAK,CACD,qEACA,qEACA,6CACA,iCACA,6CACA,6CACA,8CAEJ,MAAoB,qDACpB,IAAoB,SACpB,YAAoB,gEACpB,kBAAoB,8CACpB,KAAoB,yCACpB,OAAoB,uCACpB,YAAoB,gDACpB,OAAoB,6CACpB,mBAAoB,yFACpB,kBAAoB,gGACpB,oBAAqB,+FACrB,SAAoB,GACpB,iBAAoB,iHACpB,YAAoB,8CACpB,GAAoB,SACpB,GAAoB,SACpB,GAAoB,UAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAERM,MAAO,CACH,SACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,UAGJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAGJ,MAAoB,SACpB,IAAoB,KACpB,YAAoB,iBACpB,kBAAoB,qBACpB,KAAoB,QACpB,OAAoB,SACpB,YAAoB,YACpB,OAAoB,UACpB,mBAAoB,oBACpB,kBAAoB,sBACpB,oBAAoB,2BACpB,SAAoB,SACpB,iBAAoB,iBACpB,YAAoB,UACpB,GAAoB,OACpB,GAAoB,MACpB,GAAoB,QAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,KACA,OAEJ,MAAqB,OACrB,IAAqB,IACrB,YAAqB,cACrB,kBAAqB,cACrB,KAAqB,MACrB,OAAqB,SACrB,YAAqB,YACrB,OAAqB,UACrB,mBAAqB,oBACrB,kBAAqB,kBACrB,oBAAqB,kBACrB,SAAqB,MACrB,iBAAqB,eACrB,YAAqB,SACrB,GAAqB,IACrB,GAAqB,QACrB,GAAqB,MAGzBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAEJ,MAAwB,OACxB,IAAwB,IACxB,YAAwB,WACxB,kBAAwB,mBACxB,KAAwB,OACxB,OAAwB,SACxB,YAAwB,YACxB,OAAwB,UACxB,mBAAwB,oBACxB,kBAAwB,kBACxB,oBAAwB,qBACxB,SAAwB,KACxB,iBAAwB,oBACxB,YAAwB,UACxB,GAAwB,KACxB,GAAwB,KACxB,GAAwB,UAG5BqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,WACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,WACA,MACA,WACA,OAEJ,MAAoB,iBACpB,IAAoB,IACpB,YAAoB,aACpB,kBAAoB,WACpB,KAAoB,UACpB,OAAoB,WACpB,YAAoB,WACpB,OAAoB,UACpB,mBAAoB,wBACpB,kBAAoB,YACpB,oBAAqB,wBACrB,SAAoB,IACpB,iBAAoB,6BACpB,YAAoB,iBACpB,GAAoB,IACpB,GAAoB,IACpB,GAAoB,KAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAEJ,MAAwB,OACxB,IAAwB,IACxB,YAAwB,cACxB,kBAAwB,mBACxB,KAAwB,OACxB,OAAwB,SACxB,YAAwB,YACxB,OAAwB,UACxB,mBAAwB,oBACxB,kBAAwB,kBACxB,oBAAwB,mBACxB,SAAwB,WACxB,iBAAwB,cACxB,YAAwB,SACxB,GAAwB,IACxB,GAAwB,KACxB,GAAwB,MAG5BqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,KACA,KACA,MACA,OACA,MAEJ,MAAwB,OACxB,IAAwB,KACxB,YAAwB,WACxB,kBAAwB,oBACxB,KAAwB,MACxB,OAAwB,SACxB,YAAwB,aACxB,OAAwB,SACxB,mBAAwB,mBACxB,kBAAwB,mBACxB,oBAAwB,iBACxB,SAAwB,QACxB,iBAAwB,iBACxB,YAAwB,UACxB,GAAwB,KACxB,GAAwB,KACxB,GAAwB,MAG5BqB,QAA8B,CAC1B9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,sBAEJD,IAAK,CACD,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,sBAEJ,MAAoB,SACpB,IAAoB,SACpB,YAAoB,eACpB,kBAAoB,uCACpB,KAAoB,eACpB,OAAoB,eACpB,YAAoB,qBACpB,OAAoB,SACpB,mBAAoB,2BACpB,kBAAoB,qBACpB,oBAAqB,6CACrB,SAAoB,SACpB,iBAAoB,2BACpB,YAAoB,eACpB,GAAoB,SACpB,GAAoB,SACpB,GAAoB,WAGTqB,MCxbAC,OANf,SAA2BC,EAAM/uB,GAC7B,MAAMgpB,EAAyC,IAA3B+F,EAAKnyB,MAAM,KAAKJ,OAEpC,OA/CJ,SAAsBwE,EAAMguB,GAyCxB,OAFAhuB,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GAFAA,GADAA,GADAA,GADAA,GADAA,GADAA,GAFAA,GADAA,GAFAA,GADAA,GAFAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GAFAA,GADAA,GADAA,GADAA,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","file":"static/js/main.4178bb02.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAABkCAYAAAAlr7RPAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAB1RJREFUeF7tnWtv2zYUhvdz+lP2/4q0w74V277t0qZthq3Yl+7Sot2AFRuGYmuxYXM7N7YTK74kjp2j6TBk4HiyzSNSFGW+B3hQNLEpMTqPSIkU9V7+7EYOALAH0gAgBNIAIATSACAE0gAgBNIAIATSACAE0gAgBNIAIATSACAE0gAgBNIAIATSACAE0gAgBNIAIATSACAE0gAgBNIAIATSACAE0oA4efF+nnduboc/V/b9GoE0KWKbkGXUlaRL+0Rvbs/z0z+HuU2cvc3o3zuT2vdvCUiTIr17fZ1y8uDELCuzKloWOno001twCsqeTqhmeSBNisQgjZHl5MeRLtlr0Hw4qqvlgTQp0rQ0RSJT/2CuS6w16OT52Lc4kCZFmpSGhRn/eqJLCxK0mF5e83iSB9KkSFPSsDCL0ViXFD4OP/MiDqRJkSakYWFm3UyX0lx4EAfSpEhoaViY0c+1XPBXCscuJqRJkZDSsDC9u6S/HUUUAp+4tDaQJkVCSsOfjzCod4+qigNpUiSUNNzKDL72MmhZS1TspkGaFAklTaStDIe6KYGWBljTMmlo+nqYdz8a5d07E/6Xpq+c7sJR/8EC1zRARiBp6O2HTl0zyp6N1fZWE5z/X/ycBg9Fswpo9i4rLU8IpEmRENJwYl6cnupvycNmPIV/z5+zCU8DmwykSZEQ0vDnKoZqEWwTfIs4qmvnoXVZBtKkSOTSWG/DsEYc6u1f+JTFAGlSZNekYQo51NhLETR5mdX5TA2kSZFdlIZhcTp7lQctbYE0KbKr0gQC0qRI7DcC+vVci/gC0qRI7C0NR8StDaRJkRZIo9YOiLS1gTQpEkIaviifvHSb7sKDo7y9yOSBNCkSQhrGsbUxQdkTr8/4uwJpUqRl0phQa6NFIA+kSZFQ0nAX7bznfeUZOutcTrxsSCBIkyKhpGH48zWGmioTWB5IkyIhpeHWZnZY+zpndPx4GkoeSJMiIaUpUPPAAgWd/FTbcrQGSJMigaVRrU2gZWhN0KC+mwaQJkVCS8OwOOPfgi8WSP2Hc9/iQJoUaUIahsWZ/B5enHk29vmoAKRJkaakYVSL80vQBdCvwnFBDQOkSZEmpWFYnP6DoNc4JtQbCxzFgTQp0rQ0DCfu4ee60LChuogO4kCaFIlBGoYTl8s7+uZMlx4siN/pWVEcSJMisUhjMPIcfzvVWwkSNCy2V0EcSJMisUlj0PKoRQIDRZWF0CFNisQqjcHI4+mNz1tDWCdIkyKxS2Mw3TYW6LxX2/gODQ5EA6CQJkXaIs0yRVLzAGVtg6OCekGaFGmjNAbTdfP93htIAzbSZmkMRp7hd17uuNFRIaFlFw3SpMguSGPgRLd9c8C2sKwbpEmRXZKGMa3OzPFmAaQBa9k1aQy8by4BacBadlWaosWhwVfnek/lAWnAOqj/8FCniTxcpNHdqLz7yUneu39oe+EtgsuvGOqNA2VlrgBp2oRJusHBu8oJx2fj2dvqff8q0uj9psGX1x8H6N/38nzLNVykeXN7UVrmCpCmDZiky55O9PHNqXe32ntYHJIqn2dj8TaLz1NvwyMAHt+FqXCSZu+itMwVIE3sqKTbv9DH9XpwgpR9ZxMu0mRPOqVllsEisOinfw31t9dHlXqsw6V+lvsBaWKFZencJFpMrlqX1aDh9xPpWZo6t9Qr9qoEHX56XFbmNYwswx/W7vdq0Nk/Tg+FXcF/s+mr2ruekCY2rpLO7tkS6n1h301zTCq1OEVZuQbej4oDjbQYj1XS2tZlFYdtXwWkaSGc1KsXyzZh80wIl92/X97Ns41NScXlc+I7hlo7QCoPf5ZnKrsGpGkRnHBFt4kWo8pJp7pDfNCXE47/1T9TXTnX2JRU/DuPQfwItN73/wm0XK/OrQsfy96q8Z3V7awB0sSA74Q7/Tujo0ddmnW9TaNXT1NuSqrid95nHuug+fGIevs96t6ZUPfjUS2PB/AxKKtXCZAmBjjhRi+aWQvMMujNre23Y7kei6l7i9ZEQJoW4rm18R62SRV7PUpCuk4ApIkFPkvznbAIQ40T2SYV14NXsmxJqPd6CoRhIE1McMJ5vA7xFoKui4KTsIG1zKrE1tvoJUCa2Iise1N5ug6fAPh1FxGHev1HhbpBmtjgg+jrSUTHUN2sKsIYWJzjx6e6uKiCsufyeXQaSBMjEYiz9RazLSzOpgmbDYR0yaZVIE2s8EEtump03g9+K1oNlPoQxmDqMnvX+PWaZBBzHZAmdooDbDsPzUv4nqq/DJfbUAvKL3ZS14se6gZp2gCLw2fqycvaztTq2sNTUm2Ey+e68ANoAYLnw/FUG5/1gjRtwiScx2kkaiZCCFlWMXVhpq+9nwzU36imekGaNqIT7jLpPpirATrLoMVoQp29C/P94LKUsVQfVafpH2KJ6KxzKYmhxnpBml1gJek2EoMk25DUxxCwXpAGACGQBgAhkAYAIZAGACGQBgAhkAYAIZAGACGQBgAhkAYAIZAGABE38v8Aj0qLiUXOUdYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","export default {\n    type: 'dark',\n    root: {\n        flexGrow: 1,\n        display: 'flex',\n        width: '100%',\n        height: '100%'\n    },\n    menu: {\n        width: 300,\n        depthOffset: 20\n    },\n    colors: {\n        primary: '#3399CC',\n        secondary: '#164477',\n        selected: {\n            background: '#164477',\n            color: 'white'\n        },\n        error: {\n            background: '#dc0300',\n            color: '#FFFFFF'\n        }\n    },\n    toolbar: {\n        height: 48\n    },\n    tabs: {\n        height: 48\n    }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nclass DialogRename extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n            instance: props.instance || 0\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n        this.prefix = this.getPrefix(props.id);\n        this.oldId = props.id;\n    }\n\n    getPrefix(id) {\n        const parts = (id || '').split('.');\n        parts.pop();\n        return parts.join('.');\n    }\n\n    getId(name) {\n        name = (name || '').replace(/[\\\\/\\][*,;'\"`<>?\\s]/g, '_');\n        return this.prefix + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.prefix = this.getPrefix(nextProps.id);\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onRename(this.oldId, this.state.id, this.state.name, this.state.instance);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        this.setState({name, id: this.getId(name)});\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Rename')}</DialogTitle>\n                <DialogContent>\n                    <form noValidate autoComplete=\"off\">\n                        <TextField\n                            style={{width: '100%'}}\n                            id=\"standard-name\"\n                            label={I18n.t('Name')}\n                            value={this.state.name}\n                            onKeyPress={(ev) => {\n                                if (ev.key === 'Enter') {\n                                    // Do code here\n                                    ev.preventDefault();\n                                    setTimeout(() => this.handleOk(), 200);\n                                }\n                            }}\n                            onChange={e => this.handleChange(e.target.value)}\n                            margin=\"normal\"\n                        />\n                        <TextField\n                            id=\"standard-name-id\"\n                            style={{width: '100%'}}\n                            label={I18n.t('ID')}\n                            value={this.state.id}\n                            disabled={true}\n                            margin=\"normal\"\n                        />\n                        {\n                            this.isShowInstance && (\n                                <FormControl>\n                                    <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                    <Select\n                                        value={this.state.instance}\n                                        onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                        inputProps={{name: 'instance', id: 'instance'}}\n                                    >\n                                        {this.props.instances.map(instance => (<MenuItem key={instance} value={instance}>{instance || '0'}</MenuItem>))}\n                                    </Select>\n                                </FormControl>)\n                        }\n                    </form>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} color=\"primary\">{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel} color=\"primary\">{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogRename.propTypes = {\n    onClose: PropTypes.func,\n    onRename: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    folder: PropTypes.bool,\n};\n\nexport default DialogRename;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport {MdDelete as IconDelete} from 'react-icons/md';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nclass DialogDelete extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose(null);\n    };\n\n    handleOk = () => {\n        this.props.onDelete(this.state.id);\n        this.props.onClose(this.props.value);\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Are you sure?')}</DialogTitle>\n                <DialogContent>\n                    <IconDelete/>\n                    <span style={{fontSize: 14, fontWeight: 'bold'}}>{I18n.t('Delete %s', this.state.name)}</span>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} color=\"primary\">{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel} color=\"primary\">{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogDelete.propTypes = {\n    onClose: PropTypes.func,\n    onDelete: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n};\n\nexport default DialogDelete;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nimport ImgJS from '../assets/tileJS.png';\nimport ImgTS from '../assets/tileTS.png';\nimport ImgBlockly from '../assets/tileBlockly.png';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = {\n    card: {\n        maxWidth: 345,\n        display: 'inline-block',\n        margin: '0 10px 0 10px'\n    },\n    media: {\n        height: 100,\n    },\n    text: {\n        maxWidth: 200,\n    }\n};\nclass DialogAddNew extends React.Component {\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = type => {\n        this.props.onClose(type);\n    };\n\n    openHtml(html) {\n        const lang = I18n.getLanguage();\n        if (lang === 'de' || lang === 'ru') {\n            html = html.replace(/\\/en\\//, '/' + lang + '/');\n        }\n        const win = window.open(html, '_blank');\n        win.focus();\n    }\n\n    getJSCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea\n                onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgJS}\n                    title=\"Javascript\"\n                />\n                <CardContent>\n                    <h2>Javascript</h2>\n                    <div className={this.props.classes.text}>{I18n.t('JS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    getTSCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea\n                onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgTS}\n                    title=\"Typescript\"\n                />\n                <CardContent>\n                    <h2>Typescript</h2>\n                    <div className={this.props.classes.text}>{I18n.t('TS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md#global-functions')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    getBlocklyCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Blockly')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgBlockly}\n                    title=\"Blockly\"\n                />\n                <CardContent>\n                    <h2>Blockly</h2>\n                    <div className={this.props.classes.text}>{I18n.t('Blockly description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Blockly')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/blockly.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Add new script')}</DialogTitle>\n                <DialogContent style={{textAlign: 'center'}}>\n                    {this.getJSCard()}\n                    {this.getBlocklyCard()}\n                    {this.getTSCard()}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleCancel} color=\"primary\">{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogAddNew.propTypes = {\n    onClose: PropTypes.func\n};\n\nexport default withStyles(styles)(DialogAddNew);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nclass DialogNew extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name || 'Script',\n            instance: props.instance || 0,\n            parent: props.parent,\n            error: ''\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n    }\n\n    getId(name) {\n        name = name || this.state.name || '';\n        name = name.replace(/[\\\\/\\][*,;'\"`<>?\\s]/g, '_');\n        return (this.state ? this.state.parent : this.props.parent) + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onAdd(this.getId(this.state.name), this.state.name, this.state.instance, this.props.type);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        const id = this.getId(name);\n        if (!name) {\n            this.setState({name, id, error: I18n.t('Empty name is not allowed')});\n        } else\n        if (this.props.existingItems && this.props.existingItems.indexOf(id) !== -1) {\n            this.setState({name, id, error: I18n.t('Duplicate name')});\n        } else {\n            this.setState({name, id, error: ''});\n        }\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Create new')}</DialogTitle>\n                <DialogContent>\n                    <form noValidate autoComplete=\"off\">\n                        <TextField\n                            style={{width: '100%'}}\n                            id=\"standard-name\"\n                            error={!!this.state.error}\n                            label={I18n.t('Name')}\n                            value={this.state.name}\n                            helperText={this.state.error}\n                            onKeyPress={(ev) => {\n                                if (ev.key === 'Enter') {\n                                    // Do code here\n                                    ev.preventDefault();\n                                    setTimeout(() => this.handleOk(), 200);\n                                }\n                            }}\n                            onChange={e => this.handleChange(e.target.value)}\n                            margin=\"normal\"\n                        />\n                        <FormControl style={{minWidth: 100}}>\n                            <InputLabel htmlFor=\"parent\">{I18n.t('Folder')}</InputLabel>\n                            <Select\n                                style={{width: '100%'}}\n                                value={this.state.parent}\n                                onChange={e => this.setState({parent: e.target.value})}\n                                inputProps={{name: 'parent', id: 'parent',}}\n                            >\n                                {this.props.parents.map(parent => {\n                                    const parts = parent.id.split('.');\n                                    parts.splice(0, 2); // remove script.js\n                                    const names = [];\n                                    let id = 'script.js';\n                                    parts.forEach((n, i) => {\n                                        id += '.' + n;\n                                        const el = this.props.parents.find(item => item.id === id);\n                                        if (el) {\n                                            names.push(el.name);\n                                        } else {\n                                            names.push(n);\n                                        }\n                                    });\n                                    if (!names.length) {\n                                        names.push(parent.name);\n                                    }\n                                    return (<MenuItem key={parent.id} value={parent.id}>{names.join(' / ')}</MenuItem>)\n                                })}\n                            </Select>\n                        </FormControl>\n                        <TextField\n                            id=\"standard-name-id\"\n                            style={{width: '100%'}}\n                            label={I18n.t('ID')}\n                            value={this.getId()}\n                            disabled={true}\n                            margin=\"normal\"\n                        />\n                        {\n                            this.isShowInstance && (\n                                <FormControl>\n                                <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                <Select\n                                    value={this.state.instance}\n                                    onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                    inputProps={{name: 'instance', id: 'instance',}}\n                                >\n                                    {this.props.instances.map(instance => (<MenuItem key={'instance' + instance} value={instance}>{instance || '0'}</MenuItem>))}\n                                </Select>\n                            </FormControl>)\n                        }\n                    </form>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} disabled={!!this.state.error} color=\"primary\">{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel} color=\"primary\">{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogNew.propTypes = {\n    onClose: PropTypes.func,\n    onAdd: PropTypes.func,\n    name: PropTypes.string,\n    title: PropTypes.string,\n    parent: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    parents: PropTypes.array,\n    existingItems: PropTypes.array,\n    folder: PropTypes.bool,\n    type: PropTypes.string,\n};\n\nexport default DialogNew;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport Themes from '../Theme';\n\nconst styles = theme => ({\n    titleBackground: {\n        background: Themes.colors.error.background\n    },\n    titleColor: {\n        color: Themes.colors.error.color,\n        '&>h2': {\n            color: Themes.colors.error.color,\n        }\n    },\n});\n\nclass DialogError extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log('Error created')\n    }\n    handleOk = () => {\n        this.props.onClose && this.props.onClose();\n    };\n\n    render() {\n        return (\n            <Dialog\n                open={true}\n                maxWidth=\"sm\"\n                fullWidth={true}\n                onClose={() => this.handleOk()}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle className={this.props.classes.titleBackground}\n                             classes={{root: this.props.classes.titleColor}}\n                             id=\"alert-dialog-title\">{this.props.title || I18n.t('Error')}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        {this.props.text || I18n.t('Unknown error!')}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()} color=\"primary\" autoFocus>{I18n.t('Ok')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogError.propTypes = {\n    onClose: PropTypes.func,\n    title: PropTypes.string,\n    text: PropTypes.string,\n    icon: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogError);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport {DragDropContext, Droppable, Draggable} from 'react-beautiful-dnd';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Input from '@material-ui/core/Input';\nimport RootRef from '@material-ui/core/RootRef';\n\nimport red from '@material-ui/core/colors/red';\nimport green from '@material-ui/core/colors/green';\nimport yellow from '@material-ui/core/colors/yellow';\n\nimport {MdMoreVert as IconMore} from 'react-icons/md';\nimport {FaFolder as IconFolder} from 'react-icons/fa';\nimport {FaFolderOpen as IconFolderOpened} from 'react-icons/fa';\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\nimport {MdDelete as IconDelete} from 'react-icons/md';\nimport {MdInput as IconDoEdit} from 'react-icons/md';\nimport {MdDragHandle as IconGrip} from 'react-icons/md';\nimport {MdExpandMore as IconCollapse} from 'react-icons/md';\nimport {MdKeyboardArrowRight as IconExpand} from 'react-icons/md';\nimport {MdClose as IconClear} from 'react-icons/md';\nimport {MdFormatClear as IconClose} from 'react-icons/md';\nimport {MdPlayArrow as IconPlay} from 'react-icons/md';\nimport {MdAdd as IconAdd} from 'react-icons/md';\nimport {MdCreateNewFolder as IconAddFolder} from 'react-icons/md';\nimport {MdPause as IconPause} from 'react-icons/md';\nimport {MdSwapVert as IconReorder} from 'react-icons/md';\nimport {MdEdit as IconEdit} from 'react-icons/md';\nimport {MdSearch as IconFind} from 'react-icons/md';\nimport {MdPersonPin as IconExpert} from 'react-icons/md';\nimport {FaFileExport as IconExport} from 'react-icons/fa';\nimport {FaFileImport as IconImport} from 'react-icons/fa';\nimport {MdPalette as IconDark} from 'react-icons/md';\nimport {MdUnfoldMore as IconExpandAll} from 'react-icons/md';\nimport {MdUnfoldLess as IconCollapseAll} from 'react-icons/md';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\n\nimport Theme from './Theme';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogRename from './Dialogs/Rename';\nimport DialogDelete from './Dialogs/Delete';\nimport DialogAddNewScript from './Dialogs/AddNewScript';\nimport DialogNew from './Dialogs/New';\nimport DialogError from './Dialogs/Error';\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_RUN = green[400];\nconst COLOR_PROBLEM = yellow[400];\nconst COLOR_PAUSE = red[400];\n\nconst styles = theme => ({\n    drawerPaper: {\n        position: 'relative',\n        width: '100%', //Theme.menu.width,\n        height: '100%',\n        overflow: 'hidden'\n    },\n    toolbar: {\n        height: Theme.toolbar.height\n    },\n    toolbarButtons: {\n        color: theme.palette.type === 'dark'? 'white !important' : 'black !important'\n    },\n    toolbarSearch: {\n        width: 'calc(100% - 105px)',\n        lineHeight: '34px',\n        marginLeft: 5\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 2\n    },\n    iconDropdownMenu: {\n        paddingRight: 5\n    },\n    iconOnTheRight: {\n        position: 'absolute',\n        right: 10,\n        top: 'calc(50% - 8px)'\n    },\n    menu: {\n        width: '100%',\n        height: '100%'\n    },\n    innerMenu: {\n        width: '100%',\n        height: 'calc(100% - 76px)',\n        overflowX: 'hidden',\n        overflowY: 'auto'\n    },\n    filterIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5\n    },\n    scriptIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2\n    },\n    gripHandle: {\n        paddingRight: 13\n    },\n    noGripHandle: {\n        width: 29\n    },\n    folder: {\n        background: theme.palette.type === 'dark' ? '#6a6a6a' : '#e2e2e2',\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none'\n    },\n    element: {\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none'\n    },\n    reorder: {\n        padding: '9px 16px 9px 9px',\n    },\n    expandButton: {\n        width: 37,\n        height: 37\n    },\n    selected: Theme.colors.selected,\n    instances: {\n        color: 'gray',\n        fontSize: 'smaller'\n    },\n    childrenCount: {\n        float: 'right',\n        marginRight: 5,\n        fontSize: 10,\n        opacity: 0.4,\n    },\n    footer: {\n        height: 24,\n    },\n    footerButtons: {\n        '&:hover': {\n            backgroundColor: '#dbdbdb'\n        },\n        color: theme.palette.type === 'dark' ? '#ffffff' : '#111111',\n        cursor: 'pointer',\n        marginTop: 1,\n        marginRight: 2,\n        height: 22,\n        width: 22,\n    },\n    footerButtonsRight: {\n        float: 'right'\n    }\n});\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    def: ImgJS,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst getItemStyle = (isDragging, draggableStyle) => ({\n    userSelect: 'none',\n    background: isDragging ? 'lightgreen' : 'inherit',\n    ...draggableStyle,\n});\n\nconst getObjectName = (id, obj, lang) => {\n    lang = lang || I18n.getLanguage();\n    if (obj && obj.common && obj.common.name) {\n        if (typeof obj.common.name === 'object') {\n            return obj.common.name[lang] || obj.common.name.en;\n        } else {\n            return obj.common.name;\n        }\n    } else {\n        return id.replace(/^script\\.js./, '');\n    }\n};\n\nconst prepareList = data => {\n    const result = [];\n    const ids = Object.keys(data);\n    ids.sort((a, b) => {\n        if ((a === 'script.js.common' || a === 'script.js.global') && (b === 'script.js.common' || b === 'script.js.global')) {\n            return a > b ? 1 : -1;\n        } else if (a === 'script.js.common' || a === 'script.js.global' || b === 'script.js.common' || b === 'script.js.global') {\n            return 1;\n        } else {\n            return a > b ? 1 : -1;\n        }\n    });\n\n    for (let i = 0; i < ids.length; i++) {\n        const obj = data[ids[i]];\n        const parts = ids[i].split('.');\n        parts.pop();\n        result.push({\n            id: ids[i],\n            title: getObjectName(ids[i], obj),\n            enabled: obj && obj.common && obj.common.enabled,\n            depth: parts.length - 2,\n            type: obj.type === 'script' ? obj.common.engineType : 'folder',\n            parent: parts.length > 2 ? parts.join('.') : null,\n            instance: obj.common.engine ? parseInt(obj.common.engine.split('.').pop(), 10) || 0 : null\n        });\n    }\n\n    // Place all folder-less scripts at start\n    result.sort((a, b) => {\n        // without folders => always at start\n        if (!a.parent && a.type !== 'folder' && !b.parent && b.type !== 'folder') {\n            if (a.id === b.id) return 0;\n            return a.id > b.id ? 1 : -1;\n        } else if (!a.parent && a.type !== 'folder') {\n            return -1;\n        } else if (!b.parent && b.type !== 'folder') {\n            return 1;\n        } else {\n            // common and global are always at the end\n            if ((a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) &&\n                (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global'))) {\n                if (a.id === b.id) return 0;\n                return a.id > b.id ? 1 : -1;\n            } else if (a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) {\n                return 1;\n            } else if (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global')) {\n                return -1;\n            } else {\n                if (a.id === b.id) return 0;\n                return a.id > b.id ? 1 : -1;\n            }\n        }\n    });\n\n    // Fill all index\n    result.forEach((item, i) => item.index = i);\n\n    let modified;\n    do {\n        modified = false;\n        // check if all parents exists\n        result.forEach(item => {\n            if (item.parent) {\n                const parent = result.find(it => it.id === item.parent);\n                if (!parent) {\n                    const parts = item.parent.split('.');\n                    parts.pop();\n                    result.push({\n                        id: item.parent,\n                        title: item.parent.replace(/^script\\.js./, ''),\n                        depth: parts.length - 2,\n                        type: 'folder',\n                        parent: parts.length > 2 ? parts.join('.') : null\n                    });\n                    modified = true;\n                }\n            }\n        });\n    } while(modified);\n\n    // Fill all parentIndex\n    result.forEach(item => {\n        if (item.parent) {\n            const parent = result.find(it => it.id === item.parent);\n            if (parent) {\n                item.parentIndex = parent.index;\n            }\n        }\n    });\n\n    return result;\n};\n\nclass SideDrawer extends React.Component {\n    constructor(props) {\n        super(props);\n\n        let expanded = window.localStorage ? window.localStorage.getItem('SideMenu.expanded') : '[]';\n        try {\n            expanded = JSON.parse(expanded) || [];\n        } catch (e) {\n            expanded = [];\n        }\n\n        this.inputRef = new React.createRef();\n\n        this.state = {\n            listItems: prepareList(props.scripts || {}),\n            expanded: expanded,\n            problems: [],\n            reorder: false,\n            theme: this.props.theme,\n            dragDepth: 0,\n            draggedId: null,\n            selected: window.localStorage ? window.localStorage.getItem('SideMenu.selected') || null : null,\n            creatingScript: false,\n            creatingFolder: false,\n            copingScript: '',\n            renaming: null,\n            deleting: null,\n            choosingType: null,\n            errorText: '',\n            instances: props.instances || [],\n            menuOpened: false,\n            menuAnchorEl: null,\n            searchMode: false,\n            expertMode: this.props.expertMode,\n            searchText: '',\n            width: this.props.width || 300,\n            typeFilter: window.localStorage ? window.localStorage.getItem('SideMenu.typeFilter') || '' : '', // blockly, js, ts\n            statusFilter: window.localStorage ? window.localStorage.getItem('SideMenu.statusFilter') || '' : '',\n            runningInstances: this.props.runningInstances || {},\n            scriptsHash: props.scriptsHash,\n        };\n\n        const newExp = this.ensureSelectedIsVisible();\n        if (newExp) {\n            this.state.expanded = newExp;\n        }\n\n        // debounce search process\n        this.filterTimer = null;\n\n        this.state.isAllZeroInstances = this.getIsAllZeroInstances();\n\n        this.problems = null; //cache\n        this.problemsTimer = null;\n        this.onProblemUpdatedBound = this.onProblemUpdated.bind(this);\n    }\n\n    readProblems(cb, tasks) {\n        if (!tasks) {\n            tasks = Object.keys(this.props.scripts);\n        }\n        if (!tasks || !tasks.length) {\n            cb && cb();\n        } else {\n            const id = tasks.shift();\n            if (this.props.scripts[id] &&\n                this.props.scripts[id].type === 'script' &&\n                this.props.scripts[id].common &&\n                this.props.scripts[id].common.enabled &&\n                !id.match(/^script\\.js\\.global\\./)\n            ) {\n                const instance = this.props.scripts[id].common.engine.split('.').pop();\n                const that = this; // sometimes lambda does not work\n                const _id = 'javascript.' + instance + '.scriptProblem.' + id.substring('script.js.'.length);\n\n                this.props.connection.getState(_id, (err, state) => {\n                    that.onProblemUpdated(_id, state);\n                    setTimeout(() => that.readProblems(cb, tasks), 0);\n                });\n            } else {\n                setTimeout(() => this.readProblems(cb, tasks), 0);\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.readProblems(() =>  {\n            this.props.instances.forEach(instance => {\n                this.props.connection.subscribeState('javascript.' + instance + '.scriptProblem.*', this.onProblemUpdatedBound);\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        this.props.instances.forEach(instance => {\n            this.props.connection.unsubscribeState('javascript.' + instance + '.scriptProblem.*', this.onProblemUpdatedBound);\n        });\n    }\n\n    onProblemUpdated(id, state) {\n        if (!state || !id) return;\n        id = 'script.js.' + id.replace(/^javascript\\.\\d+\\.scriptProblem\\./, '');\n\n        if (!this.problems) {\n            this.problems = JSON.parse(JSON.stringify(this.state.problems));\n        }\n        let changed = false;\n\n        if (state.val) {\n            if (this.problems.indexOf(id) === -1) {\n                this.problems.push(id);\n                changed = true;\n            }\n        } else {\n            const pos = this.problems.indexOf(id);\n            if (pos !== -1) {\n                this.problems.splice(pos, 1);\n                changed = true;\n            }\n        }\n\n        if (changed && !this.problemsTimer) {\n            this.problemsTimer = setTimeout(() => {\n                this.problemsTimer = null;\n                this.setState({problems: this.problems});\n                this.problems = null;\n            }, 300);\n        }\n    }\n\n    static filterListStatic(isSearchEnabled, listItems, searchMode, searchText, objects) {\n        listItems = JSON.parse(JSON.stringify(listItems));\n        let changed = false;\n        let newState = {listItems};\n        if (isSearchEnabled !== false && searchMode && searchText) {\n            const text = searchText.toLowerCase();\n            listItems.forEach(item => {\n                const id = item.title.toLowerCase();\n                item.filteredPartly = false;\n                let found = id.indexOf(text) !== -1;\n                if (!found && (objects && objects[item.id] && objects[item.id].common && objects[item.id].common.source)) {\n                    if (objects[item.id].common.engineType === 'Blockly') {\n                        const pos = objects[item.id].common.source.lastIndexOf('//');\n                        found = objects[item.id].common.source.substring(0, pos).toLowerCase().indexOf(text) !== -1;\n                    } else {\n                        found = objects[item.id].common.source.toLowerCase().indexOf(text) !== -1;\n                    }\n                }\n                if (found) {\n                    if (item.filtered) {\n                        item.filtered = false;\n                        changed = true;\n                    }\n                } else if (!item.filtered) {\n                    item.filtered = true;\n                    changed = true;\n                }\n            });\n\n            if (changed) {\n                // check that all parents of every non-filtered item are visible\n                for (let i = listItems.length - 1; i >= 0; i--) {\n                    const item = listItems[i];\n                    if (!item.filtered || item.filteredPartly) {\n                        let it = item;\n                        do {\n                            if (it.parent) {\n                                changed = true;\n                                listItems[it.parentIndex].filteredPartly = true;\n                            }\n                            it = it.parent ? listItems[it.parentIndex] : null;\n                        } while(it);\n                    }\n                }\n            }\n        } else {\n            listItems.forEach(item => {\n                if (item.filtered || item.filteredPartly) {\n                    item.filtered = false;\n                    item.filteredPartly = false;\n                    changed = true;\n                }\n            });\n            if (isSearchEnabled === false) {\n                newState.searchText = '';\n                newState.searchMode = false;\n                changed = true;\n            }\n        }\n\n        return changed ? newState : null;\n    }\n\n    filterList(isSearchEnabled, cb) {\n        const newState = SideDrawer.filterListStatic(\n            isSearchEnabled,\n            this.state.listItems,\n            this.state.searchMode,\n            this.state.searchText,\n            this.props.objects\n        );\n\n        if (newState) {\n            this.setState(newState, () => cb && cb());\n        } else if (cb) {\n            cb();\n        }\n    }\n\n    static ensureSelectedIsVisibleStatic(selected, expanded, listItems) {\n        expanded = JSON.parse(JSON.stringify(expanded));\n        let changed = false;\n\n        // ensure that the item is visible\n        let el = typeof selected === 'object' ? selected : listItems.find(it => it.id === selected);\n        do {\n            // eslint-disable-next-line\n            el = el && el.parent && listItems.find(it => it.id === el.parent);\n            if (el) {\n                if (expanded.indexOf(el.id) === -1) {\n                    expanded.push(el.id);\n                    changed = true;\n                }\n            }\n        } while(el);\n        return changed && expanded;\n    }\n\n    ensureSelectedIsVisible(selected, expanded) {\n        SideDrawer.ensureSelectedIsVisibleStatic(selected || this.state.selected, expanded || this.state.expanded, this.state.listItems);\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const newState = {};\n        let changed = false;\n        if (state.expertMode !== props.expertMode) {\n            changed = true;\n            newState.expertMode = props.expertMode;\n        }\n        if (state.scriptsHash !== props.scriptsHash && props.scripts) {\n            const listItems = prepareList(props.scripts || {});\n\n            newState.listItems = listItems;\n\n            if (state.searchText) {\n                const nState = SideDrawer.filterListStatic(true, listItems, state.searchMode, state.searchText, props.objects);\n                nState && Object.assign(newState, nState);\n            }\n\n            const isAllZeroInstances = SideDrawer.getIsAllZeroInstancesStatic(listItems, props.instances || []);\n\n            const newExp = SideDrawer.ensureSelectedIsVisibleStatic(state.selected, state.expanded, state.listItems);\n\n            newState.isAllZeroInstances = isAllZeroInstances;\n            if (newExp) {\n                newState.expanded = newExp;\n            }\n            changed = true;\n        }\n\n        if (state.width !== props.width) {\n            changed = true;\n            newState.width = props.width;\n        }\n        if (state.theme !== props.theme) {\n            changed = true;\n            newState.theme = props.theme;\n        }\n\n        if (props.selectId && state.selected !== props.selectId) {\n            const item = state.listItems.find(item => item.id === props.selectId);\n\n            if (!state.reorder && item) {\n                const expanded = SideDrawer.ensureSelectedIsVisibleStatic(item, state.expanded, state.listItems);\n                newState.selected = item.id;\n                if (expanded) {\n                    newState.expanded = expanded;\n                }\n                changed = true;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n            }\n        }\n\n        if (changed) {\n            return newState;\n        } else {\n            return null;\n        }\n    }\n\n    static getIsAllZeroInstancesStatic(listItems, instances) {\n        let isAllZeroInstances = !instances[0] && instances.length <= 1;\n\n        if (isAllZeroInstances) {\n            listItems.forEach(item => {\n                if (item.type !== 'folder' && item.instance !== 0) {\n                    isAllZeroInstances = false;\n                }\n            });\n        }\n        return isAllZeroInstances;\n    }\n\n    getIsAllZeroInstances(listItems, instances) {\n        listItems = listItems || this.state.listItems;\n        instances = instances || this.state.instances;\n        return SideDrawer.getIsAllZeroInstancesStatic(listItems || this.state.listItems, instances || this.state.instances);\n    }\n\n    saveExpanded(expanded) {\n        window.localStorage.setItem('SideMenu.expanded', JSON.stringify(expanded || this.state.expanded));\n    }\n\n    showError(err) {\n        this.setState({errorText: err});\n    }\n\n    onExpand(id, e) {\n        e && e.stopPropagation();\n        if (this.state.expanded.indexOf(id) === -1) {\n            const expanded = this.state.expanded.concat([id]);\n            this.setState({expanded});\n            this.saveExpanded(expanded);\n        }\n    }\n\n    onCollapse(id, e) {\n        e && e.stopPropagation();\n        const pos = this.state.expanded.indexOf(id);\n        if (pos !== -1) {\n            const expanded = this.state.expanded.concat([]);\n            expanded.splice(pos, 1);\n            if (this.state.selected && this.state.selected.startsWith(id + '.')) {\n                this.setState({expanded, selected: id});\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', id);\n            } else {\n                this.setState({expanded});\n            }\n            this.saveExpanded(expanded);\n        }\n    }\n\n    onDragEnd(result) {\n        // dropped outside the list\n        if (!result.destination) {\n            return;\n        }\n        let item = result.destination.index > result.source.index ? this.state.listItems[result.destination.index] : this.state.listItems[result.destination.index - 1];\n        while (item && (item.type !== 'folder' && item.parent)) {\n            item = this.state.listItems[item.parentIndex];\n        }\n        let parent = item ? item.id : 'script.js';\n        let newId = parent + '.' + result.draggableId.split('.').pop();\n        if (this.props.scripts[newId]) {\n            newId += '_' + I18n.t('copy');\n        }\n        this.props.onRename && this.props.onRename(result.draggableId, newId);\n    }\n\n    onDragStart(event) {\n        // fill the drag depth\n        this.setState({\n            dragDepth: this.state.listItems.find(i => i.id === event.draggableId).depth,\n            draggedId: event.draggableId\n        });\n    }\n\n    onDragUpdate = (update, provided) => {\n        if (!update.destination) return;\n        let item = this.state.listItems[update.destination.index - 1];\n        while (item && (item.type !== 'folder' || item.parent)) {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            this.setState({dragDepth: item.depth + 1});\n            console.log(`depth ${item.depth + 1}`);\n        } else {\n            console.log(`depth 0`);\n            this.setState({dragDepth: 0});\n        }\n    };\n\n    renderItemButtons(item, children) {\n        if (this.state.reorder) return null;\n        if (item.type !== 'folder') {\n            let color = item.enabled ? COLOR_RUN : COLOR_PAUSE;\n            if (item.enabled && this.state.problems.indexOf(item.id) !== -1) {\n                color = COLOR_PROBLEM;\n            }\n\n            return [\n                (<IconButton className={this.props.classes.iconButtons}\n                             onClick={e => {\n                                e.stopPropagation();\n                                this.props.onEnableDisable && this.props.onEnableDisable(item.id, !item.enabled)\n                             }}\n                            title={item.enabled ? I18n.t('Pause script') : I18n.t('Run script')}\n                            key=\"startStop\"\n                            style={{color}}>\n                            {item.enabled ? (<IconPause/>) : (<IconPlay/>)}\n                </IconButton>),\n                this.state.width > 350 ? (<IconButton\n                    key=\"delete\"\n                    title={I18n.t('Delete script')}\n                    disabled={item.id === 'script.js.global' || item.id === 'script.js.common'}\n                    onClick={e => this.onDelete(item, e)}><IconDelete/></IconButton>) : null,\n                (<IconButton key=\"openInEdit\" title={I18n.t('Edit script or just double click')} onClick={e => this.onEdit(item, e)}><IconDoEdit/></IconButton>),\n            ];\n        } else if (this.state.width > 350) {\n            if (item.id !== 'script.js' && item.id !== 'script.js.common' && item.id !== 'script.js.global' && (!children || !children.length)) {\n                return (<IconButton\n                    key=\"delete\"\n                    title={I18n.t('Delete folder')}\n                    disabled={item.id === 'script.js.global' || item.id === 'script.js.common'}\n                    onClick={e => this.onDelete(item, e)}><IconDelete/></IconButton>);\n            } else {\n                return null;\n            }\n        }\n    }\n\n    onDelete(item, e) {\n        e && e.stopPropagation();\n        return new Promise(resolve => {\n            if (typeof item !== 'object') {\n                this.setState({deleting: item});\n            } else {\n                this.setState({deleting: item.id});\n            }\n        });\n    }\n\n    onEdit(item, e) {\n        this.onClick(item, e);\n        this.props.onEdit && this.props.onEdit(item.id);\n    }\n\n    renderFolderButtons(item, children, isExpanded) {\n        if (this.state.reorder) {\n            if (item.type !== 'folder') {\n                return (<IconGrip className={this.props.classes.gripHandle}/>);\n            } else {\n                return (<div className={this.props.classes.noGripHandle}/>);\n            }\n        }\n        if (children && children.length) {\n            return (\n                <IconButton className={this.props.classes.expandButton}\n                            onClick={isExpanded ? e => this.onCollapse(item.id, e) : e => this.onExpand(item.id, e)}>\n                    {isExpanded ? (<IconCollapse fontSize=\"small\"/>) : (<IconExpand fontSize=\"small\"/>)}\n                </IconButton>\n            );\n        } else {\n            return (<div className={this.props.classes.expandButton}/>);\n        }\n    }\n\n    getTextStyle(item) {\n        if (!this.state.reorder && item.type !== 'folder') {\n            return {\n                //width: 130,\n                width: `calc(100% - ${this.state.width > 350 ? 245 : 197}px)`,\n                overflow: 'hidden',\n                whiteSpace: 'nowrap',\n                flex: 'none',\n                padding: '0 16px 0 0'\n            };\n        } else {\n            return {\n                whiteSpace: 'nowrap',\n                padding: '0 16px 0 0'\n            };\n        }\n    }\n\n    onClick(item, e) {\n        e && e.stopPropagation();\n        if (!this.state.reorder && item) {\n            const expanded = this.ensureSelectedIsVisible(item);\n            const newState = {selected: item.id};\n            if (expanded) {\n                newState.expanded = expanded;\n            }\n            this.setState(newState);\n            window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n        }\n    }\n\n    onDblClick(item, e) {\n        e && e.stopPropagation();\n        if (this.state.reorder) return;\n        if (item.type === 'folder') {\n            const isExpanded = this.state.expanded.indexOf(item.id) !== -1;\n            if (isExpanded) {\n                this.onCollapse(item.id);\n            } else {\n                this.onExpand(item.id);\n            }\n        } else {\n            this.onEdit(item);\n        }\n    }\n\n    isFilteredOut(item) {\n        if (item.filtered && !item.filteredPartly) return true;\n\n        if (this.state.typeFilter && item.type !== 'folder' && item.type !== this.state.typeFilter) {\n            return true;\n        }\n\n        if (this.state.statusFilter &&\n            item.type !== 'folder' &&\n            (\n                (this.state.statusFilter === 'running' && !item.enabled) ||\n                (this.state.statusFilter === 'paused' && item.enabled) ||\n                (this.state.statusFilter === 'problems' && (!item.enabled || this.state.problems.indexOf(item.id) === -1)))\n        ) {\n            return true;\n        }\n\n        return (item.id === 'script.js.global' && !this.state.expertMode);\n    }\n\n    renderOneItem(items, item) {\n        let childrenFiltered = (this.state.statusFilter || this.state.typeFilter) && items.filter(i => i.parent === item.id ? !this.isFilteredOut(i) : false);\n        let children = items.filter(i => i.parent === item.id);\n\n        if (this.isFilteredOut(item)) {\n            return;\n        }\n\n        if (item.type === 'folder' && (this.state.statusFilter || this.state.typeFilter) && !childrenFiltered.length) {\n            return;\n        }\n\n        const depthPx = this.state.reorder ?\n            8 + (this.state.draggedId === item.id ? this.state.dragDepth : item.depth) * Theme.menu.depthOffset :\n            item.depth * Theme.menu.depthOffset;\n\n        let title = item.title;\n\n        if (this.state.searchText) {\n            const pos = title.toLowerCase().indexOf(this.state.searchText.toLowerCase());\n            if (pos !== -1) {\n                title = [\n                    (<span key=\"first\">{title.substring(0, pos)}</span>),\n                    (<span key=\"second\" style={{color: 'orange'}}>{title.substring(pos, pos + this.state.searchText.length)}</span>),\n                    (<span key=\"third\">{title.substring(pos + this.state.searchText.length)}</span>),\n                ];\n            }\n        }\n\n        if (!this.state.isAllZeroInstances && item.type !== 'folder') {\n            title = [(<span key=\"instance\" title={I18n.t('Instance')} className={this.props.classes.instances}>[{item.instance}] </span>), (\n                <span key=\"title\">{title}</span>)];\n        }\n\n        const style = Object.assign({\n            marginLeft: depthPx,\n            cursor: item.type === 'folder' && this.state.reorder ? 'default' : 'inherit',\n            opacity: item.filteredPartly ? 0.5 : 1,\n            width: `calc(100% - ${depthPx}px)`\n        }, item.id === this.state.selected && !this.state.reorder ? Theme.colors.selected : {});\n\n        if (item.id === 'script.js.global' && item.id !== this.state.selected) {\n            style.color = '#00a200';\n        }\n\n        let isExpanded = false;\n        if (children && children.length) {\n            isExpanded = this.state.expanded.indexOf(item.id) !== -1;\n        }\n\n        let iconStyle = {};\n        if (item.id === 'script.js.global') {\n            iconStyle.color = '#356956';\n        } else if (item.id === 'script.js.common') {\n            iconStyle.color = '#4899e1';\n        }\n\n        const inner =\n            (<ListItem\n                key={item.id}\n                style={style}\n                className={(item.type === 'folder' ? this.props.classes.folder : this.props.classes.element) + ' ' + (this.state.reorder ? this.props.classes.reorder : '')}\n                onClick={e => this.onClick(item, e)}\n                onDoubleClick={e => this.onDblClick(item, e)}\n            >\n                {this.renderFolderButtons(item, children, isExpanded)}\n                <ListItemIcon>{item.type === 'folder' ? (isExpanded ? (<IconFolderOpened style={iconStyle}/>) : (<IconFolder style={iconStyle}/>)) : (\n                    <img className={this.props.classes.scriptIcon} alt={item.type} src={images[item.type] || images.def}/>)}</ListItemIcon>\n                <ListItemText\n                    classes={{primary: item.id === this.state.selected && !this.state.reorder ? this.props.classes.selected : undefined}}\n                    style={this.getTextStyle(item)} primary={(<span>{title}{(childrenFiltered && childrenFiltered.length) || children.length ? (<span className={this.props.classes.childrenCount}>{childrenFiltered && childrenFiltered.length !== children.length ? `${childrenFiltered.length}(${children.length})` : children.length}</span>) : null}</span>)}/>\n                <ListItemSecondaryAction>{this.renderItemButtons(item, children)}</ListItemSecondaryAction>\n            </ListItem>);\n\n        const result = [this.state.reorder ? (\n            <Draggable key={item.id} draggableId={item.id} index={item.index} isDragDisabled={item.type === 'folder'}>\n                {(provided, snapshot) => (\n                    <div ref={provided.innerRef}\n                         {...provided.draggableProps}\n                         {...provided.dragHandleProps}\n                         style={getItemStyle(\n                             snapshot.isDragging,\n                             provided.draggableProps.style\n                         )}>\n                        {inner}\n                    </div>\n                )}\n            </Draggable>) : inner];\n\n        if (children && (this.state.reorder || this.state.expanded.indexOf(item.id) !== -1)) {\n            children.forEach(it => result.push(this.renderOneItem(items, it)));\n        }\n        return result;\n    }\n\n    renderAllItems(items, dragging) {\n        const result = [];\n        items.forEach(item => !item.parent && result.push(this.renderOneItem(items, item, dragging)));\n\n        return (<List dense={true} disablePadding={true}>{result}</List>);\n    }\n\n    onAddNew(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = 'script.js';\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({choosingType: true});\n    }\n\n    onCopy(e, id) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === id);\n        let parent = 'script.js';\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({copingScript: id});\n    }\n\n    onAddNewFolder(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = 'script.js';\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({creatingFolder: true});\n    }\n\n    onRename(e) {\n        e && e.stopPropagation();\n        this.setState({renaming: this.state.selected});\n    }\n\n    getUniqueName(copyId) {\n        let i = 1;\n        let word = I18n.t('Script') + ' ';\n        if (copyId) {\n            let name = getObjectName(copyId, this.props.objects[copyId]);\n            const m = name.match(/\\d+$/);\n            if (m) {\n                word = name.replace(/\\d+$/, '');\n                i = parseInt(m[0], 10) + 1;\n            } else {\n                word = name;\n            }\n        }\n\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + word.replace(/\\s/g, '_') + i)) {\n            i++;\n        }\n        /*ignore jslint end*/\n        return word + i;\n    }\n\n    getUniqueFolderName() {\n        let i = 1;\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + I18n.t('Folder') + '_' + i)) {\n            i++;\n        }\n        return I18n.t('Folder') + ' ' + i;\n    }\n\n    onCloseMenu(cb) {\n        this.setState({menuOpened: false, menuAnchorEl: null, menuAnchorFilterEl: null}, cb);\n    }\n\n    getFilterBadge() {\n        return [\n            this.state.statusFilter === true && (<IconPlay className={this.props.classes.filterIcon} style={{color: COLOR_RUN}}/>),\n            this.state.statusFilter === false && (<IconPause className={this.props.classes.filterIcon} style={{color: COLOR_PAUSE}}/>),\n            this.state.typeFilter === 'Blockly' && ('Bl'),\n            this.state.typeFilter === 'Javascript/js' && ('JS'),\n            this.state.typeFilter === 'TypeScript/ts' && ('TS'),\n        ]\n    }\n\n    getMainMenu(children, selectedItem) {\n        return (<Menu\n            key=\"menu\"\n            id=\"long-menu\"\n            anchorEl={this.state.menuAnchorEl}\n            open={this.state.menuOpened}\n            onClose={() => this.setState({menuOpened: false, menuAnchorEl: null})}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                    //width: 200,\n                },\n            }}\n        >\n            {this.state.width <= 350 ? (<MenuItem\n                key=\"deleted\"\n                disabled={!this.state.selected || this.state.selected === 'script.js.global' || this.state.selected === 'script.js.common' || (children && children.length)}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    if (this.state.listItems.find(item => item.parent === this.state.selected)) {\n                        this.showError(I18n.t('Cannot delete non empty item!'));\n                        return;\n                    }\n\n                    this.setState({menuOpened: false, menuAnchorEl: null}, () =>\n                        this.onDelete(this.state.selected).then(() => {}));\n                }}><IconDelete className={this.props.classes.iconDropdownMenu}  style={{color: 'red'}}/>{I18n.t('Delete')}\n            </MenuItem>) : null}\n            <MenuItem key=\"expertMode\" selected={this.state.expertMode}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.onCloseMenu(() =>\n                              this.props.onExpertModeChange && this.props.onExpertModeChange(!this.state.expertMode));\n                      }}><IconExpert className={this.props.classes.iconDropdownMenu} style={{color: 'orange'}}/>{I18n.t('Expert mode')}\n            </MenuItem>\n            {this.props.onExport && (<MenuItem key=\"exportAll\"\n                                               onClick={event => {\n                                                   event.stopPropagation();\n                                                   event.preventDefault();\n                                                   this.onCloseMenu(() => this.props.onExport());\n                                               }}><IconExport className={this.props.classes.iconDropdownMenu} />{I18n.t('Export all scripts')}\n            </MenuItem>)}\n            {this.props.onImport && (<MenuItem key=\"import\"\n                                               onClick={event => {\n                                                   event.stopPropagation();\n                                                   event.preventDefault();\n                                                   this.onCloseMenu(() => this.props.onImport());\n                                               }}><IconImport className={this.props.classes.iconDropdownMenu} />{I18n.t('Import scripts')}\n            </MenuItem>)}\n            {this.props.onThemeChange && (<MenuItem key=\"dark\"\n                                                    onClick={event => {\n                                                        //event.stopPropagation();\n                                                        //event.preventDefault();\n                                                        this.onCloseMenu(() =>\n                                                            this.props.onThemeChange(this.state.theme === 'dark' ? 'light' : 'dark'));\n                                                    }}><IconDark className={this.props.classes.iconDropdownMenu} />{this.state.theme === 'dark' ? I18n.t('Light style') : I18n.t('Dark style')}\n            </MenuItem>)}\n            {this.props.onAddNew && (<MenuItem key=\"copy\"\n                                               disabled={!this.state.selected || !selectedItem || selectedItem.type === 'folder'}\n                                               onClick={event => {\n                                                   const selected = this.state.selected;\n                                                   this.onCloseMenu(() => this.onCopy(event, selected))\n                                               }}>\n                <IconCopy className={this.props.classes.iconDropdownMenu} />{I18n.t('Copy script')}\n            </MenuItem>)}\n        </Menu>);\n    }\n\n    // render menu and toolbar\n    getToolbarButtons() {\n        const result = [];\n        const classes = this.props.classes;\n        if (this.state.searchMode) {\n            result.push((<RootRef key=\"searchInputRoof\" rootRef={this.inputRef}><Input\n                key=\"searchInput\"\n                value={this.state.searchText}\n                className={classes.toolbarSearch}\n                ref={this.inputRef}\n                autoFocus={true}\n                placeholder={I18n.t('Search...')}\n                onChange={e => {\n                    this.setState({searchText: e.target.value});\n                    this.filterTimer && clearTimeout(this.filterTimer);\n                    this.filterTimer = setTimeout(() => {\n                        this.filterTimer = null;\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    }, 400);\n                }}\n            /></RootRef>));\n            result.push((<IconButton\n                key=\"disableSearch\"\n                className={classes.toolbarButtons}\n                style={{float: 'right'}}\n                title={I18n.t('End search mode')}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.filterList(false, () => this.props.onSearch && this.props.onSearch(this.state.searchText));\n                }}\n            ><IconClose /></IconButton>));\n            this.state.searchText && result.push((<IconButton\n                key=\"cleanSearch\"\n                mini=\"true\"\n                title={I18n.t('Clear search input')}\n                className={classes.toolbarButtons}\n                style={{marginTop: 7, float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({searchText: ''}, () => {\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    });\n                }}\n            ><IconClear fontSize=\"small\"/></IconButton>));\n        } else {\n            if (!this.state.reorder) {\n                // Open Menu\n                result.push((\n                    <IconButton\n                        key=\"menuButton\"\n                        aria-label=\"More\"\n                        aria-owns={this.state.menuOpened ? 'long-menu' : undefined}\n                        title={I18n.t('Menu')}\n                        aria-haspopup=\"true\"\n                        onClick={event => {\n                            event.stopPropagation();\n                            event.preventDefault();\n                            this.setState({menuOpened: true, menuAnchorEl: event.currentTarget});\n                        }}\n                    >\n                        {/*<Badge className={classes.margin} badgeContent={this.getFilterBadge()}>*/}\n                            <IconMore />\n                        {/*</Badge>*/}\n                    </IconButton>));\n\n                const selectedItem = this.state.listItems.find(it => it.id === this.state.selected);\n                let children;\n                if (selectedItem && this.state.width <= 350 && selectedItem.type === 'folder') {\n                    children = this.state.listItems.filter(i => i.parent === this.state.selected);\n                }\n\n                // Menu\n                result.push(this.getMainMenu(children, selectedItem));\n\n                // New Script\n                result.push((<IconButton\n                    key=\"new-script\"\n                    title={I18n.t('Create new script')}\n                    className={classes.toolbarButtons}\n                    style={{color: this.state.reorder ? 'red' : 'inherit'}}\n                    onClick={e => this.onAddNew(e)}\n                ><IconAdd/></IconButton>));\n\n                // New Folder\n                result.push((<IconButton\n                    key=\"new-folder\"\n                    title={I18n.t('Create new folder')}\n                    className={classes.toolbarButtons}\n                    style={{color: this.state.reorder ? 'red' : 'inherit'}}\n                    onClick={() => this.onAddNewFolder()}\n                ><IconAddFolder/></IconButton>));\n            }\n\n            // Search\n            result.push((<IconButton\n                key=\"search\"\n                disabled={this.state.reorder}\n                className={classes.toolbarButtons}\n                title={I18n.t('Search in scripts')}\n                style={{float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({searchMode: true});\n                }}\n            ><IconFind/></IconButton>));\n\n            // Reorder button\n            result.push((<IconButton\n                key=\"reorder\"\n                title={I18n.t('Reorder scripts in folders')}\n                className={classes.toolbarButtons}\n                style={{color: this.state.reorder ? 'red' : 'inherit', float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({reorder: !this.state.reorder, draggedId: ''});\n                }}\n            ><IconReorder/></IconButton>));\n\n            if (!this.state.reorder && this.state.selected && this.state.selected !== 'script.js.global' && this.state.selected !== 'script.js.common') {\n                // Rename\n                result.push((<IconButton className={classes.toolbarButtons}\n                                         title={I18n.t('Rename')}\n                                         key=\"rename\"\n                                         onClick={e => this.onRename(e)}\n                ><IconEdit/></IconButton>));\n\n\n                // const selectedItem = this.state.listItems.find(i => i.id === this.state.selected);\n                // if (selectedItem && selectedItem.type !== 'folder') {\n                //     // Restart\n                //     result.push((<IconButton className={classes.toolbarButtons}\n                //          key=\"restart\"\n                //          onClick={e => {\n                //              e.stopPropagation();\n                //              this.props.onEnableDisable && this.props.onEnableDisable();\n                //          }}\n                //     ><IconRestart/></IconButton>));\n                // }\n            }\n\n        }\n        return result;\n    }\n\n    getFolders() {\n        const folders = [{id: 'script.js', name: I18n.t('Root folder')}];\n        this.state.listItems.forEach(item => item.type === 'folder' && folders.push({id: item.id, name: item.title}));\n        return folders;\n    }\n\n    onCollapseAll() {\n        this.setState({expanded: []});\n        this.saveExpanded([]);\n    }\n\n    onExpandAll() {\n        const expanded = [];\n        this.state.listItems.forEach(item => {\n            if (this.state.listItems.find(it => it.parent === item.id)) {\n                expanded.push(item.id);\n            }\n        });\n        this.setState({expanded});\n        this.saveExpanded(expanded);\n    }\n\n    getBottomButtons() {\n        return [\n            (<IconPause\n                key=\"filterByRunning\"\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_RUN, opacity: this.state.statusFilter === 'running' ? 1 : 0.3, background: this.state.statusFilter === 'running' ? 'gray' : 'inherit'}}\n                title={I18n.t('Show only running scripts')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    const statusFilter = this.state.statusFilter === 'running' ? '' : 'running';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />),\n            (<IconPlay\n                key=\"filterByPaused\"\n                title={I18n.t('Show only paused scripts')}\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_PAUSE, opacity: this.state.statusFilter === 'paused' ? 1 : 0.3, background: this.state.statusFilter === 'paused' ? 'gray' : 'inherit'}}\n                onClick={event => {\n                    const statusFilter = this.state.statusFilter === 'paused' ? '' : 'paused';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />),\n            (<IconPause\n                key=\"filterByProblem\"\n                title={I18n.t('Show only scripts with problems')}\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_PROBLEM, opacity: this.state.statusFilter === 'problems' ? 1 : 0.3, background: this.state.statusFilter === 'problems' ? 'gray' : 'inherit'}}\n                onClick={event => {\n                    const statusFilter = this.state.statusFilter === 'problems' ? '' : 'problems';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />),\n            (<img\n                key=\"filterBlockly\"\n                className={this.props.classes.footerButtons}\n                alt=\"Blockly\"\n                style={{opacity: this.state.typeFilter === 'Blockly' ? 1 : 0.3, background: this.state.typeFilter === 'Blockly' ? 'gray' : 'inherit'}}\n                src={images.Blockly || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Blockly' ? '' : 'Blockly';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({typeFilter});\n                }}\n            />),\n            (<img\n                key=\"filterJS\"\n                className={this.props.classes.footerButtons}\n                alt=\"Javascript\"\n                style={{opacity: this.state.typeFilter === 'Javascript/js' ? 1 : 0.3, background: this.state.typeFilter === 'Javascript/js' ? 'gray' : 'inherit'}}\n                src={images['Javascript/js'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Javascript/js' ? '' : 'Javascript/js';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({typeFilter});\n                }}\n            />),\n            (<img\n                key=\"filterTS\"\n                className={this.props.classes.footerButtons}\n                alt=\"TypeScript\"\n                style={{opacity: this.state.typeFilter === 'TypeScript/ts' ? 1 : 0.3, background: this.state.typeFilter === 'TypeScript/ts' ? 'gray' : 'inherit'}}\n                src={images['TypeScript/ts'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'TypeScript/ts' ? '' : 'TypeScript/ts';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                this.setState({typeFilter});\n                }}\n            />),\n            (<IconExpandAll   key=\"expandAll\" className={this.props.classes.footerButtons + ' ' + this.props.classes.footerButtonsRight} title={I18n.t('Expand all')} onClick={() => this.onExpandAll()}/>),\n            this.state.expanded.length ? (<IconCollapseAll key=\"collapseAll\" className={this.props.classes.footerButtons + ' ' + this.props.classes.footerButtonsRight} title={I18n.t('Collapse all')} onClick={() => this.onCollapseAll()}/>) : null,\n        ];\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        const renamingItem = this.state.renaming && this.state.listItems.find(i => i.id === this.state.renaming);\n        const copingItem = this.state.copingScript && this.props.objects[this.state.copingScript];\n\n        return [(\n            <Drawer\n                key=\"drawer\"\n                variant=\"permanent\"\n                className={classes.menu}\n                classes={{paper: classes.drawerPaper}}\n                anchor='left'\n                onClick={() => this.onClick({id: ''})}\n            >\n                <div className={classes.toolbar}>\n                    {this.getToolbarButtons()}\n                </div>\n                <Divider/>\n                <DragDropContext\n                    onDragStart={e => this.onDragStart(e)}\n                    onDragEnd={e => this.onDragEnd(e)}\n                    onDragUpdate={e => this.onDragUpdate(e)}\n                >\n                    <Droppable droppableId=\"droppable\">\n                        {(provided, snapshot) => (\n                            <div ref={provided.innerRef}\n                                //style={getListStyle(snapshot.isDraggingOver)}\n                                 className={classes.innerMenu}>\n                                {this.renderAllItems(this.state.listItems)}\n                            </div>\n                        )}\n                    </Droppable>\n                </DragDropContext>\n                <Divider/>\n                <div className={classes.footer}>{\n                    this.getBottomButtons()\n                }</div>\n            </Drawer>),\n            renamingItem ? (<DialogRename\n                key=\"dialog-rename\"\n                name={renamingItem.title}\n                title={I18n.t('Rename')}\n                id={this.state.renaming}\n                folder={renamingItem.type === 'folder'}\n                instance={renamingItem.instance}\n                instances={this.props.instances}\n                onClose={() => this.setState({renaming: false})}\n                onRename={(oldId, newName, newId, newInstance) => this.props.onRename && this.props.onRename(oldId, newName, newId, newInstance)}\n            />) : null,\n            this.state.deleting ? (<DialogDelete\n                key=\"dialog-delete\"\n                name={this.state.listItems.find(i => i.id === this.state.deleting).title}\n                id={this.state.deleting}\n                onClose={() => this.setState({deleting: false})}\n                onDelete={id => this.props.onDelete && this.props.onDelete(id)}\n            />) : null,\n            this.state.choosingType ? (<DialogAddNewScript\n                key=\"dialog-script-type\"\n                onClose={type => {\n                    this.setState({choosingType: false});\n                    type && this.setState({creatingScript: type})\n                }}\n            />) : null,\n            this.state.creatingScript ? (<DialogNew\n                key=\"dialog-new-script\"\n                onClose={() => this.setState({creatingScript: false})}\n                title={I18n.t('Create new script')}\n                name={this.getUniqueName()}\n                parents={this.getFolders()}\n                folder={false}\n                existingItems={this.state.listItems.map(item => item.id)}\n                instance={this.props.instances[0] || 0}\n                instances={this.props.instances}\n                type={this.state.creatingScript}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) => {\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type);\n                }}\n            />) : null,\n            this.state.copingScript ? (<DialogNew\n                key=\"dialog-copy-script\"\n                onClose={() => this.setState({copingScript: ''})}\n                title={I18n.t('Copy script')}\n                name={this.getUniqueName(this.state.copingScript)}\n                parents={this.getFolders()}\n                folder={false}\n                instance={parseInt((copingItem && copingItem.common && copingItem.common.engine && copingItem.common.engine.split('.').pop()) || 0, 10)}\n                instances={this.props.instances}\n                type={(copingItem && copingItem.common && copingItem.common.engineType) || 'Javascript/js'}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) => {\n                    const copingItem = this.state.copingScript && this.props.objects[this.state.copingScript];\n                    if (copingItem && copingItem.common) {\n                        // disable script by coping\n                        copingItem.common.enabled = false;\n                    }\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type, copingItem && copingItem.common && copingItem.common.source);\n                }}\n            />) : null,\n            this.state.creatingFolder ? (<DialogNew\n                key=\"dialog-new-folder\"\n                onClose={() => this.setState({creatingFolder: false})}\n                title={I18n.t('Create new folder')}\n                parents={this.getFolders()}\n                name={this.getUniqueFolderName()}\n                parent={this.parent}\n                onAdd={(id, name) => {\n                    this.props.onAddNew && this.props.onAddNew(id, name, true);\n                }}\n            />) : null,\n            this.state.errorText ? (<DialogError onClose={() => this.setState({errorText: ''})} text={this.state.errorText}/>) : null\n        ];\n    }\n}\n\nSideDrawer.propTypes = {\n    classes: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    scripts: PropTypes.object.isRequired,\n    scriptsHash: PropTypes.number,\n    onEdit: PropTypes.func,\n    selectId: PropTypes.string,\n    expertMode: PropTypes.bool,\n    onExpertModeChange: PropTypes.func,\n    onEnableDisable: PropTypes.func,\n    runningInstances: PropTypes.object,\n    connection: PropTypes.object,\n    theme: PropTypes.string,\n    onSelect: PropTypes.func,\n    onAddNew: PropTypes.func,\n    onRename: PropTypes.func,\n    onDelete: PropTypes.func,\n    onImport: PropTypes.func,\n    onExport: PropTypes.func,\n    objects: PropTypes.object,\n    onSearch: PropTypes.func,\n    onThemeChange: PropTypes.func,\n    width: PropTypes.number\n};\n\nexport default withStyles(styles)(SideDrawer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n\nimport IconButton from '@material-ui/core/IconButton';\nimport {MdDeleteForever as IconDelete} from 'react-icons/md';\nimport {MdVerticalAlignBottom as IconBottom} from 'react-icons/md';\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport {withStyles} from '@material-ui/core/styles/index';\n\n// replace later with MdHorizontalSplit and MdVerticalSplit\nconst IconVerticalSplit   = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAACFJREFUeAFjAIJRwP////8PYIKWHCigNQdKj/pn1D+jAABTG16wVQqVpQAAAABJRU5ErkJggg==';\nconst IconHorizontalSplit = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAABtJREFUeAFjAIJRwP8fCj7QkENn/4z6Z5QzCgBjbWaoyx1PqQAAAABJRU5ErkJggg==';\n\nfunction getTimeString(d) {\n    let text;\n    let i = d.getHours();\n    if (i < 10) i = '0' + i.toString();\n    text = i + ':';\n\n    i = d.getMinutes();\n    if (i < 10) i = '0' + i.toString();\n    text += i + ':';\n    i = d.getSeconds();\n    if (i < 10) i = '0' + i.toString();\n    text += i + '.';\n    i = d.getMilliseconds();\n    if (i < 10) {\n        i = '00' + i.toString();\n    } else if (i < 100) {\n        i = '0' + i.toString();\n    }\n    text += i;\n    return text;\n}\nconst TOOLBOX_WIDTH = 34;\n\nconst styles = theme => ({\n    logBox: {\n        width: '100%',\n        height: '100%',\n        position: 'relative',\n        overflow: 'hidden'\n    },\n    logBoxInner: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        width: `calc(100% - ${TOOLBOX_WIDTH}px)`,\n        height: '100%',\n        marginLeft: TOOLBOX_WIDTH,\n        overflow: 'auto',\n        position: 'relative'\n    },\n    info: {\n        background: theme.palette.type === 'dark' ? 'darkgrey' : 'lightgrey',\n        color: theme.palette.type === 'dark' ?  'black' : 'black'\n    },\n    error: {\n        background: '#FF0000',\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    warn: {\n        background: '#FF8000',\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    debug: {\n        background: 'gray',\n        opacity: 0.8,\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    silly: {\n        background: 'gray',\n        opacity: 0.6,\n        color: theme.palette.type === 'dark' ? 'black' : 'white'\n    },\n    table: {\n        fontFamily: 'monospace',\n        width: '100%',\n\n    },\n    toolbox: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        marginLeft: 2,\n        width: TOOLBOX_WIDTH,\n        height: '100%',\n        boxShadow: '2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0px rgba(0, 0, 0, 0.14), 1px 0px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    trTime: {\n        width: 90\n    },\n    trSeverity: {\n        width: 40,\n        fontWeight: 'bold'\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 4\n    },\n    layoutIcon: {\n        width: 24,\n        height: 24,\n        background: theme.palette.type === 'dark' ? '#9d9d9d' : undefined,\n        borderRadius: theme.palette.type === 'dark' ? 30 : undefined,\n    },\n});\n\nfunction copyToClipboard(str) {\n    const el = window.document.createElement('textarea');\n    el.value = str;\n    window.document.body.appendChild(el);\n    el.select();\n    window.document.execCommand('copy');\n    window.document.body.removeChild(el);\n}\n\nfunction paddingMs(ms) {\n    if (ms < 10) return '00' + ms;\n    if (ms < 100) return '0' + ms;\n    return ms;\n}\n\nlet gText = {};\n\nclass Log extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            lines: {},\n            goBottom: true,\n            selected: null,\n            editing: this.props.editing || []\n        };\n        this.lastIndex = null;\n        this.messagesEnd = React.createRef();\n        this.logHandlerBound = this.logHandler.bind(this);\n    }\n\n    generateLine(message) {\n        return (<tr key={'tr_' + message.ts} className={this.props.classes[message.severity]}>\n            <td key=\"tdTime\" className={this.props.classes.trTime}>{getTimeString(new Date(message.ts))}</td>\n            <td key=\"tdSeverity\" className={this.props.classes.trSeverity}>{message.severity}</td>\n            <td key=\"tdMessage\">{message.message}</td>\n        </tr>);\n    }\n\n    scrollToBottom() {\n        this.messagesEnd && this.messagesEnd.current && this.messagesEnd.current.scrollIntoView({behavior: 'smooth'});\n    }\n    logHandler(message) {\n        let allLines = this.state.lines;\n        const selected = this.state.editing.find(id => message.message.indexOf(id) !== -1);\n        if (!selected) return;\n\n        let lines = allLines[selected] || [];\n        let text = gText[selected] || [];\n\n        lines.push(this.generateLine(message));\n        let severity = message.severity;\n        if (severity === 'info' || severity === 'warn') {\n            severity += ' ';\n        }\n        const date = new Date(message.ts);\n        text.push(`${date.toLocaleString()}.${paddingMs(date.getMilliseconds())}\\t[${severity}]: ${message.message}`);\n        if (lines.length > 300) {\n            lines.splice(0, lines.length - 300);\n            text.splice(0, lines.length - 300);\n        }\n        gText[selected] = text;\n        allLines[selected] = lines;\n\n        this.setState({lines: allLines});\n    }\n\n    componentDidMount() {\n        this.props.connection.registerLogHandler(this.logHandlerBound);\n    }\n\n    componentWillUnmount() {\n        this.props.connection.unregisterLogHandler(this.logHandlerBound);\n    }\n\n    componentDidUpdate() {\n        this.state.goBottom && this.scrollToBottom();\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        let changed = false;\n        let newState = {};\n\n        if (props.selected !== state.selected) {\n            let selected = props.selected;\n            let allLines = state.lines;\n            allLines[selected] = allLines[selected] || [];\n            gText[selected] = gText[selected] || [];\n            newState.selected = selected;\n            changed = true;\n        }\n\n        if (JSON.stringify(props.editing) !== JSON.stringify(state.editing)) {\n            const editing = JSON.parse(JSON.stringify(props.editing));\n            let allLines = state.lines;\n\n            for (const id in gText) {\n                if (gText.hasOwnProperty(id)) {\n                    if (editing.indexOf(id) === -1) {\n                        delete gText[id];\n                        delete allLines[id];\n                    }\n                }\n            }\n\n            newState.editing = editing;\n        }\n        return changed ? newState : null;\n    }\n\n    onCopy() {\n        copyToClipboard((gText[this.state.selected] || []).join('\\n'));\n    }\n\n    clearLog() {\n        let allLines = this.state.lines;\n        if (allLines[this.state.selected]) {\n            allLines[this.state.selected] = [];\n        }\n        if (gText[this.state.selected]) {\n            gText[this.state.selected] = [];\n        }\n        this.setState({lines: allLines});\n    }\n\n    render() {\n        const lines = this.state.selected && this.state.lines[this.state.selected];\n        return (\n            <div className={this.props.classes.logBox}>\n                <div className={this.props.classes.toolbox} key=\"toolbox\">\n                    <IconButton className={this.props.classes.iconButtons} onClick={() => this.setState({goBottom: !this.state.goBottom})} color={this.state.goBottom ? 'secondary' : ''}><IconBottom/></IconButton>\n                    {lines && lines.length ? (<IconButton className={this.props.classes.iconButtons} onClick={() => this.clearLog()}><IconDelete/></IconButton>) : null}\n                    {lines && lines.length ? (<IconButton className={this.props.classes.iconButtons} onClick={() => this.onCopy()}><IconCopy/></IconButton>) : null}\n                    {this.props.onLayoutChange ? (<IconButton className={this.props.classes.iconButtons} onClick={() => this.props.onLayoutChange()} title={I18n.t('Change layout')}><img className={this.props.classes.layoutIcon} alt=\"split\" src={this.props.verticalLayout ? IconVerticalSplit : IconHorizontalSplit} /></IconButton>) : null}\n                </div>\n                {this.state.selected && lines && lines.length ?\n                    (<div className={this.props.classes.logBoxInner} key=\"logList\">\n                        <table key=\"logTable\" className={this.props.classes.table}><tbody>{lines}</tbody></table>\n                        <div key=\"logScrollPoint\" ref={this.messagesEnd} style={{float: 'left', clear: 'both'}}/>\n                    </div>) :\n                    (<div key=\"logList\" className={this.props.classes.logBoxInner} style={{paddingLeft: 10}}>{I18n.t('Log outputs')}</div>)\n                }\n            </div>\n        );\n    }\n}\n\nLog.propTypes = {\n    selected: PropTypes.string,\n    onLayoutChange: PropTypes.func,\n    verticalLayout: PropTypes.bool\n};\n\nexport default withStyles(styles)(Log);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Fab from '@material-ui/core/Fab';\n\nimport {MdGTranslate as IconNoCheck} from 'react-icons/md';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nfunction isIdOfGlobalScript(id) {\n    return /^script\\.js\\.global\\./.test(id);\n}\nlet index = 0;\nclass ScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: 'current',\n            isDark: props.isDark || false,\n            language: props.language || 'javascript',\n            readOnly: props.readOnly || false,\n            alive: true,\n            check: false,\n            searchText: this.props.searchText || ''\n        };\n        this.monacoDiv = null; //ref\n        this.editor = null;\n        this.monaco = window.monaco;\n        this.insert = '';\n        this.originalCode = props.code || '';\n        this.globalTypingHandles  = [];\n        this.typings = {}; // TypeScript declarations\n        this.lastSearch = '';\n    }\n\n    waitForMonaco(cb) {\n        if (!this.monaco) {\n            this.monaco = window.monaco;\n            this.monacoCounter = this.monacoCounter || 0;\n            this.monacoCounter++;\n            if (!this.monaco && this.monacoCounter < 20) {\n                console.log('wait for monaco loaded');\n                return setTimeout(() => this.waitForMonaco(cb), 200);\n            } else if (this.monacoCounter >= 20) {\n                console.error('Cannot load monaco!');\n            }\n        } else {\n            cb && cb();\n        }\n    }\n\n    componentDidMount() {\n        if (!this.monaco) {\n            this.monaco = window.monaco;\n            if (!this.monaco) {\n                console.log('wait for monaco loaded');\n                return this.waitForMonaco(() => this.componentDidMount());\n            }\n        }\n        if (!this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(() => this.editor.getModel().getValueInRange(this.editor.getSelection()));\n            // For some reason we have to get the original compiler options\n            // and assign new properties one by one\n            const compilerOptions = this.monaco.languages.typescript.typescriptDefaults['getCompilerOptions']();\n            compilerOptions.target = this.monaco.languages.typescript.ScriptTarget.ES2015;\n            compilerOptions.allowJs = true;\n            compilerOptions.checkJs = this.props.checkJs !== false;\n            compilerOptions.noLib = true;\n            compilerOptions.lib = [];\n            compilerOptions.moduleResolution = this.monaco.languages.typescript.ModuleResolutionKind.NodeJs;\n            this.monaco.languages.typescript.typescriptDefaults.setCompilerOptions(compilerOptions);\n\n            this.setTypeCheck(false);\n\n            // Create the editor instances\n            this.editor = this.monaco.editor.create(this.monacoDiv, {\n                lineNumbers: 'on',\n                scrollBeyondLastLine: false,\n                automaticLayout: true\n            });\n\n            this.editor.onDidChangeModelContent(e =>\n                this.onChange(this.editor.getValue()));\n\n            // Load typings for the JS editor\n            /** @type {string} */\n            let scriptAdapterInstance = this.props.connection.getScripts().instances[0];\n            if (scriptAdapterInstance || scriptAdapterInstance === 0) {\n                this.props.connection.sendTo('javascript.' + scriptAdapterInstance, 'loadTypings', null, result => {\n                    this.setState({alive: true, check: true});\n                    this.setTypeCheck(true);\n                    if (result.typings) {\n                        this.typings = result.typings;\n                        this.setEditorTypings();\n                    } else {\n                        console.error(`failed to load typings: ${result.error}`);\n                    }\n                });\n            }\n            this.editor.addCommand(this.monaco.KeyMod.CtrlCmd | this.monaco.KeyCode.KEY_S, () =>\n                this.onForceSave());\n\n            setTimeout(() => this.highlightText(this.state.searchText));\n        }\n        const options = {\n            selectOnLineNumbers: true,\n            scrollBeyondLastLine: false,\n            automaticLayout: true,\n            readOnly: this.state.readOnly,\n            language: this.state.language,\n            isDark: this.state.isDark\n        };\n        this.setEditorOptions(options);\n        this.editor.focus();\n        this.editor.setValue(this.originalCode);\n    }\n\n    /**\n     * Sets some options of the code editor\n     * @param {object} options The editor options to change\n     * @param {Partial<{readOnly: boolean, lineWrap: boolean, language: EditorLanguage, typeCheck: boolean}>} options\n     */\n    setEditorOptions(options) {\n        if (!options) return;\n        if (options.language) this.setEditorLanguage(options.language);\n        if (options.readOnly !== undefined) this.editor.updateOptions({readOnly: options.readOnly});\n        if (options.lineWrap !== undefined) this.editor.updateOptions({wordWrap: options.lineWrap ? 'on' : 'off'});\n        if (options.typeCheck !== undefined) this.setTypeCheck(options.typeCheck);\n        if (options.isDark !== undefined) this.monaco.editor.setTheme(options.isDark ? 'vs-dark' : 'vs');\n    }\n\n    componentWillUnmount() {\n        if (this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(null);\n            this.editor.dispose();\n            this.editor = null;\n        }\n    }\n\n    /** @typedef {\"javascript\" | \"typescript\" | \"coffee\"} EditorLanguage */\n\n    /**\n     * Sets the language of the code editor\n     * @param {monaco.editor.IStandaloneCodeEditor} editorInstance The editor instance to change the options for\n     * @param {EditorLanguage} language\n     */\n    setEditorLanguage(language) {\n        // we need to recreate the model when changing languages,\n        // so remember its settings\n        const model = this.editor.getModel();\n        const code = model.getValue();\n        const uri = model.uri.path;\n        const filenameWithoutExtension =\n            typeof uri === 'string' && uri.indexOf('.') > -1\n                ? uri.substr(0, uri.lastIndexOf('.'))\n                : 'index';\n        const extension =\n            language === 'javascript' ? 'js'\n                : language === 'typescript' ? 'ts'\n                : language === 'coffee' ? 'coffee'\n                    : language;\n        // get rid of the original model\n        model.dispose();\n        // Both JS and TS need the model to work in TypeScript as the script type\n        // is inferred from the file extension\n        const newLanguage = (language === 'javascript' || language === 'typescript') ? 'typescript' : language;\n\n        const newModel = this.monaco.editor.createModel(\n            code, newLanguage, this.monaco.Uri.from({path: `${filenameWithoutExtension}${index++}.${extension}`})\n        );\n        this.editor.setModel(newModel);\n    }\n\n    /**\n     * Enables or disables the type checking in the editor\n     * @param {boolean} enabled - Whether type checking is enabled or not\n     */\n    setTypeCheck(enabled) {\n        const options = {\n            noSemanticValidation: !this.state.alive || !enabled, // toggle the type checking\n            noSyntaxValidation: !this.state.alive // always check the syntax\n        };\n        this.monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions(options);\n    }\n\n    /**\n     * Adds the given declaration file to the editor\n     * @param {string} path The file path of the typings to add\n     * @param {string} typings The declaration file to add\n     * @param {boolean} [isGlobal=false] Whethere the file is a global declaration file\n     * @returns {void}\n     */\n    addTypingsToEditor(path, typings, isGlobal) {\n        try {\n            const handle = this.monaco.languages.typescript.typescriptDefaults.addExtraLib(typings, path);\n            if (isGlobal) this.globalTypingHandles.push(handle);\n        } catch (e) { /* might be added already */}\n    }\n\n    setEditorTypings() {\n        // clear previously added global typings\n        for (const handle of this.globalTypingHandles) {\n            handle && handle.dispose();\n        }\n\n        const isGlobalScript = isIdOfGlobalScript(this.state.name);\n        // The filename of the declarations this script can see if it is a global script\n        const partialDeclarationsPath = this.state.name + '.d.ts';\n        for (const path of Object.keys(this.typings)) {\n            // global scripts don't get to see all other global scripts\n            // but only a part of them\n            if (isGlobalScript) {\n                if (path === 'global.d.ts') continue;\n                if (path.startsWith('script.js.global') && path !== partialDeclarationsPath) continue;\n            }\n            this.addTypingsToEditor(path, this.typings[path], isGlobalScript);\n        }\n    }\n\n    /**\n     * Inserts some text into the given editor\n     * @param {string} text The text to add\n     */\n    insertTextIntoEditor(text) {\n        const selection = this.editor.getSelection();\n        const range = new this.monaco.Range(\n            selection.startLineNumber, selection.startColumn,\n            selection.endLineNumber, selection.endColumn\n        );\n        this.editor.executeEdits('', [{range: range, text: text, forceMoveMarkers: true}]);\n        this.editor.focus();\n    }\n\n    highlightText(text) {\n        let range = text && this.editor.getModel().findMatches(text);\n        if (range && range.length) {\n            range.forEach(r => this.editor.setSelection(r.range));\n            this.editor.revealLine(range[0].range.startLineNumber);\n        } else {\n            const row = this.editor.getPosition().lineNumber;\n            const col = this.editor.getPosition().column;\n            this.editor.setSelection(new this.monaco.Range(row, col, row, col));\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const options = {};\n        if (this.state.name !== nextProps.name) {\n            this.setState({name: nextProps.name});\n            this.originalCode = nextProps.code || '';\n            this.editor && this.editor.setValue(nextProps.code);\n            this.highlightText(this.lastSearch);\n        }\n\n        // if the code not yet changed, update the new code\n        if (!nextProps.changed && nextProps.code !== this.originalCode) {\n            this.originalCode = nextProps.code;\n            this.editor.setValue(this.originalCode);\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.highlightText(this.lastSearch);\n        }\n\n        if (this.state.language !== (nextProps.language || 'javascript')) {\n            this.setState({language: nextProps.language || 'javascript'});\n            options.language = nextProps.language || 'javascript';\n        } else if (this.state.readOnly !== (nextProps.readOnly || false)) {\n            this.setState({readOnly: nextProps.readOnly || false});\n            options.readOnly = nextProps.readOnly;\n        } else if (this.state.isDark !== (nextProps.isDark || false)) {\n            this.setState({isDark: nextProps.isDark || false});\n            options.isDark = nextProps.isDark;\n        }\n\n        this.setEditorOptions(options);\n\n        if (this.insert !== nextProps.insert) {\n            this.insert = nextProps.insert;\n            if (nextProps.insert) {\n                this.insertTextIntoEditor(nextProps.insert);\n                setTimeout(() => this.props.onInserted && this.props.onInserted(), 100);\n            }\n        }\n    }\n\n    onChange(newValue, e) {\n        if (!this.props.readOnly) {\n            this.props.onChange && this.props.onChange(this.editor.getValue());\n        }\n    }\n\n    render() {\n        if (!this.monaco) {\n            setTimeout(() => {\n                this.monaco = window.monaco;\n                this.forceUpdate()\n            }, 200);\n            return null;\n        }\n\n        return (\n            <div ref={el => this.monacoDiv = el} style={{width: '100%', height: '100%', overflow: 'hidden', position: 'relative'}}>\n                {!this.state.check && (<Fab\n                    size=\"small\"\n                    title={I18n.t('Check is not active, because javascript adapter is disabled')}\n                    style={{bottom: 10, right: 10, opacity: 0.5, position: 'absolute', zIndex: 1, background: 'red', color: 'white'}}\n                    color=\"secondary\"><IconNoCheck/></Fab>)}\n            </div>\n        );\n    }\n}\n\nScriptEditor.propTypes = {\n    connection: PropTypes.object,\n    name: PropTypes.string,\n    onChange: PropTypes.func,\n    onForceSave: PropTypes.func,\n    onInserted: PropTypes.func,\n    isDark: PropTypes.bool,\n    readOnly: PropTypes.bool,\n    code: PropTypes.string,\n    language: PropTypes.string,\n    onRegisterSelect: PropTypes.func,\n    searchText: PropTypes.string,\n    checkJs: PropTypes.bool,\n    changed: PropTypes.bool,\n};\n\nexport default ScriptEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: '100%',\n        height: '100%',\n    },\n    textAreaLight: {\n        background: 'lightgray'\n    },\n    dialog: {\n        height: '95%'\n    },\n    typography: {\n        padding: theme.spacing.unit * 2,\n    },\n});\nclass DialogExport extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null,\n            popper: ''\n        };\n    }\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    onCopy(event) {\n        const el = window.document.getElementById('copy_input');\n        if (el) {\n            el.select();\n            window.document.execCommand('copy');\n            const target = event.currentTarget;\n\n            setTimeout(() => {\n                window.document.execCommand('copy');\n                this.setState({popper: I18n.t('Copied'), anchorEl: target});\n                setTimeout(() => this.setState({popper: '', anchorEl: null}), 1000);\n            }, 50);\n\n        }\n        /*el.value = this.props.text;\n        window.document.body.appendChild(el);\n        el.select();*/\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return (\n            <Dialog\n                key=\"export-dialog\"\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"export-dialog-title\"\n            >\n                <DialogTitle id=\"export-dialog-title\">{I18n.t('Export selected blocks')}</DialogTitle>\n                <DialogContent>\n                    <pre\n                        id=\"export-text\"\n                        className={classes.textArea + ' ' + (this.props.theme === 'dark' ? '' : classes.textAreaLight)}\n                    >{this.props.text}</pre>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={event  => this.onCopy(event )} color=\"secondary\">{I18n.t('Copy to clipboard')}</Button>\n                    <Button onClick={() => this.handleCancel()} color=\"primary\">{I18n.t('Close')}</Button>\n\n                    <Popper\n                        id=\"popper\"\n                        style={{zIndex: 10000}}\n                        open={!!this.state.popper}\n                        placement=\"top\"\n                        anchorEl={this.state.anchorEl} transition>\n                        {({ TransitionProps }) => (\n                            <Fade {...TransitionProps} timeout={350}>\n                                <Paper>\n                                    <p className={classes.typography}>{this.state.popper}</p>\n                                </Paper>\n                            </Fade>\n                        )}\n                    </Popper>\n                    <textarea id=\"copy_input\" readOnly={true} style={{position: 'absolute', left: -9999}} tabIndex={-1} aria-hidden={true} value={this.props.text}/>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogExport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n    theme: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogExport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        height: '100%',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n});\nclass DialogImport extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose();\n    }\n\n    handleOk () {\n        this.props.onClose(this.state.text);\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"import-dialog-title\"\n            >\n                <DialogTitle id=\"import-dialog-title\">{I18n.t('Import blocks')}</DialogTitle>\n                <DialogContent className={classes.fullHeight}>\n                    <textarea\n                        id=\"import-text-area\"\n                        className={classes.textArea}\n                        onChange={e => this.onChange(e)}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button disabled={!this.state.text} onClick={event  => this.handleOk()} color=\"primary\">{I18n.t('Import')}</Button>\n                    <Button onClick={() => this.handleCancel()} color=\"secondary\">{I18n.t('Close')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogImport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n    theme: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogImport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\nimport DialogError from '../Dialogs/Error';\nimport DialogExport from '../Dialogs/Export';\nimport DialogImport from '../Dialogs/Import';\n\nlet languageBlocklyLoaded = false;\nlet languageOwnLoaded = false;\nlet toolboxText = null;\nlet toolboxXml;\nlet scriptsLoaded = [];\nconst styles = theme => ({\n    darkBackground: {\n        stroke: '#3a3a3a !important',\n        fill: '#515151 !important'\n    }\n});\n\nclass BlocklyEditor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.blockly = null; //ref\n        this.blocklyWorkspace = null;\n        this.toolbox = null;\n        this.Blockly = window.Blockly;\n\n        this.state = {\n            languageOwnLoaded,\n            languageBlocklyLoaded,\n            changed: false,\n            message: '',\n            error: '',\n            theme: this.props.theme,\n            exportText: '',\n            importText: false,\n            searchText: this.props.searchText || '',\n        };\n        this.originalCode = props.code || '';\n\n        this.someSelected = null;\n        this.changeTimer = null;\n\n        this.onResizeBind = this.onResize.bind(this);\n\n        this.lastCommand = '';\n        this.lastSearch = this.props.searchText || '';\n        this.blinkBlock = null;\n        this.loadLanguages();\n    }\n\n    static loadJS(url, callback, location) {\n        const scriptTag = document.createElement('script');\n        try {\n            scriptTag.src = url;\n\n            scriptTag.onload = callback;\n            scriptTag.onreadystatechange = callback;\n            scriptTag.onerror = callback;\n\n            (location || window.document.body).appendChild(scriptTag);\n        } catch (e) {\n            console.error('Cannot load ' + url + ': ' + e);\n            callback && callback();\n        }\n    };\n\n    static loadScripts(scripts, callback) {\n        if (!scripts || !scripts.length) {\n            return callback && callback();\n        }\n        const adapter = scripts.pop();\n        if (scriptsLoaded.indexOf(adapter) === -1) {\n            scriptsLoaded.push(adapter);\n            BlocklyEditor.loadJS('../../adapter/' + adapter + '/blockly.js', (/*data, textStatus, jqxhr*/) =>\n                setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0));\n        } else {\n            setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0);\n        }\n    }\n\n    static loadCustomBlockly(objects, callback) {\n        // get all adapters, that can have blockly\n        const toLoad = [];\n        for (const id in objects) {\n            if (!objects.hasOwnProperty(id) || !objects[id]) continue;\n            if (!id.match(/^system\\.adapter\\./)) continue;\n            if (objects[id].type !== 'adapter') continue;\n            if (objects[id].common && objects[id].common.blockly) {\n                console.log('Detected custom blockly: ' + objects[id].common.name);\n                toLoad.push(objects[id].common.name);\n            }\n        }\n\n        BlocklyEditor.loadScripts(toLoad, callback);\n    }\n\n    static loadXMLDoc(text) {\n        let parseXml;\n        if (window.DOMParser) {\n            parseXml = function(xmlStr) {\n                return ( new window.DOMParser() ).parseFromString(xmlStr, \"text/xml\");\n            };\n        } else if (typeof window.ActiveXObject != \"undefined\" && new window.ActiveXObject(\"Microsoft.XMLDOM\")) {\n            parseXml = function(xmlStr) {\n                var xmlDoc = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n                xmlDoc.async = \"false\";\n                xmlDoc.loadXML(xmlStr);\n                return xmlDoc;\n            };\n        } else {\n            parseXml = function() { return null; }\n        }\n        return parseXml(text);\n    }\n\n    static searchXml(root, text, _id, _result) {\n        _result = _result || [];\n        if (root.tagName === 'BLOCK') {\n            _id = root.id;\n        }\n        if (root.tagName === 'FIELD') {\n            for (let a = 0; a < root.attributes.length; a++) {\n                const val = (root.attributes[a].value || '').toLowerCase();\n                if (root.attributes[a].nodeName === 'name' && (val === 'oid' || val === 'text')) {\n                    if (root.innerText.toLowerCase().indexOf(text) !== -1) {\n                        _result.push(_id);\n                    }\n                }\n            }\n        }\n        root.childNodes.forEach(node => BlocklyEditor.searchXml(node, text, _id, _result));\n        return _result;\n    }\n\n    searchBlocks(text) {\n        if (this.blocklyWorkspace) {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const ids = BlocklyEditor.searchXml(dom, text.toLowerCase());\n            const allBlocks = this.blocklyWorkspace.getAllBlocks();\n            const result = [];\n            allBlocks.filter(b => ids.indexOf(b.id) !== -1).forEach(b => result.push(b));\n            return result;\n        }\n    }\n\n    searchId() {\n        const blocks = this.lastSearch && this.searchBlocks(this.lastSearch);\n        if (blocks && blocks.length) {\n            this.someSelected = blocks;\n            this.someSelected.forEach(b => b.addSelect());\n            this.someSelectedTime = Date.now();\n        } else if (this.someSelected) {\n            // remove selection\n            this.someSelected.forEach(b => b.removeSelect());\n            this.someSelected = null;\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.command && this.lastCommand !== nextProps.command) {\n            this.lastCommand = nextProps.command;\n            setTimeout(() => this.lastCommand = '', 300);\n            if (this.lastCommand === 'check') {\n                this.blocklyCheckBlocks((err, badBlock) => {\n                    if (!err) {\n                        this.setState({message: I18n.t('Ok')});\n                    } else {\n                        badBlock && this.blocklyBlinkBlock(badBlock);\n                        this.setState({error: {text: I18n.t(err), title: I18n.t('Error was found')}});\n                        this.blinkBlock = badBlock;\n                    }\n                });\n            } else if (this.lastCommand === 'export') {\n                this.exportBlocks();\n            } else if (this.lastCommand === 'import') {\n                this.importBlocks();\n            }\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.searchId();\n        }\n\n        if (this.state.theme !== nextProps.theme) {\n            this.setState({theme: nextProps.theme}, () => this.updateBackground());\n        }\n\n        if (this.originalCode !== nextProps.code) {\n            this.originalCode = nextProps.code || '';\n            this.loadCode();\n            this.searchId();\n        }\n    }\n\n    loadLanguages() {\n        // load blockly language\n        if (!languageBlocklyLoaded) {\n            const fileLang = window.document.createElement('script');\n            fileLang.setAttribute('type', 'text/javascript');\n            fileLang.setAttribute('src', 'google-blockly/msg/js/' + I18n.getLanguage() + '.js');\n\n            // most browsers\n            fileLang.onload = () => {\n                languageBlocklyLoaded = true;\n                this.setState({languageBlocklyLoaded});\n            };\n            // IE 6 & 7\n            fileLang.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageBlocklyLoaded = true;\n                    this.setState({languageBlocklyLoaded});\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileLang);\n        }\n        if (!languageOwnLoaded) {\n            const fileCustom = window.document.createElement('script');\n            fileCustom.setAttribute('type', 'text/javascript');\n            fileCustom.setAttribute('src', 'google-blockly/own/msg/' + I18n.getLanguage() + '.js');\n            // most browsers\n            fileCustom.onload = () => {\n                languageOwnLoaded = true;\n                this.setState({languageOwnLoaded});\n            };\n            // IE 6 & 7\n            fileCustom.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageOwnLoaded = true;\n                    this.setState({languageOwnLoaded});\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileCustom);\n        }\n    }\n\n    onResize() {\n        this.Blockly.svgResize(this.blocklyWorkspace);\n    }\n\n    jsCode2Blockly(text) {\n        text = text || '';\n        const lines = text.split(/[\\r\\n]+|\\r|\\n/g);\n        let xml = '';\n        for (let l = lines.length - 1; l >= 0; l--) {\n            if (lines[l].substring(0, 2) === '//') {\n                xml = lines[l].substring(2);\n                break;\n            }\n        }\n        if (xml.substring(0, 4) === '<xml') {\n            return xml;\n        } else {\n            let code;\n            try {\n                code = window.decodeURIComponent(window.atob(xml));\n            } catch (e) {\n                code = null;\n                console.error('cannot decode: ' + xml);\n                console.error(e);\n            }\n            return code;\n        }\n    }\n\n    blocklyBlinkBlock(block) {\n        for (let i = 300; i < 3000; i = i + 300) {\n            setTimeout(() => block.select(), i);\n            setTimeout(() => block.unselect(), i + 150);\n        }\n    }\n\n    blocklyRemoveOrphanedShadows() {\n        if (this.blocklyWorkspace) {\n            let blocks = this.blocklyWorkspace.getAllBlocks();\n            let block;\n            for (let i = 0; (block = blocks[i]); i++) {\n                if (block.isShadow()) {\n                    const connections = block.getConnections_(true);\n                    let conn;\n                    for (let j = 0; (conn = connections[j]); j++) {\n                        if (!conn.targetConnection) {\n                            // remove it\n                            block.dispose();\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    blocklyCheckBlocks(cb) {\n        let warningText;\n        if (!this.blocklyWorkspace || this.blocklyWorkspace.getAllBlocks().length === 0) {\n            cb && cb('no blocks found');\n            return;\n        }\n        let badBlock = this.blocklyGetUnconnectedBlock();\n        if (badBlock) {\n            warningText = 'not properly connected';\n        } else {\n            badBlock = this.blocklyGetBlockWithWarning();\n            if (badBlock) warningText = 'warning on this block';\n        }\n\n        if (badBlock) {\n            if (cb) {\n                cb(warningText, badBlock);\n            } else {\n                this.blocklyBlinkBlock(badBlock);\n            }\n            return false;\n        }\n\n        cb();\n\n        return true;\n    }\n\n    // get unconnected block\n    blocklyGetUnconnectedBlock () {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            const connections = block.getConnections_(true);\n            let conn;\n            for (let j = 0; (conn = connections[j]); j++) {\n                if (!conn.sourceBlock_ || ((conn.type === this.Blockly.INPUT_VALUE || conn.type === this.Blockly.OUTPUT_VALUE) && !conn.targetConnection && !conn._optional)) {\n                    return block;\n                }\n            }\n        }\n        return null;\n    }\n\n    // get block with warning\n    blocklyGetBlockWithWarning() {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            if (block.warning) {\n                return block;\n            }\n        }\n        return null;\n    }\n\n    blocklyCode2JSCode(oneWay) {\n        let code = this.Blockly.JavaScript.workspaceToCode(this.blocklyWorkspace);\n        if (!oneWay) {\n            code += '\\n';\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const text = this.Blockly.Xml.domToText(dom);\n            code += '//' + btoa(encodeURIComponent(text));\n        }\n\n        return code;\n    }\n\n    exportBlocks() {\n        let exportText;\n        if (this.Blockly.selected) {\n            const xmlBlock = this.Blockly.Xml.blockToDom(this.Blockly.selected);\n            if (this.Blockly.dragMode_ !== this.Blockly.DRAG_FREE) {\n                this.Blockly.Xml.deleteNext(xmlBlock);\n            }\n            // Encode start position in XML.\n            const xy = this.Blockly.selected.getRelativeToSurfaceXY();\n            xmlBlock.setAttribute('x', this.Blockly.selected.RTL ? -xy.x : xy.x);\n            xmlBlock.setAttribute('y', xy.y);\n\n            exportText = this.Blockly.Xml.domToPrettyText(xmlBlock);\n        } else {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            exportText = this.Blockly.Xml.domToPrettyText(dom);\n        }\n        this.setState({exportText});\n    }\n\n    importBlocks() {\n        this.setState({importText: true});\n    }\n\n    onImportBlocks(xml) {\n        xml = (xml || '').trim();\n        if (xml) {\n            try {\n                if (!xml.startsWith('<xml')) {\n                    xml = '<xml xmlns=\"http://www.w3.org/1999/xhtml\">' + xml + '</xml>';\n                }\n                xml = xml.replace(/[\\n\\r]/g, '').replace(/<variables>.*<\\/variables>/g, '');\n                let xmlBlocks = this.Blockly.Xml.textToDom(xml);\n                if (xmlBlocks.nodeName === 'xml') {\n                    for (let b = 0; b < xmlBlocks.children.length; b++) {\n                        this.blocklyWorkspace.paste(xmlBlocks.children[b]);\n                    }\n                } else {\n                    this.blocklyWorkspace.paste(xmlBlocks);\n                }\n                this.onBlocklyChanged();\n            } catch (e) {\n                this.setState({error: {text: e, title: I18n.t('Import error')}});\n            }\n        }\n    }\n\n    loadCode() {\n        if (!this.blocklyWorkspace) return;\n\n        this.ignoreChanges = true;\n        this.blocklyWorkspace.clear();\n\n        try {\n            const xml = this.jsCode2Blockly(this.originalCode) || '<xml xmlns=\"http://www.w3.org/1999/xhtml\"></xml>';\n            const dom = this.Blockly.Xml.textToDom(xml);\n            this.Blockly.Xml.domToWorkspace(dom, this.blocklyWorkspace);\n        } catch (e) {\n            console.error(e);\n            window.alert('Cannot extract Blockly code!');\n        }\n        setTimeout(() => this.ignoreChanges = false, 100);\n    }\n\n    onBlocklyChanged() {\n        this.blocklyRemoveOrphanedShadows();\n        this.setState({changed: true});\n        this.onChange();\n    }\n\n    componentDidUpdate() {\n        if (!this.blockly) return;\n        if (this.didUpdate) {\n            clearTimeout(this.didUpdate);\n            this.didUpdate = null;\n        }\n\n        if (this.blocklyWorkspace) return;\n\n        window.addEventListener('resize', this.onResizeBind, false);\n        toolboxText = toolboxText || this.getToolbox();\n        toolboxXml  = toolboxXml  || this.Blockly.Xml.textToDom(toolboxText);\n\n        this.blocklyWorkspace = this.Blockly.inject(\n            this.blockly,\n            {\n                media: 'google-blockly/media/',\n                toolbox: toolboxXml,\n                zoom: {\n                    controls:   true,\n                    wheel:      false,\n                    startScale: 1.0,\n                    maxScale:   3,\n                    minScale:   0.3,\n                    scaleSpeed: 1.2\n                },\n                move: {\n                    scrollbars: true,\n                    drag: true,\n                    wheel: true\n                },\n                trashcan: true,\n                grid: {\n                    spacing:    25,\n                    length:     3,\n                    colour:     '#ccc',\n                    snap:       true\n                }\n            }\n        );\n        // for blockly itself\n        window.scripts = {\n            blocklyWorkspace: this.blocklyWorkspace\n        };\n\n        // Listen to events on master workspace.\n        this.blocklyWorkspace.addChangeListener(masterEvent => {\n            if (this.someSelected && Date.now() - this.someSelectedTime > 500) {\n                const allBlocks = this.blocklyWorkspace.getAllBlocks();\n                this.someSelected = null;\n                allBlocks.forEach(b => b.removeSelect());\n            }\n\n            if (masterEvent.type === this.Blockly.Events.UI || masterEvent.type === this.Blockly.Events.CREATE) {\n                return;  // Don't mirror UI events.\n            }\n            if (this.ignoreChanges) return;\n            this.changeTimer && clearTimeout(this.changeTimer);\n            this.changeTimer = setTimeout(() => {\n                this.changeTimer = null;\n                this.onBlocklyChanged();\n            }, 200);\n\n        });\n        this.loadCode();\n        this.onResize();\n        // Move toolbar to the valid position\n        const toolbar = document.getElementsByClassName('blocklyToolboxDiv')[0];\n        this.blockly.appendChild(toolbar);\n\n        this.updateBackground();\n        setTimeout(() => this.searchId(), 200); // select found blocks\n    }\n\n    updateBackground() {\n        const background = document.getElementsByClassName('blocklyMainBackground')[0];\n        if (this.state.theme === 'dark') {\n            let found = 0;\n            for (let i = 0; i < background.classList.length; i++) {\n                if (background.classList[i] === this.props.classes.darkBackground) {\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                background.classList.add(this.props.classes.darkBackground);\n            }\n        } else {\n            background.classList.remove(this.props.classes.darkBackground);\n        }\n    }\n\n    componentWillUnmount() {\n        if (!this.blocklyWorkspace) return;\n        this.blocklyWorkspace.dispose();\n        this.blocklyWorkspace = null;\n        this.changeTimer && clearTimeout(this.changeTimer);\n        this.changeTimer = null;\n        window.removeEventListener('resize', this.onResizeBind);\n    }\n\n    onChange() {\n        this.originalCode = this.blocklyCode2JSCode();\n        this.props.onChange && this.props.onChange(this.originalCode);\n    }\n\n    getToolbox() {\n        // Interpolate translated messages into toolbox.\n        let toolboxText = window.document.getElementById('toolbox').outerHTML;\n        toolboxText = toolboxText.replace(/{(\\w+)}/g, (m, p1) => window.MSG[p1]);\n\n        let blocks = '';\n        const lang = I18n.getLanguage();\n        for (let cb = 0; cb < this.Blockly.CustomBlocks.length; cb++) {\n            const name = this.Blockly.CustomBlocks[cb];\n            // add blocks\n            blocks += '<category name=\"' + this.Blockly.Words[name][lang] + '\" colour=\"' + this.Blockly[name].HUE + '\">';\n            for (const _b in this.Blockly[name].blocks) {\n                if (this.Blockly[name].blocks.hasOwnProperty(_b)) {\n                    blocks += this.Blockly[name].blocks[_b];\n                }\n            }\n            blocks += '</category>';\n        }\n        toolboxText = toolboxText.replace('<category><block>%%CUSTOM_BLOCKS%%</block></category>', blocks);\n        return toolboxText;\n    }\n\n    render() {\n        if (this.state.languageBlocklyLoaded && this.state.languageOwnLoaded) {\n            this.didUpdate = setTimeout(() => {\n                this.didUpdate = null;\n                this.componentDidUpdate();\n            }, 100);\n\n            return [\n                (<div key=\"blocklyDOM\" ref={el => this.blockly = el} style={{\n                    //marginLeft: 180,\n                    width: '100%',//'calc(100% - 180px)',\n                    height: '100%',\n                    //overflow: 'hidden',\n                    position: 'relative'}}/>),\n\n                this.state.message ?\n                    (<DialogMessage\n                        key=\"dialogMessage\"\n                        text={typeof this.state.message === 'object' ? this.state.message.text : this.state.message}\n                        title={typeof this.state.message === 'object' ? this.state.message.title : ''}\n                        onClose={() => this.setState({message: ''})}\n                    />) :\n                    null,\n\n                this.state.error ?\n                    (<DialogError\n                        key=\"dialogError\"\n                        text={typeof this.state.error === 'object' ? this.state.error.text.toString() : this.state.error}\n                        title={typeof this.state.error === 'object' ? this.state.error.title : ''}\n                        onClose={() => {\n                            if (this.blinkBlock) {\n                                this.blocklyBlinkBlock(this.blinkBlock);\n                                this.blinkBlock = null;\n                            }\n                            this.setState({error: ''});\n                        }}/>) :\n                    null,\n\n                this.state.exportText ? (<DialogExport key=\"dialogExport\" theme={this.props.theme} onClose={() => this.setState({exportText: ''})} text={this.state.exportText}/>) : null,\n\n                this.state.importText ? (<DialogImport key=\"dialogImport\" theme={this.props.theme} onClose={text => {\n                    this.setState({importText: false});\n                    this.onImportBlocks(text);\n                }}/>) : null\n            ];\n        } else {\n            return null;\n        }\n    }\n}\n\nBlocklyEditor.propTypes = {\n    command: PropTypes.string,\n    onChange: PropTypes.func,\n    searchText: PropTypes.string,\n    theme: PropTypes.string\n};\n\nexport default withStyles(styles)(BlocklyEditor);\n","/**\n * Given a cronspec, return the human-readable string.\n * @param {string} cronspec\n * @param withSeconds\n * @param {Object=} locale\n */\nfunction cronToText(cronspec, withSeconds, locale) {\n\n\n    // Constant array to convert valid names to values\n    const NAMES = {\n        JAN: 1, FEB: 2, MAR: 3, APR: 4, MAY: 5, JUN: 6, JUL: 7, AUG: 8,\n        SEP: 9, OCT: 10, NOV: 11, DEC: 12,\n        SUN: 1, MON: 2, TUE: 3, WED: 4, THU: 5, FRI: 6, SAT: 7\n    };\n\n    // Parsable replacements for common expressions\n    const REPLACEMENTS = {\n        '* * * * * *': '0/1 * * * * *',\n        '@YEARLY': '0 0 1 1 *',\n        '@ANNUALLY': '0 0 1 1 *',\n        '@MONTHLY': '0 0 1 * *',\n        '@WEEKLY': '0 0 * * 0',\n        '@DAILY': '0 0 * * *',\n        '@HOURLY': '0 * * * *'\n    };\n\n    // Contains the index, min, and max for each of the constraints\n    const FIELDS = {\n        s: [0, 0, 59], // seconds\n        m: [1, 0, 59], // minutes\n        h: [2, 0, 23], // hours\n        D: [3, 1, 31], // day of month\n        M: [4, 1, 12], // month\n        Y: [6, 1970, 2099], // year\n        d: [5, 1, 7, 1] // day of week\n    };\n\n    /**\n     * Returns the value + offset if value is a number, otherwise it\n     * attempts to look up the value in the NAMES table and returns\n     * that result instead.\n     *\n     * @param {Number,String} value: The value that should be parsed\n     * @param {Number=} offset: Any offset that must be added to the value\n     * @param {Number=} max\n     * @returns {Number|null}\n     */\n    function getValue(value) {\n        const offset = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n        const max = arguments.length <= 2 || arguments[2] === undefined ? 9999 : arguments[2];\n\n        return isNaN(value) ? NAMES[value] || null : Math.min(+value + offset, max);\n    }\n\n    /**\n     * Returns a deep clone of a schedule skipping any day of week\n     * constraints.\n     *\n     * @param {Object} sched: The schedule that will be cloned\n     * @returns {Object}\n     */\n    function cloneSchedule(sched) {\n        const clone = {};\n        let field;\n\n        for (field in sched) {\n            if (field !== 'dc' && field !== 'd') {\n                clone[field] = sched[field].slice(0);\n            }\n        }\n\n        return clone;\n    }\n\n    /**\n     * Adds values to the specified constraint in the current schedule.\n     *\n     * @param {Object} sched: The schedule to add the constraint to\n     * @param {String} name: Name of constraint to add\n     * @param {Number} min: Minimum value for this constraint\n     * @param {Number} max: Maximum value for this constraint\n     */\n    function add(sched, name, min, max) {\n        const inc = arguments.length <= 4 || arguments[4] === undefined ? 0 : arguments[4];\n\n        let i = min;\n\n        if (!sched[name]) {\n            sched[name] = [];\n        }\n\n        while (i <= max) {\n            if (sched[name].indexOf(i) < 0) {\n                sched[name].push(i);\n            }\n            i += inc || 1;\n        }\n\n        sched[name].sort(function (a, b) {\n            return a - b;\n        });\n    }\n\n    /**\n     * Adds a hash item (of the form x#y or xL) to the schedule.\n     *\n     * @param {Object} schedules: The current schedule array to add to\n     * @param {Object} curSched: The current schedule to add to\n     * @param {Number} value: The value to add (x of x#y or xL)\n     * @param {Number} hash: The hash value to add (y of x#y)\n     */\n    function addHash(schedules, curSched, value, hash) {\n        // if there are any existing day of week constraints that\n        // aren't equal to the one we're adding, create a new\n        // composite schedule\n        if ((curSched.d && !curSched.dc) || (curSched.dc && curSched.dc.indexOf(hash) < 0)) {\n            schedules.push(cloneSchedule(curSched));\n            curSched = schedules[schedules.length - 1];\n        }\n\n        add(curSched, 'd', value, value);\n        add(curSched, 'dc', hash, hash);\n    }\n\n    /**\n     *\n     * @param {Object} s: The existing set of schedules\n     * @param {Object} curSched: The current schedule to add to\n     * @param {Number} value\n     */\n    function addWeekday(s, curSched, value) {\n        const except1 = {},\n            except2 = {};\n        if (value === 1) {\n            // cron doesn't pass month boundaries, so if 1st is a\n            // weekend then we need to use 2nd or 3rd instead\n            add(curSched, 'D', 1, 3);\n            add(curSched, 'd', NAMES.MON, NAMES.FRI);\n            add(except1, 'D', 2, 2);\n            add(except1, 'd', NAMES.TUE, NAMES.FRI);\n            add(except2, 'D', 3, 3);\n            add(except2, 'd', NAMES.TUE, NAMES.FRI);\n        } else {\n            // normally you want the closest day, so if v is a\n            // Saturday, use the previous Friday.  If it's a\n            // sunday, use the following Monday.\n            add(curSched, 'D', value - 1, value + 1);\n            add(curSched, 'd', NAMES.MON, NAMES.FRI);\n            add(except1, 'D', value - 1, value - 1);\n            add(except1, 'd', NAMES.MON, NAMES.THU);\n            add(except2, 'D', value + 1, value + 1);\n            add(except2, 'd', NAMES.TUE, NAMES.FRI);\n        }\n        s.exceptions.push(except1);\n        s.exceptions.push(except2);\n    }\n\n    /**\n     * Adds a range item (of the form x-y/z) to the schedule.\n     *\n     * @param {String} item: The cron expression item to add\n     * @param {Object} curSched: The current schedule to add to\n     * @param {String} name: The name to use for this constraint\n     * @param {Number} min: The min value for the constraint\n     * @param {Number} max: The max value for the constraint\n     * @param {Number} offset: The offset to apply to the cron value\n     */\n    function addRange(item, curSched, name, min, max, offset) {\n        // parse range/x\n        const incSplit = item.split('/'),\n            inc = +incSplit[1],\n            range = incSplit[0];\n\n        // parse x-y or * or 0\n        if (range !== '*' && range !== '0') {\n            const rangeSplit = range.split('-');\n            min = getValue(rangeSplit[0], offset, max);\n\n            // fix for issue #13, range may be single digit\n            max = getValue(rangeSplit[1], offset, max) || max;\n        }\n\n        add(curSched, name, min, max, inc);\n    }\n\n    /**\n     * Parses a particular item within a cron expression.\n     *\n     * @param {String} item: The cron expression item to parse\n     * @param {Object} s: The existing set of schedules\n     * @param {String} name: The name to use for this constraint\n     * @param {Number} min: The min value for the constraint\n     * @param {Number} max: The max value for the constraint\n     * @param {Number} offset: The offset to apply to the cron value\n     */\n    function parse(item, s, name, min, max, offset) {\n        let value,\n            split,\n            schedules = s.schedules,\n            curSched = schedules[schedules.length - 1];\n\n        // L just means min - 1 (this also makes it work for any field)\n        if (item === 'L') {\n            item = (min - 1).toString(10);\n        }\n\n        // parse x\n        if ((value = getValue(item, offset, max)) !== null) {\n            add(curSched, name, value, value);\n        }\n        // parse xW\n        else if ((value = getValue(item.replace('W', ''), offset, max)) !== null) {\n            addWeekday(s, curSched, value);\n        }\n        // parse xL\n        else if ((value = getValue(item.replace('L', ''), offset, max)) !== null) {\n            addHash(schedules, curSched, value, min - 1);\n        }\n        // parse x#y\n        else if ((split = item.split('#')).length === 2) {\n            value = getValue(split[0], offset, max);\n            addHash(schedules, curSched, value, getValue(split[1]));\n        }\n        // parse x-y or x-y/z or */z or 0/z\n        else {\n            addRange(item, curSched, name, min, max, offset);\n        }\n    }\n\n    /**\n     * Returns true if the item is either of the form x#y or xL.\n     *\n     * @param {String} item: The expression item to check\n     */\n    function isHash(item) {\n        return item.indexOf('#') > -1 || item.indexOf('L') > 0;\n    }\n\n    function itemSorter(a, b) {\n        return isHash(a) && !isHash(b) ? 1 : a - b;\n    }\n\n    /**\n     * Parses each of the fields in a cron expression.  The expression must\n     * include the seconds field, the year field is optional.\n     *\n     * @param {String} expr: The cron expression to parse\n     */\n    function parseExpr(expr) {\n        const schedule = { schedules: [{}], exceptions: [] };\n        const components = expr.replace(/(\\s)+/g, ' ').split(' ');\n        let field;\n        let f;\n        let component;\n        let items;\n\n        for (field in FIELDS) {\n            f = FIELDS[field];\n            component = components[f[0]];\n            if (component && component !== '*' && component !== '?') {\n                // need to sort so that any #'s come last, otherwise\n                // schedule clones to handle # won't contain all of the\n                // other constraints\n                items = component.split(',').sort(itemSorter);\n                let i;\n                const length = items.length;\n                for (i = 0; i < length; i++) {\n                    parse(items[i], schedule, field, f[1], f[2], f[3]);\n                }\n            }\n        }\n\n        return schedule;\n    }\n\n    /**\n     * Make cron expression parsable.\n     *\n     * @param {String} expr: The cron expression to prepare\n     */\n    function prepareExpr(expr) {\n        const prepared = expr.toUpperCase();\n        return REPLACEMENTS[prepared] || prepared;\n    }\n\n    function parseCron(expr, hasSeconds) {\n        const e = prepareExpr(expr);\n        return parseExpr(hasSeconds ? e : '0 ' + e);\n    }\n\n    const schedule = parseCron(cronspec, withSeconds);\n\n    function absFloor(number) {\n        if (number < 0) {\n            return Math.ceil(number);\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        const coercedNumber = +argumentForCoercion;\n        let value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    function ordinal(number) {\n        const b = number % 10,\n            output = (toInt(number % 100 / 10) === 1) ? locale.ORDINALS.th :\n                (b === 1) ? locale.ORDINALS.st :\n                    (b === 2) ? locale.ORDINALS.nd :\n                        (b === 3) ? locale.ORDINALS.rd : locale.ORDINALS.th;\n        return number + output;\n    }\n\n    /**\n     * For an array of numbers, e.g. a list of hours in a schedule,\n     * return a string listing out all of the values (complete with\n     * \"and\" plus ordinal text on the last item).\n     * @param {Number[]} numbers\n     * @returns {string}\n     */\n    function numberList(numbers) {\n        if (numbers.length < 2) {\n            return ordinal(numbers);\n        }\n\n        const lastVal = numbers.pop();\n        return numbers.join(', ') + ' ' + locale['and'] + ' ' + ordinal(lastVal);\n    }\n\n    /**\n     * Parse a number into day of week, or a month name;\n     * used in dateList below.\n     * @param {Number|String} value\n     * @param {String} type\n     * @returns {String}\n     */\n    function numberToDateName(value, type) {\n        if (type === 'dow') {\n            return locale.DOW[value - 1];\n        } else if (type === 'mon') {\n            return locale.MONTH[value - 1];\n        }\n    }\n\n    /**\n     * From an array of numbers corresponding to dates (given in type: either\n     * days of the week, or months), return a string listing all the values.\n     * @param {Number[]} numbers\n     * @param {String} type\n     * @returns {String}\n     */\n    function dateList(numbers, type) {\n        if (numbers.length < 2) {\n            return numberToDateName('' + numbers[0], type);\n        }\n\n        const lastVal = '' + numbers.pop();\n        let outputText = '';\n\n        for (let i = 0, value; (value = numbers[i]); i++) {\n            if (outputText.length > 0) {\n                outputText += ', ';\n            }\n            outputText += numberToDateName(value, type);\n        }\n        return outputText + ' ' + locale['and'] + ' ' + numberToDateName(lastVal, type);\n    }\n\n    /**\n     * Pad to equivalent of sprintf('%02d').\n     * @param {Number} x\n     * @returns {string}\n     */\n    function zeroPad(x) {\n        return (x < 10) ? '0' + x : x;\n    }\n\n    //----------------\n\n    /**\n     * Given a schedule, generate a friendly sentence description.\n     * @param {Object} schedule\n     * @param {boolean} withSeconds\n     * @returns {string}\n     */\n    function scheduleToSentence(schedule, withSeconds) {\n        let outputText = locale.Every + ' ';\n\n        if (schedule['h'] && schedule['m'] && schedule['h'].length <= 2 && schedule['m'].length <= 2 && withSeconds && schedule['s'] && schedule['s'].length <= 2 ) {\n            // If there are only one or two specified values for\n            // hour or minute, print them in HH:MM:SS format\n\n            const hm = [];\n            for (let i = 0; i < schedule['h'].length; i++) {\n                for (let j = 0; j < schedule['m'].length; j++) {\n                    for (let k = 0; k < schedule['s'].length; k++) {\n                        hm.push(zeroPad(schedule['h'][i]) + ':' + zeroPad(schedule['m'][j]) + ':' + zeroPad(schedule['s'][k]));\n                    }\n                }\n            }\n            if (hm.length < 2) {\n                outputText = locale['At'] + ' ' + hm[0];\n            } else {\n                const lastVal = hm.pop();\n                outputText = locale['At'] + ' ' + hm.join(', ') + ' ' + locale.and + ' ' + lastVal;\n            }\n            if (!schedule['d'] && !schedule['D']) {\n                outputText += ' ' + locale['every day'] + ' ';\n            }\n        } else\n        if (schedule['h'] && schedule['m'] && schedule['h'].length <= 2 && schedule['m'].length <= 2) {\n            // If there are only one or two specified values for\n            // hour or minute, print them in HH:MM format\n\n            const hm = [];\n            for (let i = 0; i < schedule['h'].length; i++) {\n                for (let j = 0; j < schedule['m'].length; j++) {\n                    hm.push(zeroPad(schedule['h'][i]) + ':' + zeroPad(schedule['m'][j]));\n                }\n            }\n            if (hm.length < 2) {\n                outputText = locale['At'] + ' ' + hm[0];\n            } else {\n                const lastVal = hm.pop();\n                outputText = locale['At'] + ' ' + hm.join(', ') + ' ' + locale.and + ' ' + lastVal;\n            }\n\n            if (!schedule['d'] && !schedule['D']) {\n                outputText += ' ' + locale['every day'] + ' ';\n            }\n        } else {\n            // Otherwise, list out every specified hour/minute value.\n\n            if (schedule['h']) { // runs only at specific hours\n                if (schedule['m']) { // and only at specific minutes\n                    if (withSeconds) {\n                        if (!schedule['s'] || schedule['s'].length === 60) {\n                            outputText += locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        } else {\n                            outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' +numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        }\n                    } else {\n                        outputText += numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                    }\n                } else { // specific hours, but every minute\n                    if (withSeconds) {\n                        if (!schedule['s'] || schedule['s'].length === 60) {\n                            outputText += locale['second of every'] + ' ' + locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        } else {\n                            outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' + locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        }\n                    } else {\n                        outputText += locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                    }\n                }\n            } else if (schedule['m']) { // every hour, but specific minutes\n                if (withSeconds) {\n                    if (!schedule['s'] || schedule['s'].length === 60) {\n                        outputText += locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                    } else {\n                        outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                    }\n                } else {\n                    outputText += numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                }\n            } else if (withSeconds) {\n                if (!schedule['s'] || schedule['s'].length === 60) {\n                    outputText += locale['second'];\n                } else {\n                    outputText += numberList(schedule['s']) + ' ' + locale['second'];\n                }\n            } else { // cronspec has \"*\" for both hour and minute\n                outputText += locale['minute'];\n            }\n        }\n\n        if (schedule['D']) { // runs only on specific day(s) of month\n            outputText += (locale['on the'] ? ' ' + locale['on the'] + ' ' : ' ') + numberList(schedule['D']);\n            if (!schedule['M']) {\n                outputText += ' ' + locale['of every month'];\n            }\n        }\n\n        if (schedule['d']) { // runs only on specific day(s) of week\n            if (schedule['D']) {\n                // if both day fields are specified, cron uses both; superuser.com/a/348372\n                outputText += ' ' + locale['and every'] + ' ';\n            } else {\n                outputText += ' ' + locale['on'] + ' ';\n            }\n            outputText += dateList(schedule['d'], 'dow');\n        }\n\n        if (schedule['M']) {\n            // runs only in specific months; put this output last\n            outputText += ' ' + locale['in'] + ' ' + dateList(schedule['M'], 'mon');\n        }\n\n        return outputText;\n    }\n\n    return scheduleToSentence(schedule.schedules[0], withSeconds);\n}\n\nexport default cronToText;\n","var JQUERY_CRON_LOCALE = {};\n\nJQUERY_CRON_LOCALE.en = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Sun',\n        'Mon',\n        'Tue',\n        'Wed',\n        'Thu',\n        'Fri',\n        'Sat'\n    ],\n    'Every':            'Every', // start of expression\n    'and':              'and', // 1, 2, 3 and 15th\n    'every day':        'every day',\n    'minute past the':  'minute past the',\n    'hour':             'hour',\n    'minute':           'minute',\n    'minute of':        'minute of',\n    'second':           'second',\n    'second in minute': 'second in minute',\n    'second of every':  'second of every',\n    'minute every hour': 'minute every hour',\n    'on the':           'on the',\n    'of every month':   'of every month',\n    'and every':        'and every',\n    'At':               'At',\n    'on':               'on', // on sun, mon\n    'in':               'in' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.de = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Januar',\n        'Februar',\n        'März',\n        'April',\n        'Mai',\n        'Juni',\n        'Juli',\n        'August',\n        'September',\n        'Oktober',\n        'November',\n        'Dezember'\n    ],\n    DOW: [\n        'Sonntag',\n        'Montag',\n        'Dienstag',\n        'Mittwoch',\n        'Donnerstag',\n        'Freitag',\n        'Samstag'\n    ],\n    'Every':            'Jede(r)', // start of expression\n    'and':              'und', // 1, 2, 3 and 15th\n    'every day':        'jeden Tag',\n    'minute past the':  'Minuten nach',\n    'hour':             'Stunde',\n    'minute':           'Minute',\n    'minute of':        'Minuten von',\n    'second':           'Sekunde',\n    'second in minute': 'Sekunde in der Minute',\n    'second of every':  'Sekunde in',\n    'minute every hour': 'Minute jede Stunde',\n    'on the':           'am',\n    'of every month':   'im jeden Monat',\n    'and every':        'und am jeden',\n    'At':               'Um',\n    'on':               'am', // on sun, mon\n    'in':               'im' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.ru = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Январе',\n        'Феврале',\n        'Марте',\n        'Апреле',\n        'Майе',\n        'Июне',\n        'Июле',\n        'Августе',\n        'Сентябре',\n        'Октябре',\n        'Ноябре',\n        'Декабре'\n    ],\n    DOW: [\n        'воскресение',\n        'понедельник',\n        'вторник',\n        'среду',\n        'четверг',\n        'пятницу',\n        'субботу'\n    ],\n    'Every':            'Каждую(ый)', // start of expression\n    'and':              'и', // 1, 2, 3 and 15th\n    'every day':        'каждый день',\n    'minute past the':  'минуту в',\n    'hour':             'часа(ов)',\n    'minute':           'минуту',\n    'minute of':        'минут(у) в',\n    'second':           'секунду',\n    'second in minute': 'секунду в минуте',\n    'second of every':  'секунду каждой(го)',\n    'minute every hour': 'минуту каждый час',\n    'on the':           '',\n    'of every month':   'числа каждого месяца',\n    'and every':        'и каждый',\n    'At':               'В',\n    'on':               'в', // on sun, mon\n    'in':               'в' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.fr = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [\n        'Fév',\n        'Mar',\n        'Avr',\n        'Mai',\n        'Jun',\n        'Juil',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Déc'\n\n    ],\n    DOW: [\n        'Dim',\n        'Lun',\n        'Mar',\n        'Mer',\n        'Jeu',\n        'Ven',\n        'Sam'\n\n    ],\n    'Every':            'Chaque',\n    'and':              'et',\n    'every day':        'tous les jours',\n    'minute past the':  'minute après le',\n    'hour':             'heure',\n    'minute':           'minute',\n    'minute of':        'minute de',\n    'second':           'seconde',\n    'second in minute': 'seconde en minute',\n    'second of every':  'deuxième de tous',\n    'minute every hour':'minute toutes les heures',\n    'on the':           'sur le',\n    'of every month':   'de chaque mois',\n    'and every':        'et tous',\n    'At':               'À',\n    'on':               'sur',\n    'in':               'dans'\n};\n\nJQUERY_CRON_LOCALE.it = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'Pot',\n        'Giu',\n        'Lug',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dic'\n    ],\n    DOW: [\n        'Dom',\n        'Mon',\n        'Mar',\n        'Mer',\n        'Gio',\n        'Ve',\n        'Sat'\n    ],\n    'Every':             'Ogni',\n    'and':               'e',\n    'every day':         'ogni giorno',\n    'minute past the':   'minuto dopo',\n    'hour':              'ora',\n    'minute':            'Minuto',\n    'minute of':         'minuto di',\n    'second':            'secondo',\n    'second in minute':  \"secondo in minuto\",\n    'second of every':   'secondo di ogni',\n    'minute every hour': 'minuto ogni ora',\n    'on the':            'sul',\n    'of every month':    'di ogni mese',\n    'and every':         'e ogni',\n    'At':                'A',\n    'on':                'sopra',\n    'in':                'in'\n};\n\nJQUERY_CRON_LOCALE.pt = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Abr',\n        'Pod',\n        'Jun',\n        'Jul',\n        'Ago',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Dom',\n        'Seg',\n        'Ter',\n        'Qua',\n        'Qui',\n        'Sex',\n        'Sen'\n    ],\n    'Every':                'Cada',\n    'and':                  'e',\n    'every day':            'todo dia',\n    'minute past the':      'minuto após o',\n    'hour':                 'hora',\n    'minute':               'minuto',\n    'minute of':            'minuto de',\n    'second':               'segundo',\n    'second in minute':     'segundo em minuto',\n    'second of every':      'segundo de cada',\n    'minute every hour':    'minuto a cada hora',\n    'on the':               'no',\n    'of every month':       'de todos os meses',\n    'and every':            'e todos',\n    'At':                   'At',\n    'on':                   'em',\n    'in':                   'dentro'\n};\n\nJQUERY_CRON_LOCALE.pl = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [ //short or full names\n        'Sty', // or 'Styczeń'\n        'Lut', // or 'Luty'\n        'Mar', // or 'Marzec'\n        'Kwi', // or 'Kwiecień'\n        'Maj', // or 'Maj'\n        'Cze', // or 'Czerwiec'\n        'Lip', // or 'Lipiec'\n        'Sie', // or 'Sierpień'\n        'Wrz', // or 'Wrzesień'\n        'Paź', // or 'Październik'\n        'Lis', // or 'Listopad'\n        'Gru'  // or 'Grudzień'\n    ],\n    DOW: [ //short or full days name\n        'Nie', // or 'Niedziela'\n        'Pon', // or 'Poniedziałek'\n        'Wto', // or 'Wtorek'\n        'Śro', // or 'Środa'\n        'Czw', // or 'Czwartek'\n        'Pią', // or 'Piątek'\n        'Sob'  // or 'Sobota\n    ],\n    'Every':            'Każde(go)', // start of expression\n    'and':              'i', // 1, 2, 3 and 15th\n    'every day':        'codziennie',\n    'minute past the':  'minut po', //minute past the hour ?\n    'hour':             'godzina',\n    'minute':           'minut(a)',\n    'minute of':        'minut po',\n    'second':           'sekunda',\n    'second in minute': 'sekund na minutę',\n    'second of every':  'sekund co',\n    'minute every hour': 'minut co godzinę',\n    'on the':           'w',\n    'of every month':   'każdego miesiąca',\n    'and every':        'i każdego',\n    'At':               'O',\n    'on':               'w', // on sun, mon\n    'in':               'w' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.es = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Ene',\n        'Feb',\n        'Mar',\n        'Abr',\n        'Mayo',\n        'Jun',\n        'Jul',\n        'Ago',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dic'\n    ],\n    DOW: [\n        'Sol',\n        'Lun',\n        'Mar',\n        'Mie',\n        'Jue',\n        'Vie',\n        'Sab'\n    ],\n    'Every':                'Cada',\n    'and':                  'y',\n    'every day':            'cada día',\n    'minute past the':      'minuto pasado el',\n    'hour':                 'hora',\n    'minute':               'minuto',\n    'minute of':            'minuto de',\n    'second':               'segundo',\n    'second in minute':     'segundo en minuto',\n    'second of every':      'segundo de cada',\n    'minute every hour':    'minuto cada hora',\n    'on the':               'sobre el',\n    'of every month':       'de cada mes',\n    'and every':            'y cada',\n    'At':                   'A',\n    'on':                   'en',\n    'in':                   'en'\n};\n\nJQUERY_CRON_LOCALE.nl = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'Mei',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Okt',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Zon',\n        'Mon',\n        'Di',\n        'Wo',\n        'Don',\n        'Vrij',\n        'Za'\n    ],\n    'Every':                'Elke',\n    'and':                  'en',\n    'every day':            'elke dag',\n    'minute past the':      'minuut voorbij de',\n    'hour':                 'uur',\n    'minute':               'minuut',\n    'minute of':            'minuut van',\n    'second':               'tweede',\n    'second in minute':     'tweede in minuut',\n    'second of every':      'tweede van alles',\n    'minute every hour':    'minuut elk uur',\n    'on the':               'op de',\n    'of every month':       'van elke maand',\n    'and every':            'en elke',\n    'At':                   'Op',\n    'on':                   'op',\n    'in':                   'in'\n};\n\nJQUERY_CRON_LOCALE['zh-cn'] = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        '一月',\n        '二月',\n        '三月',\n        '四月',\n        '五月',\n        '六月',\n        '七月',\n        '八月',\n        '九月',\n        '十月',\n        '十一月',\n        '十二月'\n    ],\n    DOW: [\n        '星期日',\n        '星期一',\n        '星期二',\n        '星期三',\n        '星期四',\n        '星期五',\n        '星期六'\n    ],\n    'Every':            '每', // start of expression\n    'and':              '和', // 1, 2, 3 and 15th\n    'every day':        '每天',\n    'minute past the':  '分钟在每天第',\n    'hour':             '小时',\n    'minute':           '分钟',\n    'minute of':        '分钟的',\n    'second':           '秒',\n    'second in minute': '秒在分钟',\n    'second of every':  '秒在每',\n    'minute every hour': '分钟在每小时中',\n    'on the':           '在',\n    'of every month':   '日在每月',\n    'and every':        '且每',\n    'At':               '在',\n    'on':               '在', // on sun, mon\n    'in':               '在' // in jan, apr\n};\n\nexport default JQUERY_CRON_LOCALE;\n","import cronToText from './cron2text';\nimport JQUERY_CRON_LOCALE from './jquery.cron.locale';\n\nfunction correctCasus(text, seconds) {\n    text = text.replace('Каждую(ый) минуту',    'Каждую минуту');\n    text = text.replace('Каждую(ый) минут(у)',  'Каждую минуту');\n    text = text.replace('Каждую(ый) час',       'Каждый час');\n    text = text.replace('Каждую(ый) секунду',   'Каждую секунду');\n    text = text.replace(/ (\\d{1,2}) числа/,     ' $1го числа');\n\n    text = text.replace(/ (\\d{1,2}) в Январе/,  ' $1го числа в Январе');\n    text = text.replace(/ (\\d{1,2}) в Феврале/, ' $1го числа в Феврале');\n    text = text.replace(/ (\\d{1,2}) в Марте/,   ' $1го числа в Марте');\n    text = text.replace(/ (\\d{1,2}) в Апреле/,  ' $1го числа в Апреле');\n    text = text.replace(/ (\\d{1,2}) в Майе/,    ' $1го числа в Майе');\n    text = text.replace(/ (\\d{1,2}) в Июне/,    ' $1го числа в Июне');\n    text = text.replace(/ (\\d{1,2}) в Июле/,    ' $1го числа в Июле');\n    text = text.replace(/ (\\d{1,2}) в Августе/,  ' $1го числа в Августе');\n    text = text.replace(/ (\\d{1,2}) в Сентябре/,  ' $1го числа в Сентябре');\n    text = text.replace(/ (\\d{1,2}) в Октябре/,  ' $1го числа в Октябре');\n    text = text.replace(/ (\\d{1,2}) в Ноябре/,  ' $1го числа в Ноябре');\n    text = text.replace(/ (\\d{1,2}) в Декабре/,  ' $1го числа в Декабре');\n\n    text = text.replace('Каждую(ый) 0 минуту',   'Каждые ноль минут');\n    text = text.replace(/Каждую\\(ый\\) ([\\d\\sи,]+) минуту/, 'Каждую $1 минуту');\n\n    text = text.replace(/каждой\\(го\\) ([\\d\\sи,]+) минуту/, 'каждой $1 минуты');\n    text = text.replace('каждой(го) минут(у)',  'каждой минуты');\n\n    text = text.replace(' 0 часа(ов)',           ' 0 часов');\n    text = text.replace(' 1 часа(ов)',           ' 1 час');\n    text = text.replace(' 2 часа(ов)',           ' 2 часа');\n    text = text.replace(' 3 часа(ов)',           ' 3 часа');\n    text = text.replace(' 4 часа(ов)',           ' 4 часа');\n    text = text.replace(/ (\\d{1,2}) часа\\(ов\\)/, ' $1 часов');\n\n    text = text.replace('Jede(r) Sekunde',      'Jede Sekunde');\n    text = text.replace(/Jede\\(r\\) ([\\d\\sund,]+) Sekunde/, 'Jede $1 Sekunde');\n    text = text.replace('Jede(r) Minute',       'Jede Minute');\n    text = text.replace('Jede Minuten',         'Jede Minute');\n    text = text.replace('Jede(r) Stunde',       'Jede Stunde');\n    text = text.replace(/Jede\\(r\\) ([\\d\\sund,]+) Minute/, 'Jede $1 Minute');\n    text = text.replace('Jede Sekunde in Minuten', 'Jede Sekunde in jeder Minute');\n\n    return text;\n}\n\nfunction convertCronToText(cron, lang) {\n    const withSeconds = cron.split(' ').length === 6;\n    let text = cronToText(cron, withSeconds, JQUERY_CRON_LOCALE[lang] || JQUERY_CRON_LOCALE.en);\n    return correctCasus(text, withSeconds);\n}\n\nexport default convertCronToText;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport TextField from '@material-ui/core/TextField';\nimport convertCronToText from './simple-cron/cronText';\n\nconst styles = theme => ({\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto'\n    },\n    periodSelect: {\n        //margin: '0 10px 60px 10px',\n        display: 'block',\n        width: 200\n    },\n    slider: {\n        marginTop: 20,\n        display: 'block',\n        width: '100%'\n    },\n    tabContent: {\n        padding: 20\n    },\n    numberButton: {\n        padding: 4,\n        minWidth: 40,\n        margin: 5\n    },\n    numberButtonBreak: {\n        display: 'block'\n    },\n    appBar: {\n        color: 'white'\n    }\n});\n\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\nconst MONTHS = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\n\n// 5-7,9-11 => [5,6,7,9,10,11]\nfunction convertMinusIntoArray(value, max) {\n    let result = [];\n    if (value === '*') {\n        if (max === 24 || max === 60 || max === 7) {\n            for (let i = 0; i < max; i++) {\n                result.push(i);\n            }\n        } else {\n            for (let i = 1; i <= max; i++) {\n                result.push(i);\n            }\n        }\n        return result; // array with entries max\n    }\n    const parts = (value || '').toString().split(',');\n    for (let p = 0; p < parts.length; p++) {\n        if (! parts[p].trim().length) continue;\n        const items = parts[p].trim().split('-');\n        if (items.length > 1) {\n            let iMax = parseInt(items[1], 10);\n            for (let i = parseInt(items[0], 10); i <= iMax; i++) {\n                result.push(i);\n            }\n        } else {\n            result.push(parseInt(parts[p], 10));\n        }\n    }\n    result = result.map(a => parseInt(a, 10));\n\n    result.sort();\n\n\n    // remove double entries\n    for (let p = result.length - 1; p >= 0; p--) {\n        if (result[p] === result[p + 1]) {\n            result.splice(p + 1, 1);\n        }\n    }\n\n\n    return result;\n}\n\n// [5,6,7,9,10,11] => 5-7,9-11\nfunction convertArrayIntoMinus(value, max) {\n    if (typeof value !== 'object') {\n        value = [value];\n    }\n    if (value.length === max) {\n        return '*';\n    }\n    const newParts = [];\n    if (!value.length) {\n        return '-';\n    }\n    value = value.map(a => parseInt(a, 10));\n\n    value.sort((a, b) => a -b);\n\n    let start = value[0];\n    let end = value[0];\n    for (let p = 1; p < value.length; p++) {\n        if (value[p] - 1 !== parseInt(value[p - 1], 10)) {\n            if (start === end) {\n                newParts.push(start)\n            } else if (end - 1 === start) {\n                newParts.push(start + ',' + end);\n            } else {\n                newParts.push(start + '-' + end);\n            }\n            start = value[p];\n            end = value[p];\n        } else {\n            end = value[p];\n        }\n    }\n\n    if (start === end) {\n        newParts.push(start)\n    } else if (end - 1 === start) {\n        newParts.push(start + ',' + end);\n    } else {\n        newParts.push(start + '-' + end);\n    }\n\n    return newParts.join(',');\n}\n\nclass ComplexCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron = (typeof this.props.cronExpression === 'string') ? this.props.cronExpression.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '') : '';\n        if (cron[0] === '{') {\n            cron = '';\n        }\n        const state = ComplexCron.cron2state(cron || '* * * * *');\n\n        this.state = {\n            extended: false,\n            tab: state.seconds !== false ? 1 : 0,\n            cron: ComplexCron.state2cron(state),\n            modes: {\n                seconds: null,\n                minutes: null,\n                hours: null,\n                dates: null,\n                months: null,\n                dows: null\n            }\n        };\n        Object.assign(this.state, state);\n        if (this.state.cron !== this.props.cronExpression) {\n            setTimeout(() => this.props.onChange && this.props.onChange(this.state.cron), 100);\n        }\n    }\n\n    static cron2state(cron) {\n        cron = cron.replace(/['\"]/g, '').trim();\n        const cronParts = cron.split(' ').map(p => p.trim());\n        const options = {};\n\n        if (cronParts.length === 6) {\n            options.seconds = cronParts[0] || '*';\n            options.minutes = cronParts[1] || '*';\n            options.hours = cronParts[2] || '*';\n            options.dates = cronParts[3] || '*';\n            options.months = cronParts[4] || '*';\n            options.dows = cronParts[5] || '*';\n        } else {\n            options.seconds = false;\n            options.minutes = cronParts[0] || '*';\n            options.hours = cronParts[1] || '*';\n            options.dates = cronParts[2] || '*';\n            options.months = cronParts[3] || '*';\n            options.dows = cronParts[4] || '*';\n        }\n        return options;\n    }\n    static state2cron(state) {\n        let text = `${state.minutes} ${state.hours} ${state.dates} ${state.months} ${state.dows}`;\n        if (state.seconds !== false) {\n            text = state.seconds + ' ' + text;\n        }\n        return text;\n    }\n\n    recalcCron() {\n        let cron = ComplexCron.state2cron(this.state);\n        if (cron !== this.state.cron) {\n            this.setState({cron}, () => {\n                this.props.onChange && this.props.onChange(this.state.cron);\n            });\n        }\n    }\n\n    onChange(cron) {\n        if (cron !== this.state.cron) {\n            this.setState({cron});\n            this.props.onChange && this.props.onChange(cron);\n        }\n    }\n\n    onToggle(i, type, max) {\n        if (i === true) {\n            this.setState({[type]: '*'}, () => this.recalcCron());\n        } else if (i === false) {\n            if (max === 60 || max === 24) {\n                this.setState({[type]: '0'}, () => this.recalcCron());\n            } else {\n                this.setState({[type]: '1'}, () => this.recalcCron());\n            }\n        } else {\n            let nums = convertMinusIntoArray(this.state[type], max);\n            const pos = nums.indexOf(i);\n            if (pos !== -1) {\n                nums.splice(pos, 1);\n            } else {\n                nums.push(i);\n                nums.sort();\n            }\n            this.setState({[type]: convertArrayIntoMinus(nums, max)}, () => this.recalcCron());\n        }\n    }\n\n    getDigitsSelector(type, max) {\n        let values = [];\n        if (max === 7) {\n            values = [1,2,3,4,5,6,0];\n        } else if (max === 60 || max === 24) {\n            for (let i = 0; i < max; i++) {\n                values.push(i);\n            }\n        } else {\n            for (let i = 1; i <= max; i++) {\n                values.push(i);\n            }\n        }\n        const parts = convertMinusIntoArray(this.state[type], max);\n        return [\n            (<Button\n                key=\"removeall\"\n                variant={'outlined'}\n                className={this.props.classes.numberButton}\n                //style={{paddingBottom: 20}}\n                color={'primary'}\n                onClick={() => this.onToggle(false, type, max)}>{I18n.t('Deselect all')}</Button>),\n            (<Button\n                key=\"addall\"\n                variant={'contained'}\n                //style={{paddingBottom: 20}}\n                className={this.props.classes.numberButton}\n                color={'secondary'}\n                onClick={() => this.onToggle(true, type, max)}>{I18n.t('Select all')}</Button>),\n            (<div key=\"all\">\n                {values.map(i =>\n                    [((max === 7 && i === 4) ||\n                    (max === 12 && i === 7) ||\n                    (max === 31 && !((i - 1) % 10)) ||\n                    (max === 60 && i && !(i % 10)) ||\n                    (max === 24 && i && !(i % 6))) ?\n                    (<div key={'allInner' + i} style={{width: '100%'}}/>) : null,\n                        (<Button\n                            key={'_' + i}\n                            variant={parts.indexOf(i) !== -1 ? 'contained' : 'outlined'}\n                            className={this.props.classes.numberButton}\n                            color={parts.indexOf(i) !== -1 ? 'secondary' : 'primary'}\n                            onClick={() => this.onToggle(i, type, max)}>{max === 7 ? I18n.t(WEEKDAYS[i]) : (max === 12 ? MONTHS[i - 1] : i)}</Button>\n                    )])}\n                    </div>)];\n    }\n\n    getPeriodsTab(type, max) {\n        let value = this.state[type];\n        let every = value === '*';\n        let everyN = value.toString().indexOf('/') !== -1;\n        let select;\n        if (this.state.modes[type] === null) {\n            select = every ? 'every' : (everyN ? 'everyN' : 'specific');\n            const modes = JSON.parse(JSON.stringify(this.state.modes));\n            modes[type] = select;\n            return setTimeout(() => this.setState({modes}, () => this.recalcCron()), 100);\n        } else {\n            every = this.state.modes[type] === 'every';\n            everyN = this.state.modes[type] === 'everyN';\n            select = this.state.modes[type];\n        }\n\n        if (everyN) {\n            value = parseInt(value.replace('*/', ''), 10) || 1;\n        }\n\n        return (<div>\n            <Select\n                className={this.props.classes.periodSelect}\n                style={{verticalAlign: 'bottom'}}\n                value={select}\n                onChange={e => {\n                    const modes = JSON.parse(JSON.stringify(this.state.modes));\n                    modes[type] = e.target.value;\n                    if (e.target.value === 'every') {\n                        this.setState({[type]: '*', modes}, () => this.recalcCron());\n                    } else if (e.target.value === 'everyN') {\n                        const num = parseInt(this.state[type].toString().replace('*/', ''), 10) || 1;\n                        this.setState({[type]: '*/' + num, modes}, () => this.recalcCron());\n                    } else if (e.target.value === 'specific') {\n                        let num = parseInt(this.state[type].split(',')[0], 10) || 0;\n                        console.log(num);\n                        if (!num && (type === 'months' || type === 'dates')) {\n                            num = 1;\n                        }\n                        this.setState({[type]: convertArrayIntoMinus(num, max), modes}, () => this.recalcCron());\n                    }\n                }}>\n                <MenuItem key='every' value='every'>{I18n.t('sc_every_' + type)}</MenuItem>\n                <MenuItem key='everyN' value='everyN'>{I18n.t('sc_everyN_' + type)}</MenuItem>\n                <MenuItem key='specific' value='specific'>{I18n.t('sc_specific_' + type)}</MenuItem>\n            </Select>\n            {everyN && false && (<span>{value}</span>)}\n            {everyN && (<TextField\n                key=\"interval\"\n                label={I18n.t('sc_' + type)}\n                value={value}\n                min={1}\n                max={max}\n                onChange={e => {\n                    this.setState({[type]: '*/' + e.target.value}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                type=\"number\"\n                margin=\"normal\"\n            />)}\n            {!every && !everyN && this.getDigitsSelector(type, max)}\n        </div>);\n    }\n\n    convertCronToText(cron, lang) {\n        if (cron.split(' ').indexOf('-') !== -1) {\n            return I18n.t('Invalid CRON');\n        } else {\n            return convertCronToText(cron, lang);\n        }\n    }\n\n    render() {\n        const tab = this.state.seconds !== false ? this.state.tab : this.state.tab + 1;\n        return (\n            <div className={this.props.classes.mainDiv}>\n                <div style={{paddingLeft: 8, width: '100%'}}><TextField style={{width: '100%'}} value={this.state.cron} disabled={true}/></div>\n                <div style={{paddingLeft: 8, width: '100%', height: 60}}>{this.convertCronToText(this.state.cron, this.props.language || 'en')}</div>\n                <FormControlLabel\n                    control={<Checkbox checked={this.state.seconds}\n                                       onChange={e => this.setState({seconds: e.target.checked ? '*' : false}, () => this.recalcCron())}/>}\n                    label={I18n.t('use seconds')}\n                />\n                <AppBar position=\"static\" classes={{root: this.props.classes.appBar}} color=\"secondary\">\n                    <Tabs value={this.state.tab} className={this.props.classes.appBar} color=\"secondary\" onChange={(active, tab) =>\n                        this.setState({tab})}>\n                        {this.state.seconds !== false && <Tab id=\"sc_seconds\" label={I18n.t('sc_seconds')}/>}\n                        <Tab  id=\"minutes\" label={I18n.t('sc_minutes')}/>\n                        <Tab  id=\"hours\" label={I18n.t('sc_hours')}/>\n                        <Tab  id=\"dates\" label={I18n.t('sc_dates')}/>\n                        <Tab  id=\"months\" label={I18n.t('sc_months')}/>\n                        <Tab  id=\"dows\" label={I18n.t('sc_dows')}/>\n                    </Tabs>\n                </AppBar>\n                {tab === 0 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('seconds', 60)}</div>)}\n                {tab === 1 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('minutes', 60)}</div>)}\n                {tab === 2 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('hours', 24)}</div>)}\n                {tab === 3 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('dates', 31)}</div>)}\n                {tab === 4 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('months', 12)}</div>)}\n                {tab === 5 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('dows', 7)}</div>)}\n            </div>\n        );\n    }\n}\n\nComplexCron.propTypes = {\n    cronExpression: PropTypes.string,\n    onChange: PropTypes.func,\n    language: PropTypes.string,\n};\n\nexport default withStyles(styles)(ComplexCron);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport convertCronToText from './cronText';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto'\n    },\n    formControl: {\n        margin: 0,\n        minWidth: 120,\n    },\n    formControlMarginRight: {\n        marginRight: 5\n    },\n    formControlPaddingTop: {\n        paddingTop: 6.2\n    }\n});\n\nconst PERIODIC = {\n    once: 'once',\n    interval: 'interval',\n    intervalBetween: 'intervalBetween',\n    specific: 'specific'\n};\nconst PERIODIC_TYPES = {\n    seconds: 'seconds',\n    minutes: 'minutes',\n    //hours: 'hours',\n};\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\n\nfunction padding(num) {\n    if (num < 10) return '0' + num;\n    return '' + num;\n}\nconst DEFAULT_STATE = {\n    mode: PERIODIC.interval,\n    interval: {\n        period: 1,\n        unit: PERIODIC_TYPES.minutes\n    }\n};\n\nclass SimpleCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron = (typeof this.props.cronExpression === 'string') ? this.props.cronExpression.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '') : '';\n        if (cron[0] === '{') {\n            cron = '';\n        }\n        const state = SimpleCron.cron2state(cron || '* * * * *') || DEFAULT_STATE;\n\n        this.state = {\n            extended: false,\n            cron: SimpleCron.state2cron(state),\n            mode: 'interval',\n            once: {\n                time: '00:00',\n                date: ''\n            },\n            interval: {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes\n            },\n            intervalBetween: {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes,\n                timeFrom: 0,\n                timeTo: 24,\n                weekdays: [0, 1, 2, 3, 4, 5, 6]\n            },\n            specific: {\n                time: '00:00',\n                weekdays: [0, 1, 2, 3, 4, 5, 6]\n            }\n        };\n        Object.assign(this.state, state);\n\n        if (this.state.cron !== this.props.cronExpression) {\n            setTimeout(() => this.props.onChange && this.props.onChange(this.state.cron), 100);\n        }\n    }\n\n    static periodArray2text(list, max) {\n        max = max || 7;\n        if (list.length === max) {\n            return '*';\n        } else {\n            let text = [];\n            let start = null;\n            let end = null;\n            for (let i = 0; i < list.length; i++) {\n                if (start === null) {\n                    start = list[i];\n                    end = list[i];\n                } else if (list[i - 1] + 1 === list[i]) {\n                    end = list[i];\n                } else {\n                    if (start !== end) {\n                        text.push(start + '-' + end);\n                    } else {\n                        text.push(start);\n                    }\n                    start = list[i];\n                    end = list[i];\n                }\n            }\n            if (start !== end) {\n                text.push(start + '-' + end);\n            } else {\n                text.push(start);\n            }\n            return text.join(',');\n        }\n    }\n\n    static text2weekdays(text) {\n        if (text === '*') {\n            return [0,1,2,3,4,5,6];\n        }\n        const parts = text.split(',');\n        const list = [];\n        parts.forEach(part => {\n            const _parts = part.split('-');\n            if (_parts.length === 2) {\n                const start = parseInt(_parts[0], 10);\n                const end = parseInt(_parts[1], 10);\n                for (let day = start; day <= end; day++) {\n                    if (list.indexOf(day === 7 ? 0 : day) === -1) {\n                        list.push(day === 7 ? 0 : day);\n                    }\n                }\n            } else {\n                if (part === '7') {\n                    part = 0;\n                }\n                part = parseInt(part, 10);\n                if (list.indexOf(part) === -1) {\n                    list.push(part);\n                }\n            }\n        });\n        list.sort();\n        return list;\n    }\n\n    static cron2state(cron) {\n        cron = cron.replace(/['\"]/g, '').trim();\n        const cronParts = cron.split(' ');\n        const options = {};\n        const state = {\n            mode: ''\n        };\n        if (cronParts.length === 6) {\n            options.seconds = cronParts[0] || '*';\n            options.minutes = cronParts[1] || '*';\n            options.hours = cronParts[2] || '*';\n            options.date = cronParts[3] || '*';\n            options.months = cronParts[4] || '*';\n            options.dow = cronParts[5] || '*';\n        } else {\n            options.seconds = null;\n            options.minutes = cronParts[0] || '*';\n            options.hours = cronParts[1] || '*';\n            options.date = cronParts[2] || '*';\n            options.months = cronParts[3] || '*';\n            options.dow = cronParts[4] || '*';\n        }\n\n        // * * * * *\n        if (options.seconds === null &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes\n            };\n        } // * * * * * *\n        if (options.seconds === '*' &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: 1,\n                unit: PERIODIC_TYPES.seconds\n            };\n        } else// */n * * * *\n        if (options.seconds === null &&\n            options.minutes.indexOf('/') !== -1 &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: parseInt(options.minutes.split('/')[1], 10),\n                unit: PERIODIC_TYPES.minutes\n            };\n        } else\n        // */n * * * * *\n        if (options.seconds !== null && options.seconds.indexOf('/') !== -1 &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: parseInt(options.seconds.split('/')[1], 10),\n                unit: PERIODIC_TYPES.seconds\n            };\n        } else\n        // */n * 1-24 * * 1-7 or  */n * 1-24 * * *\n        if (options.seconds !== null && options.seconds.indexOf('/') !== -1 &&\n            options.minutes === '*' &&\n            options.hours.indexOf('-') !== -1 &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.intervalBetween;\n            state.intervalBetween = {\n                period: parseInt(options.seconds.split('/')[1], 10),\n                unit: PERIODIC_TYPES.seconds,\n                timeFrom: parseInt(options.hours.split('-')[0], 10),\n                timeTo: parseInt(options.hours.split('-')[1], 10),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // */n 1-24 * * 1-7 or  */n 1-24 * * *\n        if (options.seconds === null &&\n            options.minutes.indexOf('/') !== -1 &&\n            options.hours.indexOf('-') !== -1 &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.intervalBetween;\n            state.intervalBetween = {\n                period: parseInt(options.minutes.split('/')[1], 10),\n                unit: PERIODIC_TYPES.minutes,\n                timeFrom: parseInt(options.hours.split('-')[0], 10),\n                timeTo: parseInt(options.hours.split('-')[1], 10),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // m h * * 1-7 or m h * * *\n        if (options.seconds === null &&\n            parseInt(options.minutes, 10).toString() === options.minutes &&\n            parseInt(options.hours, 10).toString() === options.hours &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.specific;\n            state.specific = {\n                time: padding(parseInt(options.hours, 10)) + ':' + padding(parseInt(options.minutes, 10)),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // m h d M *\n        if (options.seconds === null &&\n            parseInt(options.minutes, 10).toString() === options.minutes &&\n            parseInt(options.hours, 10).toString() === options.hours &&\n            parseInt(options.date, 10).toString() === options.date &&\n            parseInt(options.months, 10).toString() === options.months &&\n            options.dow === '*') {\n            state.mode = PERIODIC.once;\n            state.once = {\n                time: padding(parseInt(options.hours, 10)) + ':' + padding(parseInt(options.minutes, 10)),\n                date: padding(parseInt(options.date, 10)) + '.' + padding(parseInt(options.months, 10)),\n            // ignored\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            }\n        }\n\n        if (state.mode) {\n            return state;\n        } else {\n            return null;\n        }\n    }\n\n    static state2cron(state) {\n        let cron = '* * * * *';\n        if (state.mode === PERIODIC.interval) {\n            const settings = state.interval || {};\n            if (settings.period > 60) settings.period = 60;\n            if (settings.period < 1) settings.period = 1;\n\n            if (settings.minutes > 60) settings.minutes = 60;\n            if (settings.minutes < 1) settings.minutes = 1;\n\n            if (settings.hours > 24) settings.hours = 24;\n            if (settings.hours < 1) settings.hours = 1;\n\n            if (state.extended) {\n                cron = `${settings.minutes > 1 ? '*/' + settings.minutes : '*'} ${settings.hours > 1 ? '*/' + settings.hours : '*'} * * *`;\n            } else {\n                switch (settings.unit) {\n                    case PERIODIC_TYPES.seconds:\n                        cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * * * * *`;\n                        break;\n                    case PERIODIC_TYPES.minutes:\n                        cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * * * *`;\n                        break;\n                    default:\n                        break;\n                }\n            }\n        } else if (state.mode === PERIODIC.intervalBetween) {\n            const settings = state.intervalBetween || {};\n            let hours;\n            settings.timeFrom = settings.timeFrom || 0;\n            settings.timeTo = settings.timeTo === undefined ? 24 : settings.timeTo;\n            if (settings.timeFrom === 0 && settings.timeTo === 24) {\n                hours = '*';\n            } else {\n                hours = settings.timeFrom !== settings.timeTo ? settings.timeFrom + '-' + settings.timeTo : '*';\n            }\n            if (settings.period > 60) settings.period = 60;\n            if (settings.period < 1) settings.period = 1;\n            settings.unit = settings.unit || PERIODIC_TYPES.minutes;\n            switch (settings.unit) {\n                case PERIODIC_TYPES.seconds:\n                    cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * ${hours} * * ${this.periodArray2text(settings.weekdays)}`;\n                    break;\n                case PERIODIC_TYPES.minutes:\n                    cron = `${settings.period > 1 ? '*/' + settings.period : '*'} ${hours} * * ${this.periodArray2text(settings.weekdays)}`;\n                    break;\n                default:\n                    break;\n            }\n        } else if (state.mode === PERIODIC.specific) {\n            const settings = state.specific || {};\n            const parts = (settings.time || '00:00').split(':');\n            let minutes = parseInt(parts[1], 10) || 0;\n            if (minutes > 59) minutes = 59;\n            if (minutes < 0) minutes = 0;\n            let hours = parseInt(parts[0], 10) || 0;\n            if (hours > 23) hours = 59;\n            if (hours < 0) hours = 0;\n\n            cron = `${minutes} ${hours} * * ${this.periodArray2text(settings.weekdays || [])}`;\n        } else if (state.mode === PERIODIC.once) {\n            const settings = state.once || {};\n            if (!settings.date) {\n                settings.date = new Date().getDate() + '.' + padding(new Date().getMonth() + 1);\n            }\n            const parts = (settings.time || '00:00').split(':');\n            const partsDate = settings.date.split('.');\n            let minutes = parseInt(parts[1], 10) || 0;\n            if (minutes > 59) minutes = 59;\n            if (minutes < 0) minutes = 0;\n            let hours = parseInt(parts[0], 10) || 0;\n            if (hours > 23) hours = 59;\n            if (hours < 0) hours = 0;\n            let date = parseInt(partsDate[0], 10) || 1;\n            if (date > 31) date = 31;\n            if (date < 1) hours = 1;\n            let month = parseInt(partsDate[1], 10) || 1;\n            if (month > 12) month = 12;\n            if (month < 1) month = 1;\n\n            cron = `${minutes} ${hours} ${date} ${month} *`;\n        }\n        return cron;\n    }\n\n    recalcCron() {\n        this.onChange(SimpleCron.state2cron(this.state));\n    }\n\n    getControlsWeekdaysElements(type) {\n        const settings = this.state[type];\n        return (<div key=\"weekdays\" style={{paddingLeft: 8, width: '100%', maxWidth: 600}}>\n            <h5>{I18n.t('On weekdays')}</h5>\n            {[1,2,3,4,5,6,0].map(day => (\n                <FormControlLabel\n                    key={WEEKDAYS[day]}\n                    control={\n                        <Checkbox\n                            checked={settings.weekdays.indexOf(day) !== -1}\n                            onChange={e => {\n                                const settings = JSON.parse(JSON.stringify(this.state[type]));\n                                const pos = settings.weekdays.indexOf(day);\n                                e.target.checked && pos === -1 && settings.weekdays.push(day);\n                                !e.target.checked && pos !== -1 && settings.weekdays.splice(pos, 1);\n                                settings.weekdays.sort();\n                                this.setState({[type]: settings}, () => this.recalcCron());\n                            }}\n                            value={day.toString()}\n                        />\n                    }\n                    label={I18n.t(WEEKDAYS[day])}\n                />))\n            }</div>);\n    }\n\n    getControlsPeriodElements(type) {\n        const settings = this.state[type];\n\n        if (this.state.extended) {\n            return (<div key=\"period\" style={{paddingLeft: 8, display: 'inline-block'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_period')}</h5>\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_minutes')}\n                    value={settings.minutes}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.minutes = parseInt(e.target.value, 10);\n                        if (settings.minutes < 1) settings.minutes = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={60}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                />\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_hours')}\n                    value={settings.hours}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.hours = parseInt(e.target.value, 10);\n                        if (settings.hours < 1) settings.hours = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={24}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                />\n            </div>);\n        } else {\n            return (<div key=\"period\" style={{paddingLeft: 8, display: 'inline-block'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_period')}</h5>\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_every')}\n                    value={settings.period}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.period = parseInt(e.target.value, 10);\n                        if (settings.period < 1) settings.period = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={60}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                /><Select\n                style={{verticalAlign: 'bottom'}}\n                value={settings.unit}\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.unit = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}>\n                {Object.keys(PERIODIC_TYPES).map(mode => (<MenuItem key={PERIODIC_TYPES[mode]} value={PERIODIC_TYPES[mode]}>{I18n.t('sc_' + PERIODIC_TYPES[mode])}</MenuItem>))}\n            </Select></div>);\n        }\n    }\n\n    getControlsTime(type) {\n        const settings = this.state[type];\n        return (<FormControl className={this.props.classes.formControl} classes={{root: this.props.classes.formControlMarginRight}}>\n            <TextField\n                key=\"at\"\n                label={I18n.t('sc_time')}\n                value={settings.time}\n                type=\"time\"\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.time = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                margin=\"normal\"\n            />\n        </FormControl>);\n    }\n\n    getControlsDate(type) {\n        const settings = this.state[type];\n\n        if (!settings.date) {\n            const d = new Date();\n            settings.date = d.getDate() + '.'  + padding(d.getMonth() + 1);\n        }\n\n        //<InputLabel htmlFor=\"formatted-text-mask-input\">{I18n.t('sc_at')}</InputLabel>\n        return (<FormControl className={this.props.classes.formControl}>\n            <TextField\n                key=\"date\"\n                label={I18n.t('sc_date')}\n                value={settings.date}\n                type=\"text\"\n                inputProps={{className: this.props.classes.formControlPaddingTop}}\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.date = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                margin=\"normal\"\n            />\n        </FormControl>);\n    }\n\n    getOnceElements() {\n        return (<div style={{marginLeft: 8}}>\n            {this.getControlsTime('once')}\n            {this.getControlsDate('once')}\n            </div>);\n    }\n\n    getIntervalElements() {\n        return this.getControlsPeriodElements('interval');\n    }\n\n    getIntervalBetweenElements() {\n        const settings = this.state.intervalBetween;\n        return [\n            this.getControlsPeriodElements('intervalBetween'),\n            (<div key=\"between\" style={{paddingLeft: 8, display: 'inline-block', verticalAlign: 'top'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_hours')}</h5>\n                <FormControl className={this.props.classes.formControl}>\n                    <InputLabel shrink htmlFor=\"age-label-placeholder\">{I18n.t('sc_from')}</InputLabel>\n                    <Select\n                    style={{width: 100}}\n                    value={settings.timeFrom}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state.intervalBetween));\n                        settings.timeFrom = parseInt(e.target.value, 10);\n                        this.setState({intervalBetween: settings}, () => this.recalcCron());\n                    }}>\n                    {[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23].map(hour => (<MenuItem key={'B_' + hour} value={hour}>{padding(hour) + ':00'}</MenuItem>))}\n                </Select>\n                </FormControl>\n                <FormControl className={this.props.classes.formControl}>\n                    <InputLabel shrink htmlFor=\"age-label-placeholder\">{I18n.t('sc_to')}</InputLabel>\n                    <Select\n                        style={{width: 100}}\n                        value={settings.timeTo}\n                        onChange={e => {\n                            const settings = JSON.parse(JSON.stringify(this.state.intervalBetween));\n                            settings.timeTo = parseInt(e.target.value, 10);\n                            this.setState({intervalBetween: settings}, () => this.recalcCron());\n                        }}>\n                        {[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map(hour => (<MenuItem key={'A_' + hour} value={hour}>{padding(hour) + ':00'}</MenuItem>))}\n                    </Select>\n                </FormControl>\n            </div>),\n            this.getControlsWeekdaysElements('intervalBetween')\n        ];\n    }\n\n    getSpecificTimeElements() {\n        return [\n            (<div key=\"time\" style={{marginLeft: 8}}>{this.getControlsTime('specific')}</div>),\n            this.getControlsWeekdaysElements('specific')\n        ]\n    }\n\n    onModeChange(mode) {\n        if (mode !== this.state.mode) {\n            this.setState({mode}, () => this.recalcCron());\n        }\n    }\n\n    onChange(cron) {\n        if (cron !== this.state.cron) {\n            this.setState({cron});\n            this.props.onChange && this.props.onChange(cron);\n        }\n    }\n\n    render() {\n        return (\n            <div className={this.props.classes.mainDiv}>\n                <div style={{paddingLeft: 8, width: '100%'}}><TextField style={{width: '100%'}} value={this.state.cron} disabled={true}/></div>\n                <div style={{paddingLeft: 8, width: '100%', height: 60}}>{convertCronToText(this.state.cron, this.props.language || 'en')}</div>\n                <div><FormControl style={{marginLeft: 8, marginTop: 8}} className={this.props.classes.formControl}>\n                    <InputLabel>{I18n.t('Repeat')}</InputLabel>\n                    <Select\n                        value={this.state.mode}\n                        onChange={e => this.onModeChange(e.target.value)}\n                        inputProps={{name: 'mode', id: 'mode',}}>\n                        {Object.keys(PERIODIC).map(mode => (<MenuItem key={PERIODIC[mode]} value={PERIODIC[mode]}>{I18n.t('sc_' + PERIODIC[mode])}</MenuItem>))}\n                    </Select>\n                </FormControl></div>\n                {this.state.mode === PERIODIC.once && this.getOnceElements()}\n                {this.state.mode === PERIODIC.interval && this.getIntervalElements()}\n                {this.state.mode === PERIODIC.intervalBetween && this.getIntervalBetweenElements()}\n                {this.state.mode === PERIODIC.specific && this.getSpecificTimeElements()}\n            </div>\n        );\n    }\n}\n\nSimpleCron.propTypes = {\n    cronExpression: PropTypes.string,\n    onChange: PropTypes.func,\n    language: PropTypes.string,\n};\n\nexport default withStyles(styles)(SimpleCron);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport MaskedInput from 'react-text-mask';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport TextField from \"@material-ui/core/TextField\";\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    hr: {\n        border: 0,\n        borderTop: '1px solid gray'\n    },\n    scrollWindow: {\n        width: '100%',\n        overflow: 'auto',\n        height: 'calc(100% - 22px)'\n    },\n    rowDiv: {\n        width: '100%',\n    },\n    modeDiv: {\n        width: 200,\n        display: 'inline-block',\n        verticalAlign: 'top'\n    },\n    settingsDiv: {\n        display: 'inline-block',\n        verticalAlign: 'top'\n    },\n    inputTime: {\n        width: 90,\n        marginTop: 0,\n        marginLeft: 5\n    },\n    inputDate: {\n        width: 140,\n        marginTop: 0,\n        marginLeft: 5\n    },\n    inputEvery: {\n        width: 40,\n        marginLeft: 5,\n        marginRight: 5,\n    },\n    inputRadio: {\n        padding: '4px 12px',\n        verticalAlign: 'top'\n    },\n    inputGroup: {\n        maxWidth: 400,\n        display: 'inline-block'\n    },\n    inputGroupElement: {\n        width: 120,\n    },\n    inputDateDay: {\n        width: 60,\n    },\n    inputDateDayCheck: {\n        padding: 4,\n    },\n    inputSmallCheck: {\n        padding: 0,\n    },\n    rowOnce: {\n\n    },\n\n    rowDays: {\n        background: theme.palette.type !== 'dark' ? '#ddeaff' :  '#4b5057'\n    },\n    rowDows: {\n        background: theme.palette.type !== 'dark' ? '#DDFFDD' :  '#52646c'\n    },\n    rowDates: {\n        background: theme.palette.type !== 'dark' ? '#DDDDFF' :  '#747a86'\n    },\n    rowWeeks: {\n        background: theme.palette.type !== 'dark' ? '#DDDDFF' :  '#717680'\n    },\n    rowMonths: {\n        background: theme.palette.type !== 'dark' ? '#DDFFFF' :  '#1f5557'\n    },\n    rowMonthsDates: {\n        background: theme.palette.type !== 'dark' ? '#EEFFFF' :  '#3c5737',\n        maxWidth: 600\n    },\n    rowYears: {\n        background: theme.palette.type !== 'dark' ? '#fbffdd' :  '#574b33'\n    },\n    rowDaysDows: {\n        background: theme.palette.type !== 'dark' ? '#EEEAFF' :  '#573544',\n        paddingLeft: 10,\n        paddingBottom: 10\n    },\n    rowDowsDows: {\n        background: theme.palette.type !== 'dark' ? '#EEFFEE' :  '#3d4c54',\n        paddingLeft: 10,\n        paddingBottom: 10\n    }\n});\n\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\nconst MONTHS = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\nconst PERIODS = {\n    'minutes': 'minutes',\n    'hours': 'hours',\n};\nconst ASTRO = [\n    'sunrise',\n    'sunriseEnd',\n    'goldenHourEnd',\n    'solarNoon',\n    'goldenHour',\n    'sunsetStart',\n    'sunset',\n    'dusk',\n    'nauticalDusk',\n    'night',\n    'nightEnd',\n    'nauticalDawn',\n    'dawn',\n    'nadir',\n];\n\nfunction padding(num) {\n    if (num < 10) return '0' + num;\n    return '' + num;\n}\n\nfunction TextTime(props) {\n    const { inputRef, ...other } = props;\n\n    return (\n        <MaskedInput\n            {...other}\n            ref={inputRef}\n            mask={[/[0-2]/, /[0-9]/, ':', /[0-5]/, /[0-9]/]}\n            placeholderChar={props.placeholder || '00:00'}\n            showMask\n        />\n    );\n}\n\nTextTime.propTypes = {\n    inputRef: PropTypes.func.isRequired,\n};\n\nfunction TextDate(props) {\n    const { inputRef, ...other } = props;\n\n    return (\n        <MaskedInput\n            {...other}\n            ref={inputRef}\n            mask={[/[0-3]/, /[0-9]/, '.', /[0-1]/, /[0-9]/, '.', '2', '0', /[0-9]/, /[0-9]/]}\n            placeholderChar={props.placeholder || '01.01.2020'}\n            showMask\n        />\n    );\n}\n\nTextDate.propTypes = {\n    inputRef: PropTypes.func.isRequired,\n};\n\nconst DEFAULT = {\n    time: {\n        exactTime: false,\n\n        start: '00:00',\n        end: '23:59',\n\n        mode: 'hours',\n        interval: 1,\n    },\n    period: {\n        once: '',\n        days: 1,\n        dows: '',\n        dates: '',\n        weeks: 0,\n        months: '',\n\n        years: 0,\n        yearMonth: 0,\n        yearDate: 0,\n    },\n    valid: {\n        from: '',\n        to: ''\n    }\n};\nfunction string2USdate(date) {\n    const parts = date.split('.');\n    if (parts.length === 3) {\n        return parts[2] + '-' + parts[1] + '-' + parts[0];\n    }\n\n}\nclass Schedule extends React.Component {\n    constructor(props) {\n        super(props);\n        let schedule;\n        if (this.props.schedule && typeof this.props.schedule === 'string' && this.props.schedule[0] === '{') {\n            try {\n                schedule = JSON.parse(this.props.schedule);\n            } catch (e) {\n\n            }\n        }\n\n        if ((!schedule || !Object.keys(schedule).length) && this.props.onChange) {\n            setTimeout(() => this.onChange(this.state.schedule, true), 200);\n        }\n        schedule = schedule || {};\n        schedule = Object.assign({}, DEFAULT, schedule);\n        schedule.valid.from = schedule.valid.from || this.now2string();\n\n        this.refFrom = React.createRef();\n        this.refTo = React.createRef();\n        this.refOnce = React.createRef();\n\n        this.state = {\n            schedule,\n            desc: this.state2text(schedule)\n        };\n\n        if (JSON.stringify(schedule) !== this.props.schedule) {\n            setTimeout(() => this.props.onChange && this.props.onChange(JSON.stringify(schedule)), 100);\n        }\n    }\n\n    onChange(schedule, force) {\n        const isDiff = JSON.stringify(schedule) !== JSON.stringify(this.state.schedule);\n        if (force || isDiff) {\n            isDiff && this.setState({schedule, desc: this.state2text(schedule)});\n            const copy = JSON.parse(JSON.stringify(schedule));\n            if (copy.period.once) {\n                let once = copy.period.once;\n                delete copy.period;\n                copy.period = {once};\n                delete copy.valid;\n            } else\n            if (copy.period.days) {\n                let days = copy.period.days;\n                let dows = copy.period.dows;\n                delete copy.period;\n                copy.period = {days};\n                if (dows && dows !== '[]') {\n                    copy.period.dows = dows;\n                }\n            } else\n            if (copy.period.weeks) {\n                let weeks = copy.period.weeks;\n                let dows = copy.period.dows;\n                delete copy.period;\n                copy.period = {weeks};\n                if (dows && dows !== '[]') {\n                    copy.period.dows = dows;\n                }\n            } else\n            if (copy.period.months) {\n                let months = copy.period.months;\n                let dates = copy.period.dates;\n                delete copy.period;\n                copy.period = {months};\n                if (dates && dates !== '[]') {\n                    copy.period.dates = dates;\n                }\n            } else\n            if (copy.period.years) {\n                let years = copy.period.years;\n                let yearMonth = copy.period.yearMonth;\n                let yearDate = copy.period.yearDate;\n                delete copy.period;\n                copy.period = {years, yearDate};\n                if (yearMonth) {\n                    copy.period.yearMonth = yearMonth;\n                }\n            }\n\n            if (copy.time.exactTime) {\n                delete copy.time.end;\n                delete copy.time.mode;\n                delete copy.time.interval;\n            } else {\n                delete copy.time.exactTime;\n            }\n            if (copy.valid) {\n                if (!copy.valid.to) {\n                    delete copy.valid.to;\n                }\n                if (copy.period.days === 1 || copy.period.weeks === 1 || copy.period.months === 1 || copy.period.years === 1) {\n                    const from = this.string2date(copy.valid.from);\n                    const today = new Date();\n                    today.setHours(0);\n                    today.setMinutes(0);\n                    today.setSeconds(0);\n                    today.setMilliseconds(0);\n                    if (from <= today) {\n                        delete copy.valid.from;\n                    }\n                }\n                if (!copy.valid.from && !copy.valid.to) {\n                    delete copy.valid;\n                }\n            }\n\n            this.props.onChange && this.props.onChange(JSON.stringify(copy));\n        }\n    }\n\n    state2text(schedule) {\n        let desc = [];\n        let validFrom = this.string2date(schedule.valid.from);\n        if (schedule.period.once) {\n            // once\n            let once = this.string2date(schedule.period.once);\n            let now = new Date();\n            now.setMilliseconds(0);\n            now.setSeconds(0);\n            now.setMinutes(0);\n            now.setHours(0);\n\n            //\n            if (once < now) {\n                // will ne be not executed any more, because start is in the past\n                return I18n.t('sch_desc_onceInPast');\n            } else {\n                // only once\n                desc.push(I18n.t('sch_desc_once_on', schedule.period.once));\n            }\n        } else\n        if (schedule.period.days) {\n            if (schedule.period.days === 1) {\n                if (schedule.period.dows) {\n                    const dows = JSON.parse(schedule.period.dows);\n                    if (dows.length === 2 && dows[0] === 0 && dows[1] === 6) {\n                        // on weekends\n                        desc.push(I18n.t('sch_desc_onWeekends'));\n                    } else if (dows.length === 5 && dows[0] === 1 && dows[1] === 2 && dows[2] === 3 && dows[3] === 4 && dows[4] === 5) {\n                        // on workdays\n                        desc.push(I18n.t('sch_desc_onWorkdays'));\n                    } else {\n                        const tDows = dows.map(day => I18n.t(WEEKDAYS[day]));\n                        if (tDows.length === 1) {\n                            // on Monday\n                            desc.push(I18n.t('sch_desc_onWeekday', tDows[0]));\n                        } else if (tDows.length === 7) {\n                            // on every day\n                            desc.push(I18n.t('sch_desc_everyDay'));\n                        } else {\n                            const last = tDows.pop();\n                            // on Monday and Sunday\n                            desc.push(I18n.t('sch_desc_onWeekdays', tDows.join(', '), last));\n                        }\n                    }\n                } else {\n                    desc.push(I18n.t('sch_desc_everyDay'));\n                }\n            } else {\n                desc.push(I18n.t('sch_desc_everyNDay', schedule.period.days));\n            }\n        } else\n        if (schedule.period.weeks) {\n            if (schedule.period.weeks === 1) {\n                desc.push(I18n.t('sch_desc_everyWeek'));\n            } else {\n                desc.push(I18n.t('sch_desc_everyNWeeks', schedule.period.weeks));\n            }\n\n            if (schedule.period.dows) {\n                const dows = JSON.parse(schedule.period.dows);\n                if (dows.length === 2 && dows[0] === 0 && dows[1] === 6) {\n                    // on weekends\n                    desc.push(I18n.t('sch_desc_onWeekends'));\n                } else if (dows.length === 5 && dows[0] === 1 && dows[1] === 2 && dows[2] === 3 && dows[3] === 4 && dows[4] === 5) {\n                    // on workdays\n                    desc.push(I18n.t('sch_desc_onWorkdays'));\n                } else {\n                    const tDows = dows.map(day => I18n.t(WEEKDAYS[day]));\n                    if (tDows.length === 1) {\n                        // on Monday\n                        desc.push(I18n.t('sch_desc_onWeekday', tDows[0]));\n                    } else if (tDows.length === 7) {\n                        // on every day\n                        desc.push(I18n.t('sch_desc_everyDay'));\n                    } else {\n                        const last = tDows.pop();\n                        // on Monday and Sunday\n                        desc.push(I18n.t('sch_desc_onWeekdays', tDows.join(', '), last));\n                    }\n                }\n            } else {\n                return I18n.t('sch_desc_never');\n            }\n        } else\n        if (schedule.period.months) {\n            if (schedule.period.dates) {\n                const dates = JSON.parse(schedule.period.dates);\n                if (dates.length === 1) {\n                    // in 1 of month\n                    desc.push(I18n.t('sch_desc_onDate', dates[0]));\n                } else if (dates.length === 31) {\n                    desc.push(I18n.t('sch_desc_onEveryDate'));\n                } else if (!dates.length) {\n                    return I18n.t('sch_desc_never');\n                } else {\n                    const last = dates.pop();\n                    // in 1 and 4 of month\n                    desc.push(I18n.t('sch_desc_onDates', dates.join(', '), last));\n                }\n            } else {\n                desc.push(I18n.t('sch_desc_onEveryDate'));\n            }\n\n            if (schedule.period.months === 1) {\n                desc.push(I18n.t('sch_desc_everyMonth'));\n            } else if (typeof schedule.period.months === 'number') {\n                desc.push(I18n.t('sch_desc_everyNMonths', schedule.period.months));\n            } else {\n                const months = JSON.parse(schedule.period.months);\n                const tMonths = months.map(month => I18n.t(MONTHS[month - 1]));\n                if (!tMonths.length) {\n                    // in January\n                    return I18n.t('sch_desc_never');\n                } else if (tMonths.length === 1) {\n                    // in January\n                    desc.push(I18n.t('sch_desc_onMonth', tMonths[0]));\n                } else if (tMonths.length === 12) {\n                    // every month\n                    desc.push(I18n.t('sch_desc_everyMonth'));\n                } else {\n                    const last = tMonths.pop();\n                    // in January and May\n                    desc.push(I18n.t('sch_desc_onMonths', tMonths.join(', '), last));\n                }\n            }\n        }\n        else\n        if (schedule.period.years) {\n            if (schedule.period.years === 1) {\n                desc.push(I18n.t('sch_desc_everyYear'));\n            } else {\n                desc.push(I18n.t('sch_desc_everyNYears', schedule.period.years));\n            }\n            desc.push(I18n.t('sch_desc_onDate', schedule.period.yearDate, schedule.period.yearMonth ? I18n.t(MONTHS[schedule.period.yearMonth - 1]) : I18n.t('sch_desc_everyMonth')));\n        }\n\n        // time\n        if (schedule.time.exactTime) {\n            if (ASTRO.indexOf(schedule.time.start) !== -1) {\n                // at sunset\n                desc.push(I18n.t('sch_desc_atTime', I18n.t('sch_astro_' + schedule.time.start)));\n            } else {\n                // at HH:MM\n                desc.push(I18n.t('sch_desc_atTime', schedule.time.start));\n            }\n        } else {\n            if (schedule.time.mode === PERIODS.minutes) {\n                if (schedule.time.interval === 1) {\n                    // every minute\n                    desc.push(I18n.t('sch_desc_everyMinute'));\n                } else {\n                    // every N minutes\n                    desc.push(I18n.t('sch_desc_everyNMinutes', schedule.time.interval));\n                }\n            } else {\n                if (schedule.time.interval === 1) {\n                    // every minute\n                    desc.push(I18n.t('sch_desc_everyHour'));\n                } else {\n                    // every N minutes\n                    desc.push(I18n.t('sch_desc_everyNHours', schedule.time.interval));\n                }\n            }\n            const start = ASTRO.indexOf(schedule.time.start) !== -1 ? I18n.t('sch_astro_' + schedule.time.start) : schedule.time.start;\n            const end = ASTRO.indexOf(schedule.time.end) !== -1 ? I18n.t('sch_astro_' + schedule.time.end) : schedule.time.end;\n            if (start !== '00:00' || (end !== '24:00' && end !== '23:59')) {\n                // from HH:mm to HH:mm\n                desc.push(I18n.t('sch_desc_intervalFromTo', start, end));\n            }\n        }\n\n        if (!schedule.period.once) {\n            // valid\n            if (validFrom.getTime() > Date.now() && schedule.valid.to) {\n                // from XXX to XXXX\n                desc.push(I18n.t('sch_desc_validFromTo', schedule.valid.from, schedule.valid.to));\n            } else if (validFrom.getTime() > Date.now()) {\n                // from XXXX\n                desc.push(I18n.t('sch_desc_validFrom', schedule.valid.from));\n            } else if (schedule.valid.to) {\n                // till XXXX\n                desc.push(I18n.t('sch_desc_validTo', schedule.valid.to));\n            }\n        }\n        return desc.join(' ');\n    }\n\n    getTimePeriodElements() {\n        const schedule = this.state.schedule;\n        let wholeDay = false;\n        let day = false;\n        let night = false;\n        let fromTo = true;\n        if (schedule.time.start === '00:00' && schedule.time.end === '24:00') {\n            wholeDay = true;\n            fromTo = false;\n        } else if (schedule.time.start === 'sunrise') {\n            day = true;\n            fromTo = false;\n        } else if (schedule.time.start === 'sunset') {\n            night = true;\n            fromTo = false;\n        }\n\n        return (\n            <div key=\"timePeriod\" className={this.props.classes.rowDiv}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={!schedule.time.exactTime} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.exactTime = false;\n                        this.onChange(_schedule);\n                    }}/>} label={I18n.t('sch_intervalTime')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>\n                        {!schedule.time.exactTime && (<div>\n                            <div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={fromTo} onClick={() => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.time.start = '00:00';\n                                _schedule.time.end = '23:59';\n                                this.onChange(_schedule);\n                            }}/>} label={!fromTo ? I18n.t('sch_fromTo') : ''} />\n                                {fromTo && [\n                                    (<TextField\n                                        className={this.props.classes.inputTime}\n                                        style={{marginRight: 10}}\n                                        key=\"exactTimeFrom\"\n                                        type=\"time\"\n                                        value={this.state.schedule.time.start}\n                                        //InputProps={{inputComponent: TextTime}}\n                                        onChange={e => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.time.start = e.target.value;\n                                            this.onChange(_schedule);\n                                        }}\n                                        InputLabelProps={{shrink: true,}}\n                                        label={I18n.t('sch_from')}\n                                        margin=\"normal\"\n                                    />),\n                                    (<TextField\n                                        className={this.props.classes.inputTime}\n                                        key=\"exactTimeTo\"\n                                        type=\"time\"\n                                        value={this.state.schedule.time.end}\n                                        //InputProps={{inputComponent: TextTime}}\n                                        onChange={e => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.time.end = e.target.value;\n                                            this.onChange(_schedule);\n                                        }}\n                                        InputLabelProps={{shrink: true,}}\n                                        label={I18n.t('sch_to')}\n                                        margin=\"normal\"\n                                    />)\n                                ]}\n                            </div>\n                        </div>)}\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={wholeDay} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = '00:00';\n                            _schedule.time.end = '24:00';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_wholeDay')} /></div>) }\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={day} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = 'sunrise';\n                            _schedule.time.end = 'sunset';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_astroDay')} /></div>) }\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={night} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = 'sunset';\n                            _schedule.time.end = 'sunrise';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_astroNight')} /></div>) }\n                    </div>\n                    {!schedule.time.exactTime && this.getPeriodSettingsMinutes()}\n                </div>\n            </div>);\n    }\n\n    getTimeExactElements() {\n        const isAstro = ASTRO.indexOf(this.state.schedule.time.start) !== -1;\n\n        return (<div key=\"timeExact\"  className={this.props.classes.rowDiv}>\n            <div className={this.props.classes.modeDiv}>\n                <FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={this.state.schedule.time.exactTime} onClick={() => {\n                    const schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    schedule.time.exactTime = true;\n                    this.onChange(schedule);\n                }}/>} label={I18n.t('sch_exactTime')} />\n            </div>\n            {this.state.schedule.time.exactTime &&\n                (<Select value={isAstro ? this.state.schedule.time.start : '00:00'}\n                         onChange={e => {\n                             const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                             _schedule.time.start = e.target.value;\n                             this.onChange(_schedule);\n                         }}\n                >\n                    <MenuItem key=\"specific\" value={'00:00'}>{I18n.t('sch_specificTime')}</MenuItem>\n                    {ASTRO.map(event => (<MenuItem key={event} value={event}>{I18n.t('sch_astro_' + event)}</MenuItem>))}\n                </Select>)\n            }\n            {this.state.schedule.time.exactTime && !isAstro &&\n                (<div className={this.props.classes.settingsDiv}><TextField\n                    className={this.props.classes.inputTime}\n                    key=\"exactTimeValue\"\n                    value={this.state.schedule.time.start}\n                    type=\"time\"\n                    // inputComponent={TextTime}\n                    onChange={e => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.start = e.target.value;\n                        this.onChange(_schedule);\n                    }}\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                /></div>)\n            }\n        </div>)\n    }\n\n    getDivider() {\n        return (<hr className={this.props.classes.hr}/>);\n    }\n\n    getPeriodModes() {\n        const schedule = this.state.schedule;\n        const isOnce = !schedule.period.dows && !schedule.period.months && !schedule.period.dates && !schedule.period.years && !schedule.period.days && !schedule.period.weeks;\n        if (isOnce && !schedule.period.once) {\n            schedule.period.once = this.now2string(true);\n        }\n\n        return [\n            // ----- once ---\n            (<div key=\"once\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowOnce}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={isOnce} onClick={() => {\n                                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.once = _schedule.period.once || this.now2string(true);\n                                    _schedule.period.dows = '';\n                                    _schedule.period.months = '';\n                                    _schedule.period.dates = '';\n                                    _schedule.period.years = 0;\n                                    _schedule.period.yearDate = 0;\n                                    _schedule.period.yearMonth = 0;\n                                    _schedule.period.weeks = 0;\n                                    _schedule.period.days = 0;\n                                    this.onChange(_schedule);\n                                }}/>)}\n                              label={I18n.t('sch_periodOnce')} />\n                </div>\n                {isOnce && (<div className={this.props.classes.settingsDiv}>\n                    {<TextField\n                        className={this.props.classes.inputDate}\n                        type=\"date\"\n                        ref={this.refOnce}\n                        key=\"exactDateAt\"\n                        defaultValue={string2USdate(schedule.period.once)}\n                        //InputProps={{inputComponent: TextTime}}\n                        onChange={e => {\n                            this.timerOnce && clearTimeout(this.timerOnce);\n\n                            this.refOnce.current.style.background = '#ff000030';\n                            this.timerOnce = setTimeout(value => {\n                                this.timerOnce = null;\n                                this.refOnce.current.style.background = '';\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const date = this.string2date(value);\n                                if (date.toString() !== 'Invalid Date') {\n                                    _schedule.period.once = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                    this.onChange(_schedule);\n                                }\n                            }, 1500, e.target.value);\n                        }}\n                        InputLabelProps={{shrink: true,}}\n                        label={I18n.t('sch_at')}\n                        margin=\"normal\"\n                    />}\n                </div>)}\n            </div>),\n\n\n            // ----- days ---\n            (<div key=\"days\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDays}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.days} onClick={() => {\n                               const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.days = 1;\n                                _schedule.period.dows = '';\n                                _schedule.period.months = '';\n                                _schedule.period.dates = '';\n                                _schedule.period.years = 0;\n                                _schedule.period.yearDate = 0;\n                                _schedule.period.yearMonth = 0;\n                                _schedule.period.weeks = 0;\n                                _schedule.period.once = '';\n                               this.onChange(_schedule);\n                           }}/>)}\n                           label={I18n.t('sch_periodDaily')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    {this.getPeriodSettingsDaily()}\n                    {schedule.period.days ? this.getPeriodSettingsWeekdays() : null}\n                </div>\n            </div>),\n\n\n            // ----- days of weeks ---\n            /*!schedule.period.days && (\n                <div key=\"dows\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDows}>\n                    <div className={this.props.classes.modeDiv}>\n                        <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.dows} onClick={() => {\n                            const schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            schedule.period.dows = schedule.period.dows ? '' : '[0,1,2,3,4,5,6]';\n                            this.onChange(schedule);\n                        }}/>)}\n                        label={I18n.t('sch_periodWeekdays')} />\n                    </div>\n                    <div className={this.props.classes.settingsDiv}>\n                        {this.getPeriodSettingsWeekdays()}\n                    </div>\n                </div>),\n*/\n            // ----- weeks ---\n            (<div key=\"weeks\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDows}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.weeks} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.period.weeks = schedule.period.weeks ? 0 : 1;\n                        _schedule.period.dows = schedule.period.dows || '[0]';\n                        _schedule.period.months = '';\n                        _schedule.period.dates = '';\n                        _schedule.period.years = 0;\n                        _schedule.period.yearDate = 0;\n                        _schedule.period.yearMonth = 0;\n                        _schedule.period.days = 0;\n                        _schedule.period.once = '';\n                        this.onChange(_schedule);\n                    }}/>)}\n                    label={I18n.t('sch_periodWeekly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>{this.getPeriodSettingsWeekly()}</div>\n                    <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowDowsDows}>{this.state.schedule.period.weeks ? this.getPeriodSettingsWeekdays() : null}</div>\n                </div>\n            </div>),\n\n\n            // ----- months ---\n            (<div key=\"months\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowMonths}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.months} onClick={() => {\n                           const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.months = 1;\n                            _schedule.period.dows = '';\n                            _schedule.period.dates = '';\n                            _schedule.period.years = 0;\n                            _schedule.period.yearDate = 0;\n                            _schedule.period.yearMonth = 0;\n                            _schedule.period.weeks = 0;\n                            _schedule.period.days = 0;\n                            _schedule.period.once = '';\n                           this.onChange(_schedule);\n                       }}/>)}\n                       label={I18n.t('sch_periodMonthly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    {this.getPeriodSettingsMonthly()}\n                    {schedule.period.months ? (<div>\n                        <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowMonthsDates}>\n                            <FormControlLabel control={(<Checkbox className={this.props.classes.inputRadio} checked={!!schedule.period.dates} onClick={() => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.months = _schedule.period.months || 1;\n                                const dates = [];\n                                for (let i = 1; i <= 31; i++) {\n                                    dates.push(i);\n                                }\n                                _schedule.period.dates = _schedule.period.dates || JSON.stringify(dates);\n                                _schedule.period.dows = '';\n                                _schedule.period.years = 0;\n                                _schedule.period.yearDate = 0;\n                                _schedule.period.yearMonth = 0;\n                                _schedule.period.weeks = 0;\n                                _schedule.period.days = 0;\n                                _schedule.period.once = '';\n\n                                this.onChange(_schedule);\n                            }}/>)}\n                            label={I18n.t('sch_periodDates')} /></div>\n                        <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowMonthsDates}>\n                            {this.getPeriodSettingsDates()}\n                        </div>\n                    </div>) : null}\n                </div>\n            </div>),\n\n\n            // ----- years ---\n            (<div key=\"years\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowYears}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.years} onClick={() => {\n                       const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.period.years = 1;\n                        _schedule.period.yearDate = 1;\n                        _schedule.period.yearMonth = 1;\n                        _schedule.period.dows = '';\n                        _schedule.period.months = 0;\n                        _schedule.period.dates = '';\n                        _schedule.period.weeks = 0;\n                        _schedule.period.days = 0;\n                        _schedule.period.once = '';\n                       this.onChange(_schedule);\n                   }}/>)}\n                   label={I18n.t('sch_periodYearly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>{this.getPeriodSettingsYearly()}</div>\n                    {!!schedule.period.years && (<div className={this.props.classes.settingsDiv}>\n                        <span>{I18n.t('sch_on')}</span>\n                        <Input key=\"input\" value={this.state.schedule.period.yearDate} className={this.props.classes.inputEvery} type=\"number\" min=\"1\" max=\"31\" onChange={e => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.yearDate = parseInt(e.target.value, 10);\n                            if (_schedule.period.yearDate < 1) _schedule.period.yearDate = 31;\n                            if (_schedule.period.yearDate > 31) _schedule.period.yearDate = 1;\n                            this.onChange(_schedule);\n                        }} />\n                        <Select value={schedule.period.yearMonth}\n                             onChange={e => {\n                                 const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                 _schedule.period.yearMonth = e.target.value;\n                                 this.onChange(_schedule);\n                             }}\n                        >\n                            <MenuItem key=\"every\" value={0}>{I18n.t('sch_yearEveryMonth')}</MenuItem>\n                            {MONTHS.map((month, i) => (<MenuItem key={month} value={i + 1}>{I18n.t(month)}</MenuItem>))}\n                        </Select>\n                    </div>)}\n                </div>\n            </div>),\n        ];\n    }\n\n    getPeriodSettingsMinutes() {\n        return (<div style={{display: 'inline-block'}}>\n            <label>{I18n.t('sch_every')}</label>\n            <Input value={this.state.schedule.time.interval}\n                   style={{ verticalAlign: 'bottom'}}\n                   className={this.props.classes.inputEvery} type=\"number\" min=\"1\" onChange={e => {\n                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                _schedule.time.interval = parseInt(e.target.value, 10);\n                this.onChange(_schedule);\n            }} />\n            <Select value={this.state.schedule.time.mode}\n                    onChange={e => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.mode = e.target.value;\n                        this.onChange(_schedule);\n                    }}\n            >\n                <MenuItem value={PERIODS.minutes}>{I18n.t('sch_periodMinutes')}</MenuItem>\n                <MenuItem value={PERIODS.hours}>{I18n.t('sch_periodHours')}</MenuItem>\n            </Select>\n        </div>);\n    }\n\n    getPeriodSettingsWeekdays() {\n        // || this.state.schedule.period.dows === '[1, 2, 3, 4, 5]' || this.state.schedule.period.dows === '[0, 6]'\n        const schedule = this.state.schedule;\n        const isSpecific = schedule.period.dows && schedule.period.dows !== '[1, 2, 3, 4, 5]' && schedule.period.dows !== '[0, 6]';\n        return [\n            (<div key=\"workdays\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.dows === '[1, 2, 3, 4, 5]'} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[1, 2, 3, 4, 5]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)}\n                label={I18n.t('sch_periodWorkdays')} /></div>),\n\n            (<div key=\"weekend\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.dows === '[0, 6]'} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[0, 6]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)}\n                label={I18n.t('sch_periodWeekend')} /></div>),\n\n            (<div key=\"specific\" style={{verticalAlign: 'top'}}><FormControlLabel style={{verticalAlign: 'top'}}\n                                                                   control={(<Radio className={this.props.classes.inputRadio} checked={isSpecific} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[0,1,2,3,4,5,6]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)\n                }\n                label={I18n.t('sch_periodWeekdays')} />\n                {isSpecific && (schedule.period.days === 1 || schedule.period.weeks) && (<FormGroup row className={this.props.classes.inputGroup} style={{width: 150}}>\n                    {[1,2,3,4,5,6,0].map(i =>\n                        (<FormControlLabel key={'specific_' + i} className={this.props.classes.inputGroupElement} control={\n                              <Checkbox className={this.props.classes.inputSmallCheck} checked={schedule.period.dows.indexOf('' + i) !== -1}\n                                    onChange={e => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        let dows;\n                                        try {\n                                            dows = JSON.parse(_schedule.period.dows);\n                                        } catch (e) {\n                                            dows = [];\n                                        }\n                                        if (e.target.checked && dows.indexOf(i) === -1) {\n                                            dows.push(i);\n                                        } else if (!e.target.checked && dows.indexOf(i) !== -1) {\n                                            dows.splice(dows.indexOf(i), 1);\n                                        }\n                                        dows.sort((a, b) => a - b);\n                                        _schedule.period.dows = JSON.stringify(dows);\n                                        if (_schedule.period.days) {\n                                            _schedule.period.days = 1;\n                                        }\n                                        this.onChange(_schedule);\n                                    }}\n                              />\n                          }\n                          label={I18n.t(WEEKDAYS[i])}\n                        />))}\n                </FormGroup>)}\n            </div>),\n            ];\n    }\n\n    getPeriodSettingsDaily() {\n        if (!this.state.schedule.period.days) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div key=\"every_day\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.days === 1 && !schedule.period.dows} onClick={() => {\n                                   const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.days = 1;\n                                    _schedule.period.dows = '';\n                                   this.onChange(_schedule);\n                               }}/>)}\n                                    label={I18n.t('sch_periodEveryDay')} /></div>),\n            (<div key=\"everyN_day\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.days > 1} onClick={() => {\n                                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.days = 2;\n                                    _schedule.period.dows = '';\n                                    this.onChange(_schedule);\n                               }}/>)}\n                                    label={I18n.t('sch_periodEvery')} />\n                {schedule.period.days > 1 && [(<Input key=\"input\" value={this.state.schedule.period.days} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.days = parseInt(e.target.value, 10);\n                    _schedule.period.dows = '';\n                    this.onChange(_schedule);\n                }} />), (<span key=\"span\" style={{paddingRight: 10}}>{I18n.t('sch_periodDay')}</span>)]}\n            </div>),\n            ];\n    }\n\n    getPeriodSettingsWeekly() {\n        if (!this.state.schedule.period.weeks) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div key=\"radios\" style={{display: 'inline-block', verticalAlign: 'top'}}>\n                    <div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.weeks === 1} onClick={() => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.period.weeks = 1;\n                                            this.onChange(_schedule);\n                                        }}/>)\n                                        }\n                                             label={I18n.t('sch_periodEveryWeek')} /></div>\n                    <div>\n                        <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.weeks > 1} onClick={() => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.period.weeks = 2;\n                                            this.onChange(_schedule);\n                                        }}/>)\n                                        }\n                                        label={I18n.t('sch_periodEvery')} />\n                        {schedule.period.weeks > 1 && [(<Input value={this.state.schedule.period.weeks} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.weeks = parseInt(e.target.value, 10);\n                            this.onChange(_schedule);\n                        }} />), (<span>{I18n.t('sch_periodWeek')}</span>)]}\n                    </div>\n                </div>),\n            ];\n    }\n\n    getPeriodSettingsDates() {\n        if (!this.state.schedule.period.dates) {\n            return;\n        }\n        const schedule = this.state.schedule;\n\n        const dates = [];\n        for (let i = 1; i <= 31; i++) {\n            dates.push(i);\n        }\n\n        const parsedDates = JSON.parse(schedule.period.dates);\n\n        return (\n            <FormGroup row className={this.props.classes.inputGroup} style={{maxWidth: 620}}>\n                <FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={parsedDates.length === 31}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const dates = [];\n                                for (let i = 1; i <= 31; i++) {\n                                    dates.push(i);\n                                }\n                                _schedule.period.dates = JSON.stringify(dates);\n                                this.onChange(_schedule);\n                            }}\n                      />\n                    } label={I18n.t('sch_all')}\n                />\n                <FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={!parsedDates.length}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.dates = '[]';\n                                this.onChange(_schedule);\n                            }}\n                        />\n                    } label={I18n.t('sch_no_one')}\n                />\n                {parsedDates.length !== 31 && !!parsedDates.length && (<FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={false}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const result = [];\n                                const parsedDates = JSON.parse(_schedule.period.dates);\n                                for (let i = 1; i <= 31; i++) {\n                                    if (parsedDates.indexOf(i) === -1) {\n                                        result.push(i);\n                                    }\n                                }\n                                result.sort((a, b) => a - b);\n                                _schedule.period.dates = JSON.stringify(result);\n                                this.onChange(_schedule);\n                            }}\n                        />\n                    } label={I18n.t('sch_invert')}\n                />)}\n                <div/>\n            {dates.map(i =>\n                (<FormControlLabel key={'date_' + i} className={this.props.classes.inputDateDay} style={!i ? {opacity: 0, cursor: 'default', userSelect: 'none', pointerEvents: 'none'}: {}}\n                      control={\n                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={JSON.parse(schedule.period.dates).indexOf(i) !== -1}\n                                    onChange={e => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        let dates;\n                                        try {\n                                            dates = JSON.parse(_schedule.period.dates);\n                                        } catch (e) {\n                                            dates = [];\n                                        }\n                                        if (e.target.checked && dates.indexOf(i) === -1) {\n                                            dates.push(i);\n                                        } else if (!e.target.checked && dates.indexOf(i) !== -1) {\n                                            dates.splice(dates.indexOf(i), 1);\n                                        }\n                                        dates.sort((a, b) => a - b);\n                                        _schedule.period.dates = JSON.stringify(dates);\n                                        this.onChange(_schedule);\n                                    }}\n                          />\n                      } label={i < 10 ? [(<span key=\"0\" style={{opacity: 0}}>0</span>), (<span key=\"num\">{i}</span>)] : i}\n                />))}\n            </FormGroup>);\n    }\n\n    getPeriodSettingsMonthly() {\n        if (!this.state.schedule.period.months) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        const parsedMonths = typeof schedule.period.months === 'string' ? JSON.parse(schedule.period.months)  : [];\n\n        return [\n            (<div key=\"every\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'number' && schedule.period.months === 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = 1;\n                                        this.onChange(schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEveryMonth')} /></div>),\n            (<div key=\"everyN\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'number' && schedule.period.months > 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = 2;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEvery')} />\n                {typeof schedule.period.months === 'number' && schedule.period.months > 1 && [(<Input value={schedule.period.months} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.months = parseInt(e.target.value, 10);\n                    if (_schedule.period.months < 1) _schedule.period.months = 1;\n                    this.onChange(_schedule);\n                }} />), (<span>{I18n.t('sch_periodMonth')}</span>)]}\n            </div>),\n            (<div  key=\"specific\" style={{verticalAlign: 'top'}}><FormControlLabel style={{verticalAlign: 'top'}} control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'string'} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = '[1,2,3,4,5,6,7,8,9,10,11,12]';\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodSpecificMonths')} />\n                {typeof schedule.period.months === 'string' &&\n                (<FormGroup row className={this.props.classes.inputGroup}>\n                    <FormControlLabel className={this.props.classes.inputDateDay}\n                                      control={\n                                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={parsedMonths.length === 12}\n                                                    onChange={e => {\n                                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                        const months = [];\n                                                        for (let i = 1; i <= 12; i++) {\n                                                            months.push(i);\n                                                        }\n                                                        _schedule.period.months = JSON.stringify(months);\n                                                        this.onChange(_schedule);\n                                                    }}\n                                          />\n                                      } label={I18n.t('sch_all')}\n                    />\n                    <FormControlLabel className={this.props.classes.inputDateDay}\n                                      control={\n                                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={!parsedMonths.length}\n                                                    onChange={e => {\n                                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                        _schedule.period.months = '[]';\n                                                        this.onChange(_schedule);\n                                                    }}\n                                          />\n                                      } label={I18n.t('sch_no_one')}\n                    />\n                    {parsedMonths.length !== 12 && !!parsedMonths.length && (<FormControlLabel className={this.props.classes.inputDateDay}\n                                                                                             control={\n                                                                                                 <Checkbox className={this.props.classes.inputDateDayCheck} checked={false}\n                                                                                                           onChange={e => {\n                                                                                                               const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                                                                               const result = [];\n                                                                                                               const parsedMonths = JSON.parse(_schedule.period.months);\n                                                                                                               for (let i = 1; i <= 12; i++) {\n                                                                                                                   if (parsedMonths.indexOf(i) === -1) {\n                                                                                                                       result.push(i);\n                                                                                                                   }\n                                                                                                               }\n                                                                                                               result.sort((a, b) => a - b);\n                                                                                                               _schedule.period.months = JSON.stringify(result);\n                                                                                                               this.onChange(_schedule);\n                                                                                                           }}\n                                                                                                 />\n                                                                                             } label={I18n.t('sch_invert')}\n                    />)}\n                    <div/>\n                    {MONTHS.map((month, i) => (<FormControlLabel className={this.props.classes.inputGroupElement}\n                        control={\n                            <Checkbox className={this.props.classes.inputSmallCheck} checked={JSON.parse(schedule.period.months).indexOf(i + 1) !== -1}\n                                      onChange={e => {\n                                          const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                          let months;\n                                          try {\n                                              months = JSON.parse(_schedule.period.months);\n                                          } catch (e) {\n                                              months = [];\n                                          }\n                                          if (e.target.checked && months.indexOf(i + 1) === -1) {\n                                              months.push(i + 1);\n                                          } else if (!e.target.checked && months.indexOf(i + 1) !== -1) {\n                                              months.splice(months.indexOf(i + 1), 1);\n                                          }\n                                          months.sort((a, b) => a - b);\n                                          _schedule.period.months = JSON.stringify(months);\n                                          this.onChange(_schedule);\n                                      }}\n                            />\n                        }\n                        label={I18n.t(month)}\n                    />))}\n                </FormGroup>)}\n            </div>),\n        ];\n    }\n\n    getPeriodSettingsYearly() {\n        if (!this.state.schedule.period.years) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.years === 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.years = 1;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEveryYear')} /></div>),\n            (<div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.years > 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.years = 2;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEvery')} />\n                {schedule.period.years > 1 && [(<Input value={this.state.schedule.period.years} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.years = parseInt(e.target.value, 10);\n                    if (_schedule.period.years < 1) _schedule.period.years = 1;\n                    this.onChange(_schedule);\n                }} />), (<span>{I18n.t('sch_periodYear')}</span>)]}\n            </div>),\n        ];\n    }\n\n    now2string(isEnd) {\n        const d = new Date();\n        d.setHours(0);\n        d.setMinutes(0);\n        d.setSeconds(0);\n        d.setMilliseconds(0);\n        if (isEnd) {\n            d.setDate(d.getDate() + 2);\n            d.setMilliseconds(d.getMilliseconds() - 1);\n        }\n\n        return padding(d.getDate()) + '.' + padding(d.getMonth() + 1) + '.' + padding(d.getFullYear());\n    }\n\n    string2date(str) {\n        let parts = str.split('.'); // 31.12.2019\n        if (parts.length === 1) {\n            parts = str.split('-'); // 2018-12-31\n            return new Date(parseInt(parts[0], 10), parseInt(parts[1], 10) - 1, parseInt(parts[2], 10));\n        } else {\n            return new Date(parseInt(parts[2], 10), parseInt(parts[1], 10) - 1, parseInt(parts[0], 10));\n        }\n    }\n\n    getValidSettings() {\n        const schedule = this.state.schedule;\n        // ----- from ---\n        return (\n            <div className={this.props.classes.rowDiv}>\n                <div className={this.props.classes.modeDiv} style={{verticalAlign: 'middle'}}>\n                    <span style={{fontWeight: 'bold', paddingRight: 10}}>{I18n.t('sch_valid')}</span>\n                    <span>{I18n.t('sch_validFrom')}</span>\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <TextField\n                        className={this.props.classes.inputDate}\n                        style={{marginRight: 10}}\n                        key=\"exactTimeFrom\"\n                        inputRef={this.refFrom}\n                        defaultValue={string2USdate(schedule.valid.from)}\n                        type=\"date\"\n                        //inputComponent={TextDate}\n                        onChange={e => {\n                            this.timerFrom && clearTimeout(this.timerFrom);\n\n                            this.refFrom.current.style.background = '#ff000030';\n\n                            this.timerFrom = setTimeout(value => {\n                                this.timerFrom = null;\n                                this.refFrom.current.style.background = '';\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const date = this.string2date(value);\n                                if (date.toString() !== 'Invalid Date') {\n                                    _schedule.valid.from = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                    this.onChange(_schedule);\n                                }\n                            }, 1500, e.target.value);\n                        }}\n                        InputLabelProps={{shrink: true,}}\n                        margin=\"normal\"\n                    />\n                    <FormControlLabel control={(<Checkbox className={this.props.classes.inputRadio} checked={!!schedule.valid.to} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.valid.to = _schedule.valid.to ? '' : this.now2string(true);\n                        this.onChange(_schedule);\n                    }}/>)}\n                        label={I18n.t('sch_validTo')} />\n                        {!!schedule.valid.to && (\n                            <TextField\n                                inputRef={this.refTo}\n                                className={this.props.classes.inputDate}\n                                style={{marginRight: 10}}\n                                key=\"exactTimeFrom\"\n                                type=\"date\"\n                                defaultValue={string2USdate(schedule.valid.to)}\n                                //inputComponent={TextDate}\n                                onChange={e => {\n                                    this.timerTo && clearTimeout(this.timerTo);\n\n                                    this.refTo.current.style.background = '#ff000030';\n                                    this.timerTo = setTimeout(value => {\n                                        this.timerTo = null;\n                                        this.refTo.current.style.background = '';\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        const date = this.string2date(value);\n                                        if (date.toString() !== 'Invalid Date') {\n                                            _schedule.valid.to = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                            this.onChange(_schedule);\n                                        }\n                                    }, 1500, e.target.value);\n                                }}\n                                InputLabelProps={{shrink: true,}}\n                                margin=\"normal\"\n                            />)}\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        return (<div style={{height: 'calc(100% - 48px)', width: '100%', overflow: 'hidden'}}>\n            <div>{this.state.desc}</div>\n            <div className={this.props.classes.scrollWindow}>\n                <h5>{I18n.t('sch_time')}</h5>\n                {this.getTimePeriodElements()}\n                {this.getTimeExactElements()}\n                {this.getDivider()}\n                <h5>{I18n.t('sch_period')}</h5>\n                {this.getPeriodModes()}\n                {!this.state.schedule.period.once && this.getDivider()}\n                {!this.state.schedule.period.once && this.getValidSettings()}\n            </div>\n        </div>);\n    }\n}\n\nSchedule.propTypes = {\n    schedule: PropTypes.string,\n    onChange: PropTypes.func\n};\n\nexport default withStyles(styles)(Schedule);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles/index';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Radio from '@material-ui/core/Radio';\n\nimport ComplexCron from '../Components/ComplexCron';\nimport SimpleCron from '../Components/simple-cron/SimpleCron';\nimport Schedule from '../Components/Schedule';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\n// Generate cron expression\n\nconst styles = theme => ({\n    headerID: {\n        fontWeight: 'bold',\n        fontStyle: 'italic'\n    },\n    radio: {\n        display: 'inline-block'\n    },\n    dialogPaper: {\n        height: 'calc(100% - 96px)'\n    }\n});\n\nclass DialogCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron;\n        if (this.props.cron && typeof this.props.cron === 'string' && this.props.cron.replace(/^[\"']/, '')[0] !== '{') {\n            cron = this.props.cron.replace(/['\"]/g, '').trim();\n        } else {\n            cron = this.props.cron || '{}';\n            if (typeof cron === 'string') {\n                cron = cron.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '');\n            }\n        }\n\n        this.state =  {\n            cron,\n            mode: this.props.simple ?\n                'simple' :\n                (typeof cron === 'object' || cron[0] === '{' ?\n                    'wizard' :\n                    (SimpleCron.cron2state(this.props.cron || '* * * * *') ? 'simple' : 'complex'))\n        };\n    }\n\n    handleCancel() {\n        this.props.onClose();\n    }\n\n    handleOk() {\n        this.props.onOk(this.state.cron);\n        this.props.onClose();\n    }\n\n    setMode(mode) {\n        this.setState({mode});\n    }\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                classes={{paper: this.props.classes.dialogPaper}}\n                open={true}\n                aria-labelledby=\"cron-dialog-title\"\n            >\n                <DialogTitle id=\"cron-dialog-title\">{this.props.title || I18n.t('Define schedule...')}</DialogTitle>\n                <DialogContent style={{height: '100%', overflow: 'hidden'}}>\n                    {!this.props.simple && (<div>\n                        <Radio\n                            key=\"wizard\"\n                            checked={this.state.mode === 'wizard'}\n                            onChange={e => this.setMode('wizard')}\n                        /><label onClick={e => this.setMode('wizard')}\n                                 style={this.state.mode !== 'wizard' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_wizard')}</label>\n\n                        <Radio\n                            key=\"simple\"\n                            checked={this.state.mode === 'simple'}\n                            onChange={e => this.setMode('simple')}\n                        /><label onClick={e => this.setMode('simple')}\n                                 style={this.state.mode !== 'simple' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_simple')}</label>\n                        <Radio\n                            key=\"complex\"\n                            checked={this.state.mode === 'complex'}\n                            onChange={e => this.setMode('complex')}\n                        /><label onClick={e => this.setMode('complex')} style={this.state.mode !== 'complex' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_cron')}</label></div>)}\n\n                    {this.state.mode === 'simple' &&\n                        (<SimpleCron\n                            cronExpression={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                    {this.state.mode === 'wizard' &&\n                        (<Schedule\n                            schedule={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                    {this.state.mode === 'complex' &&\n                        (<ComplexCron\n                            cronExpression={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()}     color=\"primary\">{this.props.ok || I18n.t('Ok')}</Button>\n                    <Button onClick={() => this.handleCancel()} color=\"secondary\">{this.props.cancel || I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogCron.propTypes = {\n    classes: PropTypes.object,\n    onClose: PropTypes.func,\n    onOk: PropTypes.func.isRequired,\n    title: PropTypes.string,\n    cron: PropTypes.string,\n    cancel: PropTypes.string,\n    ok: PropTypes.string,\n    simple: PropTypes.bool,\n    language: PropTypes.string\n\n};\n\nexport default withStyles(styles)(DialogCron);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport ScriptEditorComponent from '../Components/ScriptEditorVanilaMonaco';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    args: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        height: 30,\n        width: '100%',\n        fontSize: 16\n    },\n    argsTitle: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        fontWeight: 'bold'\n    }\n});\n\nclass DialogScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            source: this.props.source,\n        };\n        if (!this.state.source && this.props.isReturn) {\n            this.state.source = '\\nreturn false';\n        }\n\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('source-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose(false);\n    }\n\n    handleOk () {\n        if (this.props.isReturn && this.state.source.indexOf('return ') === -1) {\n\n        } else {\n            this.props.onClose(this.state.source);\n        }\n    }\n\n    onChange(value) {\n        this.setState({source: value});\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"source-dialog-title\"\n            >\n                <DialogTitle id=\"source-dialog-title\">{I18n.t('Function editor')}</DialogTitle>\n                <DialogContent className={classes.fullHeight}>\n                    {this.props.args && (<div key=\"arguments\" className={classes.args}>\n                        <span className={classes.argsTitle}>{I18n.t('function (')}</span>\n                        {this.props.args}\n                        <span className={classes.argsTitle}>)</span>\n                    </div>)}\n                    <ScriptEditorComponent\n                        className={classes.textArea}\n                        style={{height: this.props.args ? 'calc(100% - 30px)' : '100%'}}\n                        key=\"scriptEditor\"\n                        name={'blockly'}\n                        connection={this.props.connection}\n                        readOnly={false}\n                        checkJs={false}\n                        code={this.state.source}\n                        isDark={this.props.theme === 'dark'}\n                        onChange={newValue => this.onChange(newValue)}\n                        language={'javascript'}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={event => this.handleOk()} color=\"primary\">{I18n.t('Save')}</Button>\n                    <Button onClick={event => this.handleCancel()} color=\"secondary\">{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogScriptEditor.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    source: PropTypes.string,\n    args: PropTypes.string,\n    isReturn: PropTypes.bool,\n    theme: PropTypes.string,\n    connection: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogScriptEditor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport {withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Badge from '@material-ui/core/Badge';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport {MdSave as IconSave} from 'react-icons/md';\nimport {MdCancel as IconCancel} from 'react-icons/md';\nimport {MdClose as IconClose} from 'react-icons/md';\nimport {MdRefresh as IconRestart} from 'react-icons/md';\nimport {MdInput as IconDoEdit} from 'react-icons/md';\nimport {FaClock as IconCron} from 'react-icons/fa';\nimport {FaClipboardList as IconSelectId} from 'react-icons/fa';\nimport {FaFileExport as IconExport} from 'react-icons/fa';\nimport {FaFileImport as IconImport} from 'react-icons/fa';\nimport {FaFlagCheckered as IconCheck} from 'react-icons/fa';\nimport {MdGpsFixed as IconLocate} from 'react-icons/md';\nimport {MdClearAll as IconCloseAll} from 'react-icons/md';\nimport {MdBuild as IconDebugMenu} from 'react-icons/md';\nimport {MdBugReport as IconDebug} from 'react-icons/md';\nimport {MdPlaylistAddCheck as IconVerbose} from 'react-icons/md';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgBlockly2Js from './assets/blockly2js.png'\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport Theme from './Theme';\nimport ScriptEditor from './Components/ScriptEditorVanilaMonaco';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport DialogConfirm from '@iobroker/adapter-react/Dialogs/Confirm';\nimport DialogSelectID from '@iobroker/adapter-react/Dialogs/SelectID';\nimport DialogCron from './Dialogs/Cron';\nimport DialogScriptEditor from './Dialogs/ScriptEditor';\n\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    def: ImgJS,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_DEBUG = '#02a102';\nconst COLOR_VERBOSE = '#70aae9';\n\n\nconst styles = theme => ({\n\n    toolbar: {\n        minHeight: 38,//Theme.toolbar.height,\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    toolbarButtons: {\n        padding: 4,\n        marginLeft: 4\n    },\n    editorDiv: {\n        height: `calc(100% - ${Theme.toolbar.height + 38/*Theme.toolbar.height */ + 1}px)`,\n        width: '100%',\n        overflow: 'hidden',\n        position: 'relative'\n    },\n    textButton: {\n        marginRight: 10,\n        minHeight: 24,\n        padding: '6px 16px'\n    },\n    tabIcon: {\n        width: 24,\n        height: 24,\n        verticalAlign: 'middle',\n        marginBottom: 2,\n        marginRight: 2,\n        borderRadius: 3\n    },\n    hintIcon: {\n        //fontSize: 32,\n        padding: '0 8px 0 8px'\n    },\n    hintText: {\n        //fontSize: 18\n    },\n    hintButton: {\n        marginTop: 8,\n        marginLeft: 20\n    },\n    tabMenuButton: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n    },\n    tabChanged: {\n        color: theme.palette.secondary.main\n    },\n    tabText: {\n        maxWidth: 130,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    tabChangedIcon: {\n        color: '#FF0000',\n        fontSize: 16\n    },\n    closeButton: {\n        position: 'absolute',\n        top: 8,\n        right: 0,\n        zIndex: 10,\n        padding: 8,\n        cursor: 'pointer'\n    },\n    notRunning: {\n        color: '#ffbc00'\n    },\n    tabButton: {\n\n    },\n    tabButtonWrapper: {\n        display: 'inline-block',\n    },\n    menuIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5\n    },\n});\n\nclass Editor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const selected = window.localStorage.getItem('Editor.selected') || '';\n        let editing = window.localStorage.getItem('Editor.editing') || '[]';\n        try {\n            editing = JSON.parse(editing);\n        } catch (e) {\n            editing = [];\n        }\n        if (selected && editing.indexOf(selected) === -1) {\n            editing.push(selected);\n        }\n\n        this.tabsRef = React.createRef();\n\n        this.state = {\n            selected: selected,\n            editing: editing, // array of opened scripts\n            changed: {}, // for every script\n            blockly: null,\n            debugEnabled: false,\n            verboseEnabled: false,\n            showBlocklyCode: false,\n            showSelectId: false,\n            showCron: false,\n            showScript: false,\n            insert: '',\n            searchText: '',\n            theme: this.props.theme,\n            visible: props.visible,\n            cmdToBlockly: '',\n            menuOpened: !!this.props.menuOpened,\n            menuTabsOpened: false,\n            menuTabsAnchorEl: null,\n            runningInstances: this.props.runningInstances || {},\n            showDebugMenu: false,\n            toast: '',\n        };\n\n        this.setChangedInAdmin();\n\n        /* ----------------------- */\n        // required by selectIdDialog in Blockly\n        this.selectId = {\n            initValue: null,\n            callback: null\n        };\n        this.cron = {\n            initValue: null,\n            callback: null\n        };\n        this.scriptDialog = {\n            initValue: null,\n            callback: null,\n            args: null,\n            isReturn: false\n        };\n\n        const instances = [];\n        if (this.props.objects) {\n            for (let id in this.props.objects) {\n                if (this.props.objects.hasOwnProperty(id) && id.startsWith('system.adapter.') && this.props.objects[id] && this.props.objects[id].type === 'instance') {\n                    instances.push(id);\n                }\n            }\n        }\n\n        window.systemLang = I18n.getLanguage();\n        window.main = {\n            objects: this.props.objects,\n            instances,\n            selectIdDialog: (initValue, cb) => {\n                this.selectId.callback = cb;\n                this.selectId.initValue = initValue;\n                this.setState({showSelectId: true});\n            },\n            cronDialog: (initValue, cb) => {\n                this.cron.callback = cb;\n                this.cron.initValue = initValue;\n                this.setState({showCron: true});\n            },\n            showScriptDialog: (value, args, isReturn, cb) => {\n                this.scriptDialog.callback = cb;\n                this.scriptDialog.initValue = value;\n                this.scriptDialog.args = args;\n                this.scriptDialog.isReturn = isReturn || false;\n                this.setState({showScript: true});\n            }\n        };\n        this.objects = props.objects;\n        /* ----------------------- */\n\n        this.scripts = {};\n\n        if (!this.state.selected && this.state.editing.length) {\n            this.state.selected = this.state.editing[0];\n        }\n\n        // to enable logging\n        if (this.props.onSelectedChange && this.state.selected) {\n            setTimeout(() => this.props.onSelectedChange(this.state.selected, this.state.editing), 100);\n        }\n        this.onBrowserCloseBound = this.onBrowserClose.bind(this);\n    }\n\n    setChangedInAdmin() {\n        const isChanged = Object.keys(this.state.changed).find(id => this.state.changed[id]);\n\n        if (typeof window.parent !== 'undefined' && window.parent) {\n            window.parent.configNotSaved = isChanged;\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener('beforeunload', this.onBrowserCloseBound, false);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('beforeunload', this.onBrowserCloseBound);\n    }\n\n    onBrowserClose(e) {\n        const isChanged = Object.keys(this.scripts).find(id =>\n            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common));\n\n        if (!!isChanged) {\n            console.log('Script ' + console.log('Script ' + JSON.stringify(this.scripts[isChanged])));\n            const message = I18n.t('Configuration not saved.');\n            e = e || window.event;\n            // For IE and Firefox\n            if (e) {\n                e.returnValue = message;\n            }\n\n            // For Safari\n            return message;\n        }\n    }\n\n    removeNonExistingScripts(nextProps, newState) {\n        nextProps = nextProps || this.props;\n        newState = newState || {};\n\n        let _changed = false;\n        if (this.state.editing && nextProps.objects['system.config']) {\n            const isAnyNonExists = this.state.editing.find(id => !nextProps.objects[id]);\n\n            if (isAnyNonExists) {\n                // remove non-existing scripts\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                for (let i = editing.length - 1; i >= 0; i--) {\n                    if (!this.objects[editing[i]]) {\n                        _changed = true;\n                        editing.splice(i, 1);\n                    }\n                }\n                if (_changed) {\n                    newState.editing = editing;\n                }\n                if (this.state.selected && !this.objects[this.state.selected]) {\n                    _changed = true;\n                    newState.selected = editing[0] || '';\n                    if (this.scripts[newState.selected]) {\n                        if (this.state.blockly !== (this.scripts[newState.selected].engineType === 'Blockly')) {\n                            newState.blockly = this.scripts[newState.selected].engineType === 'Blockly';\n                            _changed = true;\n                        }\n                        if (this.state.verboseEnabled !== this.scripts[newState.selected].verbose) {\n                            newState.verboseEnabled = this.scripts[newState.selected].verbose;\n                            _changed = true;\n                        }\n                        if (this.state.debugEnabled !== this.scripts[newState.selected].debug) {\n                            newState.debugEnabled = this.scripts[newState.selected].debug;\n                            _changed = true;\n                        }\n                    }\n                }\n            }\n        }\n        return _changed;\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const newState = {};\n        let _changed = false;\n        if (JSON.stringify(nextProps.runningInstances) !== JSON.stringify(this.state.runningInstances)) {\n            _changed = true;\n            newState.runningInstances = nextProps.runningInstances;\n        }\n\n        if (this.state.menuOpened !== nextProps.menuOpened) {\n            newState.menuOpened = nextProps.menuOpened;\n            _changed = true;\n        }\n\n        if (this.state.theme !== nextProps.theme) {\n            newState.theme = nextProps.theme;\n            _changed = true;\n        }\n\n        // check if all opened files still exists\n        if (this.removeNonExistingScripts(nextProps, newState)) {\n            _changed = true;\n        }\n\n        // update search text\n        if (this.state.searchText !== nextProps.searchText) {\n            newState.searchText = nextProps.searchText;\n            _changed = true;\n        }\n\n        // if objects read\n        if (this.objects !== nextProps.objects) {\n            this.objects = nextProps.objects;\n            window.main.objects = nextProps.objects;\n\n            // update all scripts\n            for (const id in this.scripts) {\n                if (!this.scripts.hasOwnProperty(id)) continue;\n                const source = this.scripts[id].source;\n                this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                this.scripts[id].source = source;\n            }\n\n            const instances = [];\n            for (let id in window.main.objects) {\n                if (window.main.objects.hasOwnProperty(id) && id.startsWith('system.adapter.') && window.main.objects[id] && window.main.objects[id].type === 'instance') {\n                    instances.push(id);\n                }\n            }\n            window.main.instances = instances;\n\n            // if script is blockly\n            if (this.state.selected && this.objects[this.state.selected]) {\n                this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.objects[this.state.selected].common));\n                if (this.state.blockly !== (this.scripts[this.state.selected].engineType === 'Blockly')) {\n                    newState.blockly = this.scripts[this.state.selected].engineType === 'Blockly';\n                    _changed = true;\n                }\n                if (this.state.verboseEnabled !== this.scripts[this.state.selected].verbose) {\n                    newState.verboseEnabled = this.scripts[this.state.selected].verbose;\n                    _changed = true;\n                }\n                if (this.state.debugEnabled !== this.scripts[this.state.selected].debug) {\n                    newState.debugEnabled = this.scripts[this.state.selected].debug;\n                    _changed = true;\n                }\n            }\n\n            // remove non-existing scripts\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            for (let i = editing.length - 1; i >= 0; i--) {\n                if (!this.objects[editing[i]]) {\n                    _changed = true;\n                    editing.splice(i, 1);\n                    if (this.state.changed[editing[i]] !== undefined) {\n                        newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                        delete newState.changed[editing[i]];\n                    }\n                }\n            }\n            if (this.state.selected && !this.objects[this.state.selected]) {\n                newState.selected = editing[0] || '';\n            }\n            if (_changed) {\n                newState.editing = editing;\n            }\n        } else {\n            // update all scripts\n            for (const id in this.scripts) {\n                if (!this.scripts.hasOwnProperty(id)) continue;\n                if (this.objects[id] && this.objects[id].common) {\n                    const oldSource = this.scripts[id].source;\n                    const commonLocal = JSON.parse(JSON.stringify(this.scripts[id]));\n                    commonLocal.source = this.objects[id].common.source;\n                    // if anything except source was changed\n                    if (JSON.stringify(commonLocal) !== JSON.stringify(this.objects[id].common)) {\n                        this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                        this.scripts[id].source = oldSource;\n                    }\n\n                    if (oldSource !== this.objects[id].common.source) {\n                        // take new script if it not yet changed\n                        if (!this.state.changed[id]) {\n                            // just use new value\n                            this.scripts[id].source = this.objects[id].common.source;\n                        } else {\n                            if (this.objects[id].from && this.objects[id].from.startsWith('system.adapter.javascript.')) {\n                                this.objects[id].from = 'system.adapter.admin.0';\n                                // show that script was changed from outside\n                                this.setState({toast: I18n.t('Script %s was modified on disk.', id.split('.').pop())});\n                            }\n                        }\n                    } else {\n                        if (this.state.changed[id]) {\n                            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                            newState.changed[id] = false;\n                            _changed = true;\n                        }\n                    }\n                } else {\n                    delete this.scripts[id];\n                    if (this.state.selected === id) {\n                        if (this.state.editing.indexOf(id) !== -1) {\n                            const editing = JSON.parse(JSON.stringify(this.state.editing));\n                            const pos = editing.indexOf(id);\n                            if (pos !== -1) {\n                                editing.splice(pos, 1);\n                                newState.editing = editing;\n                                _changed = true;\n                            }\n                        }\n                        newState.selected = this.state.editing[0] || '';\n                        _changed = true;\n                    }\n                }\n            }\n        }\n\n        if (this.state.selected !== nextProps.selected && nextProps.selected) {\n            if (nextProps.selected) {\n                this.scripts[nextProps.selected] = this.scripts[nextProps.selected] || JSON.parse(JSON.stringify(this.props.objects[nextProps.selected].common));\n            }\n\n            const nextCommon = this.props.objects[nextProps.selected] && this.props.objects[nextProps.selected].common;\n\n            const changed = nextCommon && JSON.stringify(this.scripts[nextProps.selected]) !== JSON.stringify(nextCommon);\n\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            if (nextProps.selected && editing.indexOf(nextProps.selected) === -1) {\n                editing.push(nextProps.selected);\n                this.props.onSelectedChange(nextProps.selected, editing);\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n            }\n\n            _changed = true;\n            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n            newState.changed[nextProps.selected] = changed;\n            newState.editing = editing;\n            newState.selected = nextProps.selected;\n            newState.blockly = this.scripts[nextProps.selected].engineType === 'Blockly';\n            newState.verboseEnabled = this.scripts[nextProps.selected].verbose;\n            newState.debugEnabled = this.scripts[nextProps.selected].debug;\n            newState.showBlocklyCode = false;\n        } else {\n\n        }\n\n        if (this.state.visible !== nextProps.visible) {\n            _changed = true;\n            newState.visible = nextProps.visible;\n        }\n        _changed && this.setState(newState, () => this.setChangedInAdmin());\n    }\n\n    onRestart() {\n        this.props.onRestart && this.props.onRestart(this.state.selected);\n    }\n\n    onSave() {\n        if (this.state.changed[this.state.selected]) {\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = false;\n            this.setState({changed}, () => {\n                this.setChangedInAdmin();\n                this.props.onChange && this.props.onChange(this.state.selected, this.scripts[this.state.selected]);\n            });\n        }\n    }\n\n    onCancel() {\n        this.scripts[this.state.selected] = JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        changed[this.state.selected] = false;\n\n        this.setState({changed}, () => this.setChangedInAdmin());\n    }\n\n    onRegisterSelect(func) {\n        this.getSelect = func;\n    }\n\n    onConvert2JS() {\n        this.showConfirmDialog(I18n.t('It will not be possible to revert this operation.'), result => {\n            if (result) {\n                this.scripts[this.state.selected].engineType = 'Javascript/js';\n                let source = this.scripts[this.state.selected].source;\n                const lines = source.split('\\n');\n                lines.pop();\n                this.scripts[this.state.selected].source = lines.join('\\n');\n                const nowSelected = this.state.selected;\n\n                const changed = JSON.parse(JSON.stringify(this.state.changed));\n                changed[this.state.selected] = true;\n\n                this.setState({changed, blockly: false, selected: ''}, () => {\n                    this.setChangedInAdmin();\n                    // force update of the editor\n                    setTimeout(() => this.setState({selected: nowSelected}), 100);\n                });\n            }\n        });\n    }\n\n    onChange(options) {\n        options = options || {};\n        if (options.script !== undefined) {\n            this.scripts[this.state.selected].source = options.script;\n        }\n        if (options.debug !== undefined) {\n            this.scripts[this.state.selected].debug = options.debug;\n        }\n        if (options.verbose !== undefined) {\n            this.scripts[this.state.selected].verbose = options.verbose;\n        }\n        const _changed = JSON.stringify(this.scripts[this.state.selected]) !== JSON.stringify(this.props.objects[this.state.selected].common);\n        if (_changed !== (this.state.changed[this.state.selected] || false)) {\n\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = _changed;\n            this.objects[this.state.selected].from = 'system.adapter.admin.0';\n            this.setState({changed}, () => this.setChangedInAdmin());\n\n        }\n    }\n\n    onTabChange(event, selected) {\n        window.localStorage && window.localStorage.setItem('Editor.selected', selected);\n        const common = this.scripts[selected] || (this.props.objects[selected] && this.props.objects[selected].common);\n        this.setState({selected, blockly: common.engineType === 'Blockly', showBlocklyCode: false, verboseEnabled: common.verbose, debugEnabled: common.debug});\n        this.props.onSelectedChange && this.props.onSelectedChange(selected, this.state.editing);\n    }\n\n    isScriptChanged(id) {\n        return this.scripts[id] && this.props.objects[id] && JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common);\n    }\n\n    onTabClose(id, e) {\n        e && e.stopPropagation();\n\n        const pos = this.state.editing.indexOf(id);\n        if (this.state.editing.indexOf(id) !== -1) {\n            if (this.isScriptChanged(id)) {\n                this.showConfirmDialog(I18n.t('Discard changes for %s', this.props.objects[id].common.name), ok => {\n                    if (ok) {\n                        delete this.scripts[id];\n                        this.onTabClose(id);\n                    }\n                });\n            } else {\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                editing.splice(pos, 1);\n                const newState = {editing};\n                if (id === this.state.selected) {\n                    if (editing.length) {\n                        if (pos === 0 || editing.length === 1) {\n                            newState.selected = editing[0];\n                        } else {\n                            newState.selected = editing[pos - 1];\n                        }\n                    } else {\n                        newState.selected = '';\n                    }\n                } else if (this.state.selected && !editing.length) {\n                    newState.selected = '';\n                }\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                if (newState.selected !== undefined) {\n                    newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                    newState.changed[newState.selected] = this.isScriptChanged(newState.selected);\n                    const common = newState.selected && (this.scripts[newState.selected] || (this.props.objects[newState.selected] && this.props.objects[newState.selected].common));\n                    newState.blockly = common ? common.engineType === 'Blockly' : false;\n                    newState.verboseEnabled = common ? common.verbose : false;\n                    newState.debugEnabled = common ? common.debug : false;\n                    newState.showBlocklyCode = false;\n                }\n\n                this.setState(newState, () =>  {\n                    this.setChangedInAdmin();\n\n                    if (newState.selected !== undefined) {\n                        this.props.onSelectedChange && this.props.onSelectedChange(newState.selected, this.state.editing);\n                        window.localStorage && window.localStorage.setItem('Editor.selected', newState.selected);\n                    } else {\n                        this.props.onSelectedChange && this.props.onSelectedChange(this.state.selected, this.state.editing);\n                    }\n                });\n            }\n        }\n    }\n\n    showConfirmDialog(question, cb) {\n        this.confirmCallback = cb;\n        this.setState({confirm: question});\n    }\n\n    sendCommandToBlockly(cmd) {\n        this.setState({cmdToBlockly: cmd}, () =>\n            setTimeout(() =>\n                this.setState({cmdToBlockly: ''}), 200));\n    }\n\n    getTabs() {\n        if (this.state.editing.length) {\n            return [(<Tabs\n                    component={'div'}\n                    key=\"tabs1\"\n                    value={this.state.selected}\n                    onChange={(event, value) => this.onTabChange(event, value)}\n                    indicatorColor=\"primary\"\n                    style={{position: 'relative', width: this.state.editing.length > 1 ? 'calc(100% - 50px)' : '100%', display: 'inline-block'}}\n                    textColor=\"primary\"\n                    variant=\"scrollable\"\n                    scrollButtons=\"auto\"\n                >\n                    {this.state.editing.map(id => {\n                        if (!this.props.objects[id]) {\n                            const label = [\n                                (<div key=\"text\" className={this.props.classes.tabText + ' ' + (this.isScriptChanged(id) ? this.props.classes.tabChanged : '')}>{id.split('.').pop()}</div>),\n                                (<span key=\"icon\" className={this.props.classes.closeButton}><IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} fontSize=\"small\"/></span>)];\n                            return (<Tab\n                                component={'div'}\n                                href={'#' + id}\n                                key={id}\n                                label={label}\n                                value={id}\n                                classes={{wrapper: this.props.classes.tabButtonWrapper}}\n                            />);\n                        } else {\n                            let text = this.props.objects[id].common.name;\n                            let title = '';\n                            if (text.length > 18) {\n                                title = text;\n                                text = text.substring(0, 15) + '...';\n                            }\n                            const changed = this.props.objects[id].common && this.scripts[id] && this.props.objects[id].common.source !== this.scripts[id].source;\n                            const label = [\n                                (<img key=\"icon\" alt={\"\"} src={images[this.props.objects[id].common.engineType] || images.def} className={this.props.classes.tabIcon}/>),\n                                (<div key=\"text\" className={this.props.classes.tabText + ' ' + (this.isScriptChanged(id) ? this.props.classes.tabChanged : '')}>{text}</div>),\n                                changed ? (<span key=\"changedSign\" className={this.props.classes.tabChangedIcon}>▣</span>) : null,\n                                (<span key=\"icon2\" className={this.props.classes.closeButton}><IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} fontSize=\"small\"/></span>)];\n\n                            return (<Tab\n                                component={'div'}\n                                href={'#' + id}\n                                key={id}\n                                label={label}\n                                className={this.props.classes.tabButton}\n                                value={id}\n                                title={title}\n                                classes={{wrapper: this.props.classes.tabButtonWrapper}}\n                            />);\n                        }\n                    })}\n                </Tabs>),\n                this.state.editing.length > 1 ? (<IconButton\n                    key=\"menuButton\"\n                    href=\"#\"\n                    aria-label=\"Close all but current\"\n                    className={this.props.classes.tabMenuButton}\n                    title={I18n.t('Close all but current')}\n                    aria-haspopup=\"false\"\n                    onClick={_event => {\n                        const editing = [this.state.selected];\n                        // Do not close not saved tabs\n                        Object.keys(this.scripts).forEach(id =>\n                            id !== this.state.selected &&\n                            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common) &&\n                            editing.push(id)\n                        );\n\n                        window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                        this.setState({menuTabsOpened: false, menuTabsAnchorEl: null, editing: editing});\n                    }}\n                >\n                    <IconCloseAll />\n                </IconButton>) : null\n            ];\n        } else {\n            return (<div key=\"tabs2\" className={this.props.classes.toolbar}>\n                <Button key=\"select1\" disabled={true} className={this.props.classes.hintButton} href=\"\">\n                    <span key=\"select2\">{I18n.t('Click on this icon')}</span>\n                    <IconDoEdit key=\"select3\" className={this.props.classes.hintIcon}/>\n                    <span key=\"select4\">{I18n.t('for edit or create script')}</span>\n                </Button>\n            </div>);\n        }\n    }\n\n    getDebugMenu() {\n        if (!this.state.showDebugMenu) return null;\n\n        return (<Menu\n            key=\"menuDebug\"\n            id=\"menu-debug\"\n            anchorEl={this.state.menuDebugAnchorEl}\n            open={this.state.showDebugMenu}\n            onClose={() => this.setState({showDebugMenu: false, menuDebugAnchorEl: null})}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                },\n            }}\n        >\n            <MenuItem key=\"debugEnabled\"\n                      title={I18n.t('debug_help')}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.setState({showDebugMenu: false, menuDebugAnchorEl: null, debugEnabled: !this.state.debugEnabled}, () => this.onChange({debug: this.state.debugEnabled}));\n                      }}>\n                <Checkbox checked={this.state.debugEnabled}/>\n                <IconDebug className={this.props.classes.menuIcon} style={{color: COLOR_DEBUG}}/>\n                {I18n.t('debug')}\n            </MenuItem>\n            <MenuItem key=\"verboseEnabled\"\n                      title={I18n.t('verbose_help')}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.setState({showDebugMenu: false, menuDebugAnchorEl: null, verboseEnabled: !this.state.verboseEnabled}, () => this.onChange({verbose: this.state.verboseEnabled}));\n                      }}>\n                <Checkbox checked={this.state.verboseEnabled}/>\n                <IconVerbose className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>\n                {I18n.t('verbose')}\n            </MenuItem>\n        </Menu>);\n    }\n\n    getDebugBadge() {\n        return [\n            this.state.debugEnabled && this.state.verboseEnabled  && (<IconDebug key=\"DebugVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>),\n            this.state.debugEnabled && !this.state.verboseEnabled && (<IconDebug key=\"DebugNoVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_DEBUG}}/>),\n            !this.state.debugEnabled && this.state.verboseEnabled && (<IconVerbose key=\"noDebugVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>),\n        ]\n    }\n\n    getToolbar() {\n        const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n        const isScriptRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].enabled;\n\n        if (this.state.selected) {\n            const changed = this.state.changed[this.state.selected];\n            return (\n                <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar1\">\n                    {this.state.menuOpened && this.props.onLocate && (<IconButton className={this.props.classes.toolbarButtons} key=\"locate\" title={I18n.t('Locate file')} onClick={() => this.props.onLocate(this.state.selected)}><IconLocate/></IconButton>)}\n                    {!changed && isInstanceRunning && (<IconButton key=\"restart\" variant=\"contained\" className={this.props.classes.toolbarButtons} onClick={() => this.onRestart()} title={I18n.t('Restart')}><IconRestart /></IconButton>)}\n                    {!changed && !isScriptRunning && (<span className={this.props.classes.notRunning}>{I18n.t('Script is not running')}</span>)}\n                    {!changed && isScriptRunning && !isInstanceRunning && (<span className={this.props.classes.notRunning}>{I18n.t('Instance is disabled')}</span>)}\n                    {changed && (<Button key=\"save\" variant=\"contained\" color=\"secondary\" className={this.props.classes.textButton} onClick={() => this.onSave()}>{I18n.t('Save')}<IconSave /></Button>)}\n                    {changed && (<Button key=\"cancel\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onCancel()}>{I18n.t('Cancel')}<IconCancel /></Button>)}\n                    <div style={{flex: 2}}/>\n\n                    {this.state.blockly && !this.state.showBlocklyCode &&\n                        (<IconButton key=\"export\" aria-label=\"Export Blocks\"\n                                     title={I18n.t('Export blocks')}\n                             className={this.props.classes.toolbarButtons}\n                             onClick={() => this.sendCommandToBlockly('export')}>\n                        <IconExport /></IconButton>)}\n\n                    {this.state.blockly && !this.state.showBlocklyCode &&\n                        (<IconButton key=\"import\" aria-label=\"Import Blocks\"\n                                     title={I18n.t('Import blocks')}\n                                     className={this.props.classes.toolbarButtons}\n                                     onClick={() => this.sendCommandToBlockly('import')}>\n                            <IconImport /></IconButton>)}\n\n                    {this.state.blockly && !this.state.showBlocklyCode &&\n                        (<IconButton key=\"check\" aria-label=\"Check code\"\n                                     title={I18n.t('Check blocks')}\n                                     className={this.props.classes.toolbarButtons}\n                                     onClick={() => this.sendCommandToBlockly('check')}>\n                            <IconCheck /></IconButton>)}\n\n                    {!this.state.blockly && !this.state.showBlocklyCode && (<IconButton key=\"select-cron\" aria-label=\"create CRON\"\n                                                                                        title={I18n.t('Create or edit CRON or time wizard')}\n                                                                                        className={this.props.classes.toolbarButtons}\n                                                                                        onClick={() => this.setState({showCron: true})}><IconCron/></IconButton>)}\n\n                    {!this.state.blockly && !this.state.showBlocklyCode && (<IconButton key=\"select-id\" aria-label=\"select ID\"\n                                                                                        title={I18n.t('Insert object ID')}\n                                                                                        className={this.props.classes.toolbarButtons}\n                                                                                        onClick={() => this.setState({showSelectId: true})}><IconSelectId/></IconButton>)}\n\n                    {this.state.blockly && this.state.showBlocklyCode && (<Button key=\"convert2js\" aria-label=\"convert to javascript\"\n                                                                                  title={I18n.t('Convert blockly to javascript for ever.')}\n                                                                                  onClick={() => this.onConvert2JS()}\n                    >Blockly=>JS</Button>)}\n\n                    {this.state.blockly && (<Button key=\"blockly-code\" aria-label=\"blockly\"\n                                                    title={I18n.t('Show javascript code')}\n                                                    className={this.props.classes.toolbarButtons}\n                                                    color={this.state.showBlocklyCode ? 'secondary' : 'inherit'}\n                                                    style={{padding: '0 5px'}}\n                                                    onClick={() => this.setState({showBlocklyCode: !this.state.showBlocklyCode})}>\n                        <img alt=\"blockly2js\" src={ImgBlockly2Js} /></Button>)}\n\n                    {!this.state.showBlocklyCode && (<IconButton key=\"debug\" aria-label=\"Debug menu\"\n                                                                 title={I18n.t('Debug options')}\n                                                                 className={this.props.classes.toolbarButtons}\n                                                                 onClick={e => this.setState({showDebugMenu: true, menuDebugAnchorEl: e.currentTarget})}>\n                        <Badge className={this.props.classes.badgeMargin} badgeContent={this.getDebugBadge()}>\n                            <IconDebugMenu />\n                        </Badge>\n                    </IconButton>)}\n\n                </Toolbar>);\n        } else {\n            return null;\n        }\n    }\n\n    getScriptEditor() {\n        if (this.state.selected && this.props.objects[this.state.selected] && this.state.blockly !== null && (!this.state.blockly || this.state.showBlocklyCode)) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return (<div className={this.props.classes.editorDiv} key=\"scriptEditorDiv\">\n                <ScriptEditor\n                    key=\"scriptEditor\"\n                    name={this.state.selected}\n                    insert={this.state.insert}\n                    onInserted={() => this.setState({insert: ''})}\n                    onForceSave={() => this.onSave()}\n                    searchText={this.state.searchText}\n                    onRegisterSelect={func => this.onRegisterSelect(func)}\n                    readOnly={this.state.showBlocklyCode}\n                    changed={this.state.changed[this.state.selected]}\n                    code={this.scripts[this.state.selected].source || ''}\n                    isDark={this.state.theme === 'dark'}\n                    connection={this.props.connection}\n                    onChange={newValue => this.onChange({script: newValue})}\n                    language={this.scripts[this.state.selected].engineType === 'TypeScript/ts' ? 'typescript' : 'javascript'}\n                />\n            </div>);\n        } else {\n            return null;\n        }\n    }\n\n    getBlocklyEditor() {\n        if (this.state.selected && this.props.objects[this.state.selected] && (this.state.blockly && !this.state.showBlocklyCode) && this.state.visible) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return (<div className={this.props.classes.editorDiv} key=\"blocklyEditorDiv\">\n                <BlocklyEditor\n                    command={this.state.cmdToBlockly}\n                    key=\"BlocklyEditor\"\n                    theme={this.state.theme}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    onChange={newValue => this.onChange({script: newValue})}\n                />\n            </div>);\n        } else {\n            return null;\n        }\n    }\n\n    getConfirmDialog() {\n        if (this.state.confirm) {\n            return (<DialogConfirm\n                key=\"dialogConfirm1\"\n                text={this.state.confirm}\n                onClose={result => {\n                    if (this.confirmCallback) {\n                        const cb = this.confirmCallback;\n                        this.confirmCallback = null;\n                        cb(result);\n                    }\n                    this.setState({confirm: ''});\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    getSelectIdDialog() {\n        if (this.state.showSelectId) {\n            return (<DialogSelectID\n                key=\"dialogSelectID1\"\n                prefix={'../..'}\n                theme={this.props.theme}\n                connection={this.props.connection}\n                selected={this.selectId.callback ? this.selectId.initValue || '' : this.getSelect ? this.getSelect() : ''}\n                statesOnly={true}\n                onClose={() => this.setState({showSelectId: false})}\n                onOk={(selected, name) => {\n                    this.selectId.initValue = null;\n                    if (this.selectId.callback) {\n                        this.selectId.callback(selected);\n                        this.selectId.callback = null;\n                    } else {\n                        this.setState({insert: `'${selected}'/*${name}*/`})\n                    }\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    getCronDialog() {\n        if (this.state.showCron) {\n            return (<DialogCron\n                key=\"dialogCron1\"\n                cron={this.cron.callback ? this.cron.initValue || '' : this.getSelect ? this.getSelect() : '* * * * *'}\n                onClose={() => this.setState({showCron: false})}\n                onOk={cron => {\n                    this.cron.initValue = null;\n                    if (this.cron.callback) {\n                        this.cron.callback(cron);\n                        this.cron.callback = null;\n                    } else {\n                        this.setState({insert: `'${cron}'`})\n                    }\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    getEditorDialog() {\n        if (this.state.showScript) {\n            return (<DialogScriptEditor\n                key=\"scriptEditorDialog\"\n                source={this.scriptDialog.initValue}\n                args={this.scriptDialog.args ? this.scriptDialog.args.join(', ') : ''}\n                isReturn={this.scriptDialog.isReturn}\n                connection={this.props.connection}\n                theme={this.state.theme}\n                onClose={result => {\n                    this.scriptDialog.initValue = null;\n                    if (this.scriptDialog.callback) {\n                        result !== false && this.scriptDialog.callback(result || '');\n                        this.scriptDialog.callback = null;\n                    }\n                    this.setState({showScript: false});\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    getToast() {\n        return (<Snackbar\n            key=\"toast\"\n            anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left',\n            }}\n            open={!!this.state.toast}\n            autoHideDuration={6000}\n            onClose={() => this.setState({toast: ''})}\n            ContentProps={{'aria-describedby': 'message-id',}}\n            message={<span id=\"message-id\">{this.state.toast}</span>}\n            action={[\n                <IconButton\n                    key=\"close\"\n                    aria-label=\"close\"\n                    color=\"inherit\"\n                    className={this.props.classes.closeToast}\n                    onClick={() => this.setState({toast: ''})}\n                ><IconClose />\n                </IconButton>,\n            ]}\n        />);\n    }\n\n    render() {\n        if (this.state.selected && this.props.objects[this.state.selected] && this.state.blockly === null) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n            setTimeout(() => {\n                const newState = {\n                    blockly: this.scripts[this.state.selected].engineType === 'Blockly',\n                    showBlocklyCode: false,\n                    debugEnabled: this.scripts[this.state.selected].debug,\n                    verboseEnabled: this.scripts[this.state.selected].verbose,\n                };\n\n                // check if all opened files still exists\n                this.removeNonExistingScripts(null, newState);\n                this.setState(newState);\n            }, 100);\n        }\n\n        return [\n            this.getTabs(),\n            this.getToolbar(),\n            this.getScriptEditor(),\n            this.getBlocklyEditor(),\n            this.getConfirmDialog(),\n            this.getSelectIdDialog(),\n            this.getCronDialog(),\n            this.getEditorDialog(),\n            this.getDebugMenu(),\n            this.getToast(),\n        ];\n    }\n}\n\nEditor.propTypes = {\n    objects: PropTypes.object.isRequired,\n    selected: PropTypes.string.isRequired,\n    onSelectedChange: PropTypes.func.isRequired,\n    onRestart: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    visible: PropTypes.bool,\n    menuOpened: PropTypes.bool,\n    onLocate: PropTypes.func,\n    runningInstances: PropTypes.object,\n    connection: PropTypes.object,\n    searchText: PropTypes.string,\n    theme: PropTypes.string\n};\n\nexport default withStyles(styles)(Editor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Dropzone from 'react-dropzone';\nimport DialogError from './Error';\nimport {MdFileUpload as IconUpload} from 'react-icons/md';\nimport {MdCancel as IconNo} from 'react-icons/md';\nimport {MdPlusOne as IconPlus} from 'react-icons/md';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    dropzone: {\n        marginTop: 20,\n        width: '100%',\n        borderWidth: 5,\n        borderStyle: 'dashed',\n        borderColor: '#d0cccc',\n        textAlign: 'center',\n        boxSizing: 'border-box',\n        paddingTop: 45,\n        borderRadius: 10,\n        height: 'calc(100% - 10px)'\n    },\n    dropzoneDiv: {\n        width: '100%',\n        height: '100%'\n    },\n    dropzoneRejected: {\n        borderColor: '#970000',\n    },\n    dropzoneAccepted: {\n        borderColor: '#17cd02',\n    },\n    icon: {\n        height: '30%',\n        width: '30%',\n        color: '#eeeeee',\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        zIndex: 0,\n    },\n    iconError: {\n        color: '#ffc3c6',\n    },\n    iconOk: {\n        color: '#aaeebc',\n    },\n    text: {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        color: '#868686',\n        position: 'absolute',\n        zIndex: 1,\n    }\n});\nclass DialogImportFile extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: '',\n            imageStatus: ''\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose();\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    static readFileDataUrl(file, cb) {\n        const reader = new FileReader();\n        reader.onload = () => {\n            cb(null, {data: reader.result, name: file.name});\n        };\n        reader.onabort = () => {\n            console.error('file reading was aborted');\n            cb(I18n.t('file reading was aborted'));\n        };\n        reader.onerror = (e) => {\n            console.error('file reading has failed');\n            cb(I18n.t('file reading has failed: %s', e));\n        };\n\n        reader.readAsDataURL(file)\n    }\n\n    handleDropFile(files) {\n        if (files && files.hasOwnProperty('target')) {\n            files = files.target.files;\n        }\n\n        if (!files && !files.length) {\n            return;\n        }\n\n        const file = files[files.length - 1];\n\n        if (!file) {\n            return;\n        }\n        DialogImportFile.readFileDataUrl(file, (err, result) => {\n            if (err) {\n                this.setState({error: err})\n            } else {\n                this.props.onClose(result && result.data);\n            }\n        });\n    }\n\n    render() {\n        const classes = this.props.classes;\n        const className = classes.dropzone + ' ' + (this.state.imageStatus === 'accepted' ? classes.dropzoneAccepted : (this.state.imageStatus === 'rejected' ? classes.dropzoneRejected : ''));\n\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"import-dialog-title\"\n            >\n                <DialogTitle id=\"import-dialog-title\">{I18n.t('Import scripts')}</DialogTitle>\n                <DialogContent className={classes.fullHeight}>\n                    <Dropzone   key='image-drop'\n\n                                maxSize={50000000}\n                                acceptClassName={classes.dropzoneAccepted}\n                                rejectClassName={classes.dropzoneRejected}\n                                onDrop={files => this.handleDropFile(files)}\n                                multiple={false}\n                                accept='application/zip,application/x-zip-compressed'\n                                className={className}>\n                        {\n                            ({ getRootProps, getInputProps, isDragActive, isDragReject}) => {\n                                if (isDragReject) {\n                                    if (this.state.imageStatus !== 'rejected') {\n                                        this.setState({imageStatus: 'rejected'});\n                                    }\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('Some files will be rejected')}</span>\n                                            <IconNo key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconError}/>\n                                        </div>);\n                                } else if (isDragActive) {\n                                    if (this.state.imageStatus !== 'accepted') {\n                                        this.setState({imageStatus: 'accepted'});\n                                    }\n\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('All files will be accepted')}</span>\n                                            <IconPlus key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconOk}/>\n                                        </div>);\n                                } else {\n                                    if (this.state.imageStatus !== 'wait') {\n                                        this.setState({imageStatus: 'wait'});\n                                    }\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('Drop some files here or click...')}</span>\n                                            <IconUpload key=\"icon\" className={this.props.classes.icon}/>\n                                        </div>);\n                                }\n                            }\n                        }\n                    </Dropzone>\n                    {this.state.error ? (<DialogError text={this.state.error} onClose={() => this.setState({error: ''})}/>) : null}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleCancel()} color=\"secondary\">{I18n.t('Close')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogImportFile.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n};\n\nexport default withStyles(styles)(DialogImportFile);\n","import React, {Component} from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport SplitterLayout from 'react-splitter-layout';\nimport {MdMenu as IconMenuClosed} from 'react-icons/md';\nimport {MdArrowBack as IconMenuOpened} from 'react-icons/md';\n\nimport 'react-splitter-layout/lib/index.css';\n\nimport Connection from '@iobroker/adapter-react/Connection';\nimport {PROGRESS} from '@iobroker/adapter-react/Connection';\nimport Loader from '@iobroker/adapter-react/Components/Loader'\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\nimport DialogConfirm from '@iobroker/adapter-react/Dialogs/Confirm';\n\nimport SideMenu from './SideMenu';\nimport Log from './Log';\nimport Editor from './Editor';\nimport Theme from './Theme';\nimport DialogError from './Dialogs/Error';\nimport DialogImportFile from './Dialogs/ImportFile';\nimport BlocklyEditor from './Components/BlocklyEditor';\n\nconst styles = theme => ({\n    root: Theme.root,\n    menuDiv: {\n        overflow: 'hidden',\n    },\n    splitterDivs: {\n        '&>div': {\n            overflow: 'hidden',\n            width: '100%',\n            height: '100%',\n        },\n        '& .layout-splitter': {\n           background: Theme.type === 'dark' ? '#595858' : '#ccc;'\n        }\n    },\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n    },\n    /*appBarWithMenu: {\n        width: `calc(100% - ${Theme.menu.width}px)`,\n        marginLeft: Theme.menu.width,\n    },\n    appBarWithoutMenu: {\n        width: `100%`,\n        marginLeft: 0,\n    },*/\n    content: {\n        width: '100%',\n        height: '100%',\n        backgroundColor: theme.palette.background.default,\n        position: 'relative'\n    },\n    splitterDivWithMenu: {\n        width: `calc(100% - ${Theme.menu.width}px)`,\n        height: '100%'\n    },\n    menuDivWithoutMenu: {\n        '&>div:first-child': {\n            display: 'none'\n        },\n        '&>.layout-splitter': {\n            display: 'none'\n        },\n    },\n    progress: {\n        margin: 100\n    },\n    menuOpenCloseButton: {\n        position: 'absolute',\n        left: 0,\n        borderRadius: '0 5px 5px 0',\n        top: 6,\n        paddingTop: 8,\n        cursor: 'pointer',\n        zIndex: 1,\n        height: 25,\n        width: 20,\n        background: Theme.colors.secondary,\n        color: Theme.colors.primary,\n        paddingLeft: 3,\n        '&:hover': {\n            color: 'white'\n        }\n    }\n});\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.objects = {};\n\n        // init translations\n        I18n.setTranslations({\n            'en': require('./i18n/en'),\n            'de': require('./i18n/de'),\n            'es': require('./i18n/es'),\n            'fr': require('./i18n/fr'),\n            'it': require('./i18n/it'),\n            'nl': require('./i18n/nl'),\n            'pl': require('./i18n/pl'),\n            'pt': require('./i18n/pt'),\n            'ru': require('./i18n/ru'),\n            'zh-cn': require('./i18n/zh-cn'),\n        });\n\n        this.state = {\n            connected: false,\n            progress: 0,\n            ready: false,\n            updateScripts: 0,\n            scriptsHash: 0,\n            instances: [],\n            updating: false,\n            resizing: false,\n            selected: null,\n            logMessage: {},\n            editing: [],\n            menuOpened: window.localStorage ? window.localStorage.getItem('App.menuOpened') !== 'false' : true,\n            menuSelectId: '',\n            errorText: '',\n            expertMode: window.localStorage ? window.localStorage.getItem('App.expertMode') === 'true' : false,\n            logHorzLayout: window.localStorage ? window.localStorage.getItem('App.logHorzLayout') === 'true' : false,\n            runningInstances: {},\n            confirm: '',\n            importFile: false,\n            message: '',\n            searchText: '',\n            themeType: window.localStorage ? window.localStorage.getItem('App.theme') || 'light' : 'light',\n        };\n        // this.logIndex = 0;\n        this.logSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.logSize')) || 150 : 150;\n        this.menuSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.menuSize')) || 500 : 500;\n        this.scripts = {};\n        this.hosts = [];\n        this.importFile = null;\n\n        let port = parseInt(window.location.port, 10);\n        if (isNaN(port)) {\n            switch (window.location.protocol) {\n                case 'https:':\n                    port = 443;\n                    break;\n                case 'http:':\n                    port = 80;\n                    break;\n            }\n        }\n        // for debug and fallback purposes\n        if (!port || port === 3000) {\n            port = 8081;\n        }\n\n        this.socket = new Connection({\n            port,\n            autoSubscribes: ['script.*', 'system.adapter.javascript.*'],\n            autoSubscribeLog: true,\n            onProgress: progress => {\n                if (progress === PROGRESS.CONNECTING) {\n                    this.setState({connected: false});\n                } else if (progress === PROGRESS.READY) {\n                    this.setState({connected: true, progress: 100});\n                } else {\n                    this.setState({connected: true, progress: Math.round(PROGRESS.READY / progress * 100)});\n                }\n            },\n            onReady: (objects, scripts) => {\n                I18n.setLanguage(this.socket.systemLang);\n                window.systemLang = this.socket.systemLang;\n                this.onObjectChange(objects, scripts, true);\n            },\n            onObjectChange: (objects, scripts) => this.onObjectChange(objects, scripts),\n            onError: err => {\n                console.error(err);\n            },\n            onBlocklyChanges: () => {\n                this.confirmCallback = result => result && window.location.reload();\n                this.setState({confirm: I18n.t('Some blocks were updated. Reload admin?')});\n            },\n            onLog: message => {\n                //this.logIndex++;\n                //this.setState({logMessage: {index: this.logIndex, message}})\n            }\n        });\n\n        this.socket.subscribeState('system.adapter.javascript.*.alive', (id, state) => {\n            if (id) {\n                id = id && id.substring(0, id.length - 6); // - .alive\n\n                if (this.state.runningInstances[id] !== (state ? state.val : false)) {\n                    const runningInstances = JSON.parse(JSON.stringify(this.state.runningInstances));\n                    runningInstances[id] = (state ? state.val : false);\n                    this.setState({runningInstances});\n                }\n            }\n        });\n    }\n\n    onObjectChange(objects, scripts, isReady) {\n        this.objects = objects;\n        // extract scripts and instances\n        const nScripts = {};\n        const newState = {};\n\n        scripts.list.forEach(id => nScripts[id] = objects[id]);\n        scripts.groups.forEach(id => nScripts[id] = objects[id]);\n        this.hosts = scripts.hosts;\n\n        if (window.localStorage && window.localStorage.getItem('App.expertMode') !== 'true' && window.localStorage.getItem('App.expertMode') !== 'false') {\n            // detect if some global scripts exists\n            if (scripts.list.find(id => id.startsWith('script.js.global.'))) {\n                newState.expertMode = true;\n            }\n        }\n\n        let scriptsHash = this.state.scriptsHash;\n        if (this.compareScripts(scripts)) {\n            scriptsHash++;\n        }\n        scripts.instances.sort();\n        this.scripts = nScripts;\n        newState.instances = scripts.instances;\n        newState.scriptsHash = scriptsHash;\n\n        if (isReady !== undefined) {\n            newState.ready = isReady;\n        }\n\n        BlocklyEditor.loadCustomBlockly(objects, () => this.setState(newState));\n    }\n\n    compareScripts(newScripts) {\n        const oldIds = Object.keys(this.scripts);\n        const newIds = Object.keys(newScripts);\n        if (oldIds.length !== newIds.length) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        if (JSON.stringify(oldIds) !== JSON.stringify(newIds)) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        for (let i = 0; i < oldIds.length; i++) {\n            let oldScript = this.scripts[oldIds[i]].common;\n            let newScript = newScripts[oldIds[i]].common;\n            if (oldScript.name !== newScript.name) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engine !== newScript.engine) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engineType !== newScript.engineType) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.enabled !== newScript.enabled) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n        }\n    }\n\n    onRename(oldId, newId, newName, newInstance) {\n        console.log(`Rename ${oldId} => ${newId}`);\n        let promise;\n        this.setState({updating: true});\n\n        // Rename script.js.common.Skript_1 => script.js.common.New folder.Skript_1\n\n        if (this.scripts[oldId] && this.scripts[oldId].type === 'script') {\n            const common = JSON.parse(JSON.stringify(this.scripts[oldId].common));\n            common.name = newName || common.name;\n            if (newInstance !== undefined) {\n                common.engine = 'system.adapter.javascript.' + newInstance;\n            }\n            // Check if the script is not a children of other script\n            const parts = newId.split('.');\n            parts.pop();\n            const parentID = parts.join('.');\n\n            if (this.scripts[parentID] && this.scripts[parentID].type === 'script') {\n                parts.pop();\n                newId = parts.join('.') + '.' + newId.split('.').pop();\n            }\n\n            promise = this.socket.updateScript(oldId, newId, common);\n        } else {\n            promise = this.socket.renameGroup(oldId, newId, newName);\n        }\n\n        promise\n            .then(() => this.setState({updating: false}))\n            .catch(err => err !== 'canceled' && this.showError(err));\n    }\n\n    onUpdateScript(id, common) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            this.socket.updateScript(id, id, common)\n                .then(() => {})\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    onSelect(selected) {\n        if (this.objects[selected] && this.objects[selected].common && this.objects[selected].type === 'script') {\n            this.setState({selected, menuSelectId: selected}, () =>\n                setTimeout(() => this.setState({menuSelectId: ''})), 300);\n        }\n    }\n\n    onExpertModeChange(expertMode) {\n        if (this.state.expertMode !== expertMode) {\n            window.localStorage && window.localStorage.setItem('App.expertMode', expertMode ? 'true' : 'false');\n            this.setState({expertMode});\n        }\n    }\n\n    showError(err) {\n        this.setState({errorText: err});\n    }\n\n    showMessage(message) {\n        this.setState({message});\n    }\n\n    onDelete(id) {\n        this.socket.delObject(id)\n        .then(() => {})\n        .catch(err => {\n            this.showError(err);\n        });\n    }\n\n    onEdit(id) {\n        if (this.state.selected !== id) {\n            this.setState({selected: id});\n        }\n    }\n\n    onAddNew(id, name, isFolder, instance, type, source) {\n        const reg = new RegExp(`^${id}\\\\.`);\n\n        if (Object.keys(this.objects).find(_id => id === _id || reg.test(id))) {\n            this.showError(I18n.t('Yet exists!'));\n            return;\n        }\n\n        if (isFolder) {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true\n                },\n                type: 'channel'\n            }).then(() => {\n                setTimeout(() => this.setState({menuSelectId: id}, () =>\n                    setTimeout(() => this.setState({menuSelectId: ''})), 300), 1000);\n            }).catch(err => {\n                this.showError(err);\n            });\n        } else {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true,\n                    engineType: type,\n                    engine: 'system.adapter.javascript.' + (instance || 0),\n                    source: source || '',\n                    debug: false,\n                    verbose: false\n                },\n                type: 'script'\n            }).then(() => {\n                setTimeout(() => this.onSelect(id), 1000);\n            }).catch(err => {\n                this.showError(err);\n            });\n        }\n    }\n\n    onEnableDisable(id, enabled) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            const common = this.objects[id].common;\n            common.enabled = enabled;\n            common.expert = true;\n            this.socket.updateScript(id, id, common)\n                .then(() => {})\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    getLiveHost(cb, _list) {\n        if (!_list) {\n            _list = JSON.parse(JSON.stringify(this.hosts)) || [];\n        }\n\n        if (_list.length) {\n            const id = _list.shift();\n            this.socket.getState(id + '.alive', (err, state) => {\n                if (!err && state && state.val) {\n                    cb(id);\n                } else {\n                    setTimeout(() => this.getLiveHost(cb, _list));\n                }\n            });\n        } else {\n            cb();\n        }\n    }\n\n    onExport() {\n        this.getLiveHost(host => {\n            if (!host) {\n                this.showError(I18n.t('No active host found'));\n                return;\n            }\n\n            const d = new Date();\n            let date = d.getFullYear();\n            let m = d.getMonth() + 1;\n            if (m < 10) {\n                m = '0' + m;\n            }\n            date += '-' + m;\n            m = d.getDate();\n            if (m < 10) {\n                m = '0' + m;\n            }\n            date += '-' + m + '-';\n\n            this.socket.socket.emit('sendToHost', host, 'readObjectsAsZip', {\n                adapter: 'javascript',\n                id: 'script.js',\n                link: date + 'scripts.zip' // request link to file and not the data itself\n            }, data => {\n                if (typeof data === 'string') {\n                    // it is a link to created file\n                    const a = document.createElement('a');\n                    // the data is \"system.host.HOST.zip.2020-01-26-scripts.zip\"\n                    const parts = data.split('.zip.');\n                    a.href = '/zip/' + parts[0] + '/' + parts[1];\n                    document.body.appendChild(a);\n                    a.click();\n                    a.remove();\n                } else {\n                    data.error && this.showError(data.error);\n                    if (data.data) {\n                        const a = document.createElement('a');\n                        a.href = 'data: application/zip;base64,' + data.data;\n                        a.download = date + 'scripts.zip';\n                        document.body.appendChild(a);\n                        a.click();\n                        a.remove();\n                    }\n                }\n            });\n        });\n    }\n\n    onImport(data) {\n        this.importFile = data;\n        if (data) {\n            this.confirmCallback = this.onImportConfirmed.bind(this);\n            this.setState({importFile: false, confirm: I18n.t('Existing scripts will be overwritten.')});\n        } else {\n            this.setState({importFile: false});\n        }\n    }\n\n    onImportConfirmed(ok) {\n        let data = this.importFile;\n        this.importFile = null;\n        if (ok && data) {\n            data = data.split(',')[1];\n            this.getLiveHost(host => {\n                if (!host) {\n                    this.showError(I18n.t('No active host found'));\n                    return;\n                }\n                this.socket.socket.emit('sendToHost', host, 'writeObjectsAsZip', {\n                    data: data,\n                    adapter: 'javascript',\n                    id: 'script.js'\n                }, data => {\n                    if (data === 'permissionError') {\n                        this.showError(I18n.t(data));\n                    } else if (!data || data.error) {\n                        this.showError(data ? I18n.t(data.error) : I18n.t('Unknown error'));\n                    } else {\n                        this.showMessage(I18n.t('Done'));\n                    }\n                });\n            });\n        }\n    }\n\n    toggleLogLayout() {\n        window.localStorage && window.localStorage.setItem('App.logHorzLayout', this.state.logHorzLayout ? 'false' : 'true');\n        this.setState({logHorzLayout: !this.state.logHorzLayout});\n    }\n\n    renderMain() {\n        const {classes} = this.props;\n        const errorDialog = this.state.errorText ? (<DialogError key=\"dialogError\" onClose={() => this.setState({errorText: ''})} text={this.state.errorText}/>) : null;\n        return [\n            this.state.message ? (<DialogMessage key=\"dialogMessage\" onClose={() => this.setState({message: ''})} text={this.state.message}/>) : null,\n            errorDialog,\n            this.state.importFile ? (<DialogImportFile key=\"dialogImportFile\" onClose={data => this.onImport(data)} />) : null,\n            this.state.confirm ? (<DialogConfirm\n                key=\"dialogConfirm\"\n                onClose={result => {\n                    this.state.confirm && this.setState({confirm: ''});\n                    this.confirmCallback && this.confirmCallback(result);\n                    this.confirmCallback = null;\n                }}\n                text={this.state.confirm}/>) : null,\n            (<div className={classes.content + ' iobVerticalSplitter'} key=\"main\">\n                <div key=\"closeMenu\" className={classes.menuOpenCloseButton} onClick={() => {\n                    window.localStorage && window.localStorage.setItem('App.menuOpened', this.state.menuOpened ? 'false' : 'true');\n                    this.setState({menuOpened: !this.state.menuOpened, resizing: true});\n                    setTimeout(() => this.setState({resizing: false}), 300);\n                }}>\n                    {this.state.menuOpened ? (<IconMenuOpened />) : (<IconMenuClosed />)}\n                </div>\n                <SplitterLayout\n                    key=\"splitterLayout\"\n                    vertical={!this.state.logHorzLayout}\n                    primaryMinSize={100}\n                    secondaryInitialSize={this.logSize}\n                    //customClassName={classes.menuDiv + ' ' + classes.splitterDivWithoutMenu}\n                    onDragStart={() => this.setState({resizing: true})}\n                    onSecondaryPaneSizeChange={size => this.logSize = parseFloat(size)}\n                    onDragEnd={() => {\n                        this.setState({resizing: false});\n                        window.localStorage && window.localStorage.setItem('App.logSize', this.logSize.toString());\n                    }}\n                >\n                    <Editor\n                        key=\"editor\"\n                        visible={!this.state.resizing}\n                        connection={this.socket}\n\n                        onLocate={menuSelectId => this.setState({menuSelectId})}\n                        runningInstances={this.state.runningInstances}\n                        menuOpened={this.state.menuOpened}\n                        searchText={this.state.searchText}\n                        theme={this.state.themeType}\n                        onChange={(id, common) => this.onUpdateScript(id, common)}\n                        onSelectedChange={(id, editing) => {\n                            const newState = {};\n                            let changed = false;\n                            if (id !== this.state.selected) {\n                                changed = true;\n                                newState.selected = id;\n                            }\n                            if (JSON.stringify(editing) !== JSON.stringify(this.state.editing)) {\n                                changed = true;\n                                newState.editing = JSON.parse(JSON.stringify(editing));\n                            }\n                            changed && this.setState(newState);\n                        }}\n                        onRestart={id => this.socket.extendObject(id, {common: {enabled: true}})}\n                        selected={this.state.selected && this.objects[this.state.selected] && this.objects[this.state.selected].type === 'script' ? this.state.selected : ''}\n                        objects={this.objects}\n                    />\n                    <Log key=\"log\" verticalLayout={!this.state.logHorzLayout} onLayoutChange={() => this.toggleLogLayout()} editing={this.state.editing} connection={this.socket} selected={this.state.selected}/>\n                </SplitterLayout>\n            </div>),\n        ];\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        if (!this.state.ready) {\n            // return (<CircularProgress className={classes.progress} size={50} />);\n            return (<Loader theme={this.state.themeType}/>);\n        }\n\n        return (\n                <div className={classes.root}>\n                    <SplitterLayout\n                        key=\"menuSplitter\"\n                        vertical={false}\n                        primaryMinSize={300}\n                        primaryIndex={1}\n                        secondaryMinSize={300}\n                        secondaryInitialSize={this.menuSize}\n                        customClassName={classes.splitterDivs + ' ' + (!this.state.menuOpened ? classes.menuDivWithoutMenu : '')}\n                        onDragStart={() => this.setState({resizing: true})}\n                        onSecondaryPaneSizeChange={size => this.menuSize = parseFloat(size)}\n                        onDragEnd={() => {\n                            this.setState({resizing: false});\n                            window.localStorage && window.localStorage.setItem('App.menuSize', this.menuSize.toString());\n                        }}\n                    >\n                        <div className={classes.mainDiv} key=\"menu\">\n                            <SideMenu\n                                key=\"sidemenu\"\n                                scripts={this.scripts}\n                                objects={this.objects}\n                                scriptsHash={this.state.scriptsHash}\n                                instances={this.state.instances}\n                                update={this.state.updateScripts}\n                                onRename={this.onRename.bind(this)}\n                                onSelect={this.onSelect.bind(this)}\n                                connection={this.socket}\n                                selectId={this.state.menuSelectId}\n                                onEdit={this.onEdit.bind(this)}\n                                expertMode={this.state.expertMode}\n                                theme={this.state.themeType}\n                                onThemeChange={theme => {\n                                    window.localStorage && window.localStorage.setItem('App.theme', theme);\n                                    this.setState({themeType: theme}, () => this.props.onThemeChange(theme))\n                                }}\n                                runningInstances={this.state.runningInstances}\n                                onExpertModeChange={this.onExpertModeChange.bind(this)}\n                                onDelete={this.onDelete.bind(this)}\n                                onAddNew={this.onAddNew.bind(this)}\n                                onEnableDisable={this.onEnableDisable.bind(this)}\n                                onExport={this.onExport.bind(this)}\n                                width={this.menuSize}\n                                onImport={() => this.setState({importFile: true})}\n                                onSearch={searchText => this.setState({searchText})}\n                            />\n                        </div>\n                        {this.renderMain()}\n                    </SplitterLayout>\n                </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { MuiThemeProvider} from '@material-ui/core/styles';\nimport createTheme from '@iobroker/adapter-react/createTheme';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nlet theme = window.localStorage ? window.localStorage.getItem('App.theme') || 'light' : 'light';\n\nfunction build() {\n    if (typeof Map === 'undefined') {\n        console.log('Something is wrong')\n    }\n    return ReactDOM.render(<MuiThemeProvider theme={createTheme(theme)}>\n        <App onThemeChange={_theme => {\n            theme = _theme;\n            build();\n        }}/>\n    </MuiThemeProvider>, document.getElementById('root'));\n\n}\n\nbuild();\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}