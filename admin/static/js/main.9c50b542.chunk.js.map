{"version":3,"sources":["assets/blockly.png","assets/typescript.png","assets/tileJS.png","assets/tileTS.png","assets/tileBlockly.png","assets/blockly2js.png","Dialogs/Rename.js","Dialogs/Delete.js","Dialogs/AddNewScript.js","Dialogs/New.js","Dialogs/Error.js","SideMenu.js","Log.js","Components/ScriptEditorVanilaMonaco.js","Components/BlocklyEditor.js","Dialogs/Export.js","Dialogs/Import.js","Components/simple-cron/cron2text.js","Components/simple-cron/jquery.cron.locale.js","Components/simple-cron/cronText.js","Components/ComplexCron.js","Components/simple-cron/SimpleCron.js","Components/Schedule.js","Dialogs/Cron.js","Dialogs/ScriptEditor.js","Editor.js","Dialogs/ImportFile.js","App.js","serviceWorker.js","index.js","assets/js.png"],"names":["module","exports","DialogRename","props","handleCancel","onClose","handleOk","onRename","oldId","state","id","name","instance","handleChange","setState","getId","isShowInstance","folder","instances","length","prefix","getPrefix","parts","split","pop","join","replace","this","nextProps","Dialog","disableBackdropClick","disableEscapeKeyDown","maxWidth","fullWidth","open","aria-labelledby","DialogTitle","I18n","t","DialogContent","noValidate","autoComplete","TextField","style","width","autoFocus","label","value","onKeyPress","ev","key","preventDefault","setTimeout","onChange","e","target","margin","disabled","FormControl","InputLabel","htmlFor","Select","parseInt","inputProps","map","MenuItem","DialogActions","Button","onClick","color","className","classes","buttonIcon","React","Component","withStyles","theme","marginRight","spacing","DialogDelete","onDelete","fontSize","fontWeight","DialogAddNew","type","html","lang","getLanguage","window","focus","Card","card","CardActionArea","CardMedia","media","image","ImgJS","title","CardContent","text","CardActions","size","openHtml","ImgTS","ImgBlockly","textAlign","getJSCard","getBlocklyCard","getTSCard","display","height","DialogNew","onAdd","existingItems","indexOf","error","parent","helperText","minWidth","parents","splice","names","forEach","n","i","el","find","item","push","DialogError","console","log","aria-describedby","titleBackground","root","titleColor","DialogContentText","background","palette","main","contrastText","COLOR_RUN","green","COLOR_PROBLEM","yellow","COLOR_PAUSE","red","ROOT_ID","COMMON_ID","GLOBAL_ID","SELECTED_STYLE","images","def","ImgTypeScript","getObjectName","obj","common","en","toString","prepareList","data","modified","result","depth","index","ids","Object","keys","enabled","engineType","engine","it","sort","a","b","idA","toLowerCase","idB","parentIndex","Droppable","onDrop","useDrop","accept","drop","isOver","undefined","collect","monitor","shallow","isOverAny","ref","clsx","children","Draggable","useDrag","opacity","isDragging","drag","SideDrawer","expanded","localStorage","getItem","JSON","parse","inputRef","createRef","listItems","scripts","problems","reorder","themeName","selected","creatingScript","creatingFolder","copingScript","renaming","deleting","choosingType","errorText","menuOpened","menuAnchorEl","searchMode","expertMode","searchText","typeFilter","statusFilter","runningInstances","scriptsHash","newExp","ensureSelectedIsVisible","filterTimer","isAllZeroInstances","getIsAllZeroInstances","problemsTimer","onProblemUpdatedBound","onProblemUpdated","bind","cb","tasks","shift","match","that","_id","substring","socket","getState","err","readProblems","subscribeState","unsubscribeState","stringify","changed","val","pos","isSearchEnabled","newState","filterListStatic","ensureSelectedIsVisibleStatic","getIsAllZeroInstancesStatic","setItem","stopPropagation","startsWith","saveExpanded","IconButton","iconButtons","onEnableDisable","onEdit","Promise","resolve","whiteSpace","padding","overflow","flex","onToggle","filtered","filteredPartly","childrenFiltered","depthPx","assign","marginLeft","cursor","isExpanded","includes","iconClass","iconStyle","folderIcon","folderIconReorder","folderIconNoReorder","scriptIcon","scriptIconReorder","scriptIconNoReorder","childrenCount","ListItem","script","scriptReorder","folderReorder","onDoubleClick","onDblClick","ListItemIcon","listItemIcon","alt","src","ListItemText","primary","getTextStyle","ListItemSecondaryAction","renderItemButtonsOnEnd","source","newId","items","dragging","filter","isFilteredOut","reactChildren","element","renderListItem","renderOneItem","onDragFinish","List","dense","disablePadding","mainList","copyId","word","m","menuAnchorFilterEl","filterIcon","selectedItem","Menu","anchorEl","PaperProps","maxHeight","MENU_ITEM_HEIGHT","event","showError","then","iconDropdownMenu","onCloseMenu","onExpertModeChange","onExport","onImport","onThemeChange","newThemeName","onAddNew","onCopy","RootRef","rootRef","Input","toolbarSearch","placeholder","clearTimeout","filterList","onSearch","toolbarButtons","float","mini","marginTop","aria-label","aria-owns","aria-haspopup","currentTarget","getMainMenu","onAddNewFolder","folders","footerButtons","Blockly","footerButtonsRight","onExpandAll","onCollapseAll","renamingItem","copingItem","Drawer","variant","menu","paper","drawerPaper","anchor","toolbar","getToolbarButtons","Divider","backend","HTML5Backend","innerMenu","renderAllItems","footer","getBottomButtons","newName","newInstance","getUniqueName","getFolders","getUniqueFolderName","objects","found","lastIndexOf","nState","selectId","position","lineHeight","paddingRight","iconOnTheRight","right","top","overflowX","overflowY","borderRadius","marginBottom","userSelect","transitionDuration","transitionProperty","paddingTop","paddingBottom","paddingLeft","expandButton","backgroundColor","gText","Log","lines","goBottom","editing","lastIndex","messagesEnd","logHandlerBound","logHandler","message","ts","substr","severity","trTime","d","getHours","getMinutes","getSeconds","getMilliseconds","getTimeString","Date","trSeverity","current","scrollIntoView","behavior","allLines","generateLine","ms","date","toLocaleString","registerLogHandler","unregisterLogHandler","scrollToBottom","str","document","createElement","body","appendChild","select","execCommand","removeChild","copyToClipboard","logBox","toolbox","clearLog","onLayoutChange","layoutIcon","verticalLayout","logBoxInner","table","clear","hasOwnProperty","info","warn","debug","silly","fontFamily","left","boxShadow","isIdOfGlobalScript","test","toolboxXml","ScriptEditor","isDark","language","readOnly","alive","check","typingsLoaded","runningInstancesStr","monacoDiv","editor","monaco","insert","originalCode","code","typings","lastSearch","monacoCounter","waitForMonaco","scriptAdapterInstance","sendTo","setTypeCheck","setEditorTypings","componentDidMount","onRegisterSelect","getModel","getValueInRange","getSelection","compilerOptions","languages","typescript","typescriptDefaults","ScriptTarget","ES2015","allowJs","checkJs","noLib","lib","moduleResolution","ModuleResolutionKind","NodeJs","setCompilerOptions","create","lineNumbers","scrollBeyondLastLine","automaticLayout","onDidChangeModelContent","getValue","loadTypings","addCommand","KeyMod","CtrlCmd","KeyCode","KEY_S","onForceSave","highlightText","options","selectOnLineNumbers","setEditorOptions","setValue","setEditorLanguage","updateOptions","lineWrap","wordWrap","typeCheck","setTheme","dispose","model","uri","path","filenameWithoutExtension","extension","newLanguage","newModel","createModel","Uri","from","setModel","noSemanticValidation","noSyntaxValidation","setDiagnosticsOptions","currentScriptName","isGlobalScript","partialDeclarationsPath","wantedTypings","filePath","content","setExtraLibs","addExtraLib","existingLibs","getExtraLibs","selection","range","Range","startLineNumber","startColumn","endLineNumber","endColumn","executeEdits","forceMoveMarkers","findMatches","r","setSelection","revealLine","row","getPosition","lineNumber","col","column","initNewScript","insertTextIntoEditor","onInserted","newValue","Fab","bottom","zIndex","forceUpdate","DialogExport","popper","getElementById","dialog","textArea","themeType","textAreaLight","Popper","placement","transition","TransitionProps","Fade","timeout","Paper","typography","tabIndex","aria-hidden","DialogImport","fullHeight","resize","languageBlocklyLoaded","languageOwnLoaded","toolboxText","scriptsLoaded","BlocklyEditor","blockly","blocklyWorkspace","exportText","importText","someSelected","changeTimer","onResizeBind","onResize","lastCommand","blinkBlock","loadLanguages","searchXml","_result","tagName","attributes","nodeName","innerHTML","innerText","childNodes","node","Xml","workspaceToDom","allBlocks","getAllBlocks","blocks","searchBlocks","addSelect","someSelectedTime","now","removeSelect","command","blocklyCheckBlocks","badBlock","blocklyBlinkBlock","exportBlocks","importBlocks","searchId","updateBackground","loadCode","fileLang","setAttribute","onload","onreadystatechange","readyState","getElementsByTagName","fileCustom","svgResize","xml","l","decodeURIComponent","atob","block","unselect","isShadow","connections","getConnections_","conn","j","targetConnection","warningText","blocklyGetUnconnectedBlock","blocklyGetBlockWithWarning","sourceBlock_","INPUT_VALUE","OUTPUT_VALUE","_optional","warning","oneWay","JavaScript","workspaceToCode","dom","domToText","btoa","encodeURIComponent","xmlBlock","blockToDom","dragMode_","DRAG_FREE","deleteNext","xy","getRelativeToSurfaceXY","RTL","x","y","domToPrettyText","trim","variables","vars","utils","textToDomDocument","nodes","createVariable","loading","xmlBlocks","textToDom","paste","onBlocklyChanged","ignoreChanges","jsCode2Blockly","domToWorkspace","blocklyRemoveOrphanedShadows","didUpdate","addEventListener","getToolbox","inject","zoom","controls","wheel","startScale","maxScale","minScale","scaleSpeed","move","scrollbars","trashcan","grid","colour","snap","addChangeListener","masterEvent","Events","UI","CREATE","getElementsByClassName","_originalStyle","stroke","fill","removeEventListener","blocklyCode2JSCode","outerHTML","p1","MSG","CustomBlocks","_b","Words","HUE","onImportBlocks","componentDidUpdate","renderMessageDialog","renderErrorDialog","renderExportDialog","renderImportDialog","url","callback","location","scriptTag","onerror","adapter","loadJS","loadScripts","adapters","toLoad","DOMParser","xmlStr","parseFromString","ActiveXObject","xmlDoc","async","loadXML","cronToText","cronspec","withSeconds","locale","NAMES","JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC","SUN","MON","TUE","WED","THU","FRI","SAT","REPLACEMENTS","FIELDS","s","h","D","M","Y","offset","arguments","max","isNaN","Math","min","add","sched","inc","addHash","schedules","curSched","hash","dc","field","clone","slice","cloneSchedule","except1","except2","exceptions","addWeekday","incSplit","rangeSplit","addRange","isHash","itemSorter","toInt","argumentForCoercion","number","coercedNumber","isFinite","ceil","floor","ordinal","ORDINALS","th","st","nd","rd","numberList","numbers","lastVal","numberToDateName","DOW","MONTH","dateList","outputText","zeroPad","schedule","Every","hm","k","and","scheduleToSentence","expr","hasSeconds","prepared","toUpperCase","prepareExpr","f","component","components","parseExpr","parseCron","JQUERY_CRON_LOCALE","convertCronToText","cron","seconds","correctCasus","WEEKDAYS","MONTHS","convertMinusIntoArray","p","iMax","convertArrayIntoMinus","newParts","start","end","ComplexCron","cronExpression","cron2state","extended","tab","state2cron","modes","minutes","hours","dates","months","dows","recalcCron","nums","values","numberButton","every","everyN","periodSelect","verticalAlign","num","InputLabelProps","shrink","getDigitsSelector","mainDiv","FormControlLabel","control","Checkbox","checked","AppBar","appBar","Tabs","active","Tab","tabContent","getPeriodsTab","cronParts","slider","numberButtonBreak","PERIODIC","once","interval","intervalBetween","specific","PERIODIC_TYPES","DEFAULT_STATE","mode","period","unit","SimpleCron","time","timeFrom","timeTo","weekdays","settings","day","formControl","formControlMarginRight","getDate","getMonth","formControlPaddingTop","getControlsTime","getControlsDate","getControlsPeriodElements","hour","getControlsWeekdaysElements","onModeChange","getOnceElements","getIntervalElements","getIntervalBetweenElements","getSpecificTimeElements","list","part","_parts","dow","text2weekdays","periodArray2text","partsDate","month","PERIODS","ASTRO","DEFAULT","exactTime","days","weeks","years","yearMonth","yearDate","valid","to","string2USdate","Schedule","now2string","refFrom","refTo","refOnce","desc","state2text","force","isDiff","copy","string2date","today","setHours","setMinutes","setSeconds","setMilliseconds","validFrom","tDows","last","tMonths","getTime","wholeDay","night","fromTo","rowDiv","modeDiv","Radio","inputRadio","_schedule","settingsDiv","inputTime","getPeriodSettingsMinutes","isAstro","hr","isOnce","rowOnce","inputDate","defaultValue","timerOnce","getFullYear","rowDays","getPeriodSettingsDaily","getPeriodSettingsWeekdays","rowDows","getPeriodSettingsWeekly","rowDowsDows","rowMonths","getPeriodSettingsMonthly","rowMonthsDates","getPeriodSettingsDates","rowYears","getPeriodSettingsYearly","inputEvery","isSpecific","FormGroup","inputGroup","inputGroupElement","inputSmallCheck","parsedDates","inputDateDay","inputDateDayCheck","pointerEvents","parsedMonths","isEnd","setDate","timerFrom","timerTo","scrollWindow","getTimePeriodElements","getTimeExactElements","getDivider","getPeriodModes","getValidSettings","border","borderTop","rowDates","rowWeeks","rowDaysDows","DialogCron","simple","onOk","dialogPaper","setMode","ok","cancel","headerID","fontStyle","radio","DialogScriptEditor","isReturn","args","argsTitle","adapterName","Editor","onInstanceChanged","onBrowserClose","isChanged","returnValue","tabsRef","debugEnabled","verboseEnabled","showBlocklyCode","showSelectId","showCron","showScript","visible","cmdToBlockly","menuTabsOpened","menuTabsAnchorEl","showDebugMenu","toast","instancesLoaded","setChangedInAdmin","initValue","scriptDialog","systemLang","getObject","catch","selectIdDialog","cronDialog","showScriptDialog","getAllAdapterInstances","onSelectedChange","getAdapterInstances","instanceObjects","configNotSaved","subscribeObject","unsubscribeObject","_changed","verbose","removeNonExistingScripts","oldSource","commonLocal","nextCommon","onRestart","func","getSelect","showConfirmDialog","nowSelected","isScriptChanged","onTabClose","question","confirmCallback","confirm","cmd","onTabChange","indicatorColor","textColor","scrollButtons","tabIcon","tabText","tabChanged","tabChangedIcon","closeButton","wrapped","href","tabButton","wrapper","tabButtonWrapper","tabMenuButton","_event","hintButton","hintIcon","menuDebugAnchorEl","menuIcon","isInstanceRunning","isScriptRunning","changedAll","Toolbar","onLocate","notRunning","textButton","saveButton","onSave","textIcon","onSaveAll","onCancel","sendCommandToBlockly","onConvert2JS","ImgBlockly2Js","Badge","badgeMargin","badgeContent","getDebugBadge","editorDiv","resizing","selectedId","imagePrefix","statesOnly","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","action","closeToast","getTabs","getToolbar","getScriptEditor","getBlocklyEditor","getConfirmDialog","getSelectIdDialog","getCronDialog","getEditorDialog","getDebugMenu","getToast","minHeight","hintText","secondary","textOverflow","DialogImportFile","imageStatus","files","file","readFileDataUrl","dropzone","dropzoneAccepted","dropzoneRejected","maxSize","acceptClassName","rejectClassName","handleDropFile","multiple","getRootProps","getInputProps","isDragActive","isDragReject","dropzoneDiv","icon","iconError","iconOk","reader","FileReader","onabort","readAsDataURL","borderWidth","borderStyle","borderColor","boxSizing","transform","App","translations","require","bottomButtons","autoSubscribeLog","onScriptsChanged","onInstanceAliveChange","reload","onHostChanged","hosts","logSize","parseFloat","menuSize","importFile","alert","ready","updateScripts","updating","logMessage","menuSelectId","logHorzLayout","subscribeOnInstances","readAdaptersWithBlockly","getHosts","readAllScripts","compareScripts","instancesArray","promises","instanceId","all","getObjectView","loadCustomBlockly","newScripts","oldIds","newIds","oldScript","newScript","promise","parentID","updateScript","renameGroup","_list","nId","delObject","setObject","native","isFolder","reg","RegExp","expert","onSelect","newCommon","_obj","reject","getRawSocket","emit","_rev","getLiveHost","host","link","click","remove","download","onImportConfirmed","showMessage","errorDialog","menuOpenCloseButton","primaryMinSize","secondaryInitialSize","onDragStart","onSecondaryPaneSizeChange","onDragEnd","onUpdateScript","extendObject","toggleLogLayout","primaryIndex","secondaryMinSize","customClassName","splitterDivs","menuDivWithoutMenu","SideMenu","update","Utils","setThemeName","getThemeType","renderMain","GenericApp","flexGrow","menuDiv","default","splitterDivWithMenu","progress","Boolean","hostname","getThemeName","version","Sentry","dsn","release","integrations","SentryIntegrations","build","Map","ReactDOM","render","_theme","navigator","serviceWorker","registration","unregister"],"mappings":"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CpB,kBAAoB,eACpB,KAAoB,SACpB,OAAoB,SACpB,YAAoB,cACpB,OAAoB,UACpB,mBAAoB,wBACpB,kBAAoB,aACpB,oBAAqB,qBACrB,SAAoB,KACpB,iBAAoB,iBACpB,YAAoB,eACpB,GAAoB,KACpB,GAAoB,KACpB,GAAoB,MAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,uCACA,6CACA,iCACA,uCACA,2BACA,2BACA,2BACA,6CACA,mDACA,6CACA,uCACA,8CAEJD,IAAK,CACD,qEACA,qEACA,6CACA,iCACA,6CACA,6CACA,8CAEJ,MAAoB,qDACpB,IAAoB,SACpB,YAAoB,gEACpB,kBAAoB,8CACpB,KAAoB,yCACpB,OAAoB,uCACpB,YAAoB,gDACpB,OAAoB,6CACpB,mBAAoB,yFACpB,kBAAoB,gGACpB,oBAAqB,+FACrB,SAAoB,GACpB,iBAAoB,iHACpB,YAAoB,8CACpB,GAAoB,SACpB,GAAoB,SACpB,GAAoB,UAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAERM,MAAO,CACH,SACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,UAGJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAGJ,MAAoB,SACpB,IAAoB,KACpB,YAAoB,iBACpB,kBAAoB,qBACpB,KAAoB,QACpB,OAAoB,SACpB,YAAoB,YACpB,OAAoB,UACpB,mBAAoB,oBACpB,kBAAoB,sBACpB,oBAAoB,2BACpB,SAAoB,SACpB,iBAAoB,iBACpB,YAAoB,UACpB,GAAoB,OACpB,GAAoB,MACpB,GAAoB,QAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,KACA,OAEJ,MAAqB,OACrB,IAAqB,IACrB,YAAqB,cACrB,kBAAqB,cACrB,KAAqB,MACrB,OAAqB,SACrB,YAAqB,YACrB,OAAqB,UACrB,mBAAqB,oBACrB,kBAAqB,kBACrB,oBAAqB,kBACrB,SAAqB,MACrB,iBAAqB,eACrB,YAAqB,SACrB,GAAqB,IACrB,GAAqB,QACrB,GAAqB,MAGzBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAEJ,MAAwB,OACxB,IAAwB,IACxB,YAAwB,WACxB,kBAAwB,mBACxB,KAAwB,OACxB,OAAwB,SACxB,YAAwB,YACxB,OAAwB,UACxB,mBAAwB,oBACxB,kBAAwB,kBACxB,oBAAwB,qBACxB,SAAwB,KACxB,iBAAwB,oBACxB,YAAwB,UACxB,GAAwB,KACxB,GAAwB,KACxB,GAAwB,UAG5BqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,WACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,WACA,MACA,WACA,OAEJ,MAAoB,iBACpB,IAAoB,IACpB,YAAoB,aACpB,kBAAoB,WACpB,KAAoB,UACpB,OAAoB,WACpB,YAAoB,WACpB,OAAoB,UACpB,mBAAoB,wBACpB,kBAAoB,YACpB,oBAAqB,wBACrB,SAAoB,IACpB,iBAAoB,6BACpB,YAAoB,iBACpB,GAAoB,IACpB,GAAoB,IACpB,GAAoB,KAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAEJ,MAAwB,OA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","file":"static/js/main.9c50b542.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAADPhJREFUaEPtV4lTU9caf/9bWxdwqZa2CpKVgEgAlbYKKHcJS0IIKNWwmH1jDWtAJYvs2UhAZRFI2KyiXdzIvQkB4vvODVTbzlv6Zl7z3ky++c2Zk5OzfL9zvu3+7f3/uSQJJFqSBBItSQKJliSBREuSQKIlSSDRkiSQaEkSSLQkCSRakgQSLX8kEIvt0rHo61j0VSz6C9Mi7EG7t70/5Y8S24vtvPt1MrPww9r/Dl6/j+3Ayb8hAKrvvBoPL1WFfWfD3tORqVNhbxo99SXl/+Kt78vIWvMutQa67s8+EFB99+eR0Gzh1nQaNZUW8n5BTZ0C0FOnaX8caQDK/yXtA6Qd4AsAhdrTAAow9QHxEdoHm5xi+mgy7QegDSPTp6gZ9s5WAA7/QGB3az6yIoU1b10nno58FXBkLNkzlq3nArZz0H828kXIfYJ+nB95atgLP4OVzKLY3tbj8MqNsC/jletkYDg9YD+3bANkLNvSUQs72DMWHRmL0NpYizb2ko0F2yLA/o6MZUcGbM5MS/8YAWYhs0n6kg12yFx8AMhYHD4bHP76zWQK7f96B27z1xfYowKRuaJ33qMLI+laXYmorvJaTXWptLpUIgGUSGXV9cRkb9a7iVTa/Tm9JNp5+3CXfhrd7I48zKY8x9ccaSZd0bVaaUl1TbFEViyWXRXXXIVWUntVEm8BUqZfw7Sy4mpZSXVtSbXsahwS2ZUD7I+gwbpiKZpWKq0tkdWUyKpLa6SSetHivQza83n03cL+C8T26PBa05b3eMCejt+U8kkVlzRwSSOHMHJxDRdTs3EtB1MXVDSZlCXPRtNp78mI/yvKf4b2nKZdR54MZd64RZwXNXNwLQvTsDAtq8zAwows3MjCDGxcz8UMXMzExbTcsjgM3DIjGsGNHAAGMHBw3UfQsjE9G9Yyf7HJVg5u4GMqNq5gidQXJQ0z9ziU90w0FATlEYG9rUX6UfbL8ZP18mtsAo40fgCpZRF6Fg6An3qOSC2+Wfn4HvfniWO/OFN+Gj852pN7rfom6MTGlVxcjYABW3QwWgVr48ANHFLHJgBaLg7QsdGIiU0a2WU6DqYHpTm45gBqhoaeW6bjYXpBhaa2sWK0N8/aIhTJyGs10vmhzPAj1i6yZIZA9IWF9qbO3D2bLWr4HQGuSCesNnFJXVybTAL0u1NUc6fydi1WV1Msu5FNKlmEitFSh54L4YAAo3omrhNUmc5XGdmEBrRHwNRZIr1Q0sYhEMkDAujiDwAcEAHocDG9+Htx0JG+5T1KeY78OHZirIP31PF5+BF3N7y5T2Bns5v2pPS35Ajg7fDfEMiRtHcN+y9L25hx2BEeVEeqh7SW4dwquE6gpMsktCwcMUR6IBgYAgD0k43rqgxWldmRU6njkFp4B1DrarOl2+ErqAQCwFbPJeImxGiPAR/oIAKwNotQdmgvvXWfCAVK6Y360DQv5D6y5fwsslAU23nzK4GusCfVbCjg40pY/zEBYW2Pe2GltK6Nh+n4ZTr2dfAHvax97N6op0CMjmShK1dzr6t4YNwHqoNx83ADr0zJK1PwcLW8d7Lf7j5fCYThETRsTIUbrN7Z5aIqHQtZlJ4L5gTqYhoOuNB1FbTM9RvOEUZBufJBdw7E0N23/tjO1s7bR1SAoBev7bya+JAHoptdlPtYt6GQB46CwV0y/sfgQm3vzPJ6r93jmVt/4FkS1Zt4ZSpZ+8jgsKegUs8hdKUNfQ7/gm9hvX3QWUAq4MW5RItEZx+eDk4trjs8C9/KjA19Tot9SlipF1Qq24Z98p7x8tYRz+zyN1VacetY25BPAATK9Lni1vGZleu3euFS0GsjJzadFyk9/Zm07+s9Crksypi7W5B54tqD7JtQyJ1qMVzMBksgjB8jX9YX/OWN3flYph4c8i4tBdYLiebaDsfg2FRhpemCrG969UXvsOtWp/Xh6mbHoENAKovvDHiXNloHR6Qqi7Jn8tKN7tt94712b1Fde//04sT0QqFYhxlGPfMrlyXa7xos3vmVK9IWdpm+rnM8uPZDYQWySeTrYAuYKbdcMTOQEZ4+s0evxDX+ncQJ9Gy5U3v0F/l/IFBY2/tw7VllU28G3iqQmVdfvJJrLXUdwwNjU/mVJlmfb3llraACPMEk656c33heKFYpBt29D5y55VouiYybTRrk/c7xqSfuJ6v2yemcCi2nTIUZxt3zK99JwZtbBp0LTa0DueI258LTTouVjSnB9ME4gQALNwmqFA8HWZHps7F/SaBLd5FH/IFATYd/abX0RjuLMHEqWh+vbZrMttp2IOApFOu19mnv9FwOODFhuq61rm6+LL5harX7W/sfZJHMLYr03HKdvN8TWHu5uv7shu4ul9RmEnrcMOydC34rgcirqm5xWEbcTV3Dc8srRdVq5CQoyIIHGzIhioiavAMZ9PTX//wFuoFAt66QS2hYENo+InC5pnN2Y1Os6IWwkF9jDm7+Ilf31O0TUNebJxaDTwslJhbZcqvXtby2XlilVQ54BkZ8eZUQtTQo9pfrb/W5h8ZmNAPOqSfr9QbEgTTYp2aD34jVHEJVdKvrgW92ceNZz/1RLqliE4gDUgOHbGjKIRXj3bxffQBqyuhLS/RF517kebycYZz4RTflARMqgqTLRCGUcSCuQwgvqutd+um1wzN3p8064l/2zq9eKlfWtY1aRqbzxfrC2h7f0nPL+CNV79jD4HNTn42HKUubLONza23Wqe+Ng6333Vdvdsp7XD12b77EWGOyzgQ2ZLp7pHHEPbv+TTUQ0GSJTV1j0xubL0h5OwdXxCMVEGATENBMWaR+sK2Adh/beWnZfe2j566Evaci/lP0UiUEpX0C2y9633mODbXx+VgzlAwcTAW5kEWoM3F1rqRDMTB6p2fM6l7oG/EV17XwytQl8v5anTWn3MDFTaW3+/tGZ+zeOaX5vrASgqwOTJ9UDXSPPxzxz/UNOy9XqcuaLNXqu3xSzyY1Yu1gY7vtatP9xs7R/Ao17MYS6VV3PbZJf365nkvCo0Gu0ILnsAkTWBGPMKjVV15PpoDetDuNdh595U555zkans1DFfX+C/xoe+M7veT48pJYmolDGIZMvk+ADcAUkDvBq6AiYpehHAnFAh8KGwAJRqzlXIdwoc6EOZCkSD2AS0AmgiVoK7QWbqQMsrU2AyVmDQRiZrkm67o2G5xHMWD3P6lXd2QTsBA20XCQUxkyCWMmZuRhmmtSqc/Cej1x/MeR49ODWSrl9QXb2e25Cx8I7IWfUwvfvnWmDrQKC8tvoeoN3QEcpod3BAdlHMPAIk1MUcSECBQlNDwSih9InMjqYDKL0Z5J2LBQx2OoxpkzKU+XAXWeyMAhIGfp2KSaI9KcFxvbR2eMdycvi3V8XA9hkEdoIZZAHQkvgEo90sDDlcWS2u8bK6TyikLy9rfVisf3zm3PCuCzZp8AZIfoz/awP/3NRKqj/XxFbYWw/KaAbOCTjXxSwSNUkKH5UPBAHYEqJZT20cWj0g1lfihmUBLFFVyRiifSZJFqgUiRRTbnkM0CvImP34F7hUE+AYWNkl+u4hGQnlV8AuYo+ETj+XIEAdmURSgEhCKbaMommrMJpYBQC+BoAkpjNezMJ+9wRHeycHVxze25++nbs9kfEQDZi+z8ZKenMt9MHF+znXUNCuw9eUNdFwC2bqG1K/+++aJcTuSKQBuID60csgWKonipA69cWi3uMFy81yUcMufbzAVW1Mmzm/NsZqGtK2/ILLR2Cq0dQuZn/lBn3lBnvq0zz96ZZ+u84DAL7V0XrF25sMTWmW835zLIg4U2OL0rz9ottHXnw0JbV6Gt89Joz/kXoye3Hws/mNC+xHajr12hJ5co7+ch9+GtycMhZyo1kUJNHqGcKW9dR16OnrC25V+punkOIjTZBs6XQeqh1Kmsq/DeZb12poZch2n3IdpzlHYdpZyHtlyfbLk/Dbk+DbsOh12H6MlDtBNwmJo8DP/S7s/CMBnGYbLrEOX6jEJ/HYL5W65PQ859UJOfUNDCv+7PYP+QMyXkPAKdyNzFWPSgmPtIYu9j0e03Hvqpkl6T08Hb2yuNkWBDGDBbFHEdo1xH54f4NfXibHhQUnlB1KhRFP8wfIZyH6f9Z8KB+vCKPLzSEAk2RYKNqL/aQAcb6OXGcKAxjEaaIgjN0NKB23RQjgYDTZHVRkAYAMcdAPoI8dMZwFZUELSS0yu36R864AseNP4dgX8s8D4/2aj5fPikfOpIu9cmMOoKPP38n10poZk0alnCfF7EP5T/Uvm3CSABzhuRjWZ65hzlOkK5jtPu1NDD7PCPlr2d0P6Uv1z+FAEkUM3uvHJGn5mjz83RzY6dd3Oxvcj+f4mQP00ASWz3/d72PhJhNh/Lf0Tgf0mSBBItSQKJliSBREuSQKIlSSDRkiSQaEkSSLQkCSRW3r//O89RIR0Kq6AfAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAABkCAIAAACqzSMYAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAACpRJREFUeF7tm4tTU9kdx/tXddtux7YzOzvT7m61VVfRur4ouoKvgk9eeaIhcZYoxbYLuoHCSnbBYtKJrVkXHVYYkIVOHB4bJ4OADI4ZYAAdBJn0d+8999xzTy6RYHLaJL/PfGdnc+9JTM755HfOPTf8yIQg6Qc9Q0SAniEiQM8QEaBniAjQM0QE6BkiAvQMEQF6hogAPUNEgJ4hIkDPEBGgZ4gI0DNEBOgZIgL0DBEBeoaIAD1DRICeISJAzxARoGeICNAzRAToGSIC9AwRAXqGiAA9Q0SAniEiQM8QEWS5Z2b7RauzFiM4FqudDIBKlnsGn9nVcg8jONDtZABU0DNM6mOuvkIGQCVXPCuu9X/qbMcIyCfl9TsLiskAqOSKZ5+62neZWjAC8uHRS1v3HyMDoIKeYVIc9IzvEUw6gp7xPYJJR9Azvkcw6Qh6xvcIZmPJq2zmjrD5oNCZVZ6Z7RcrHFdKrU7y2Aj0LLXZUfrFprySH3+U//Ptx8EnQ+F+ffhC9nhmsVU5rvlAoLOXvzpuqjlnMbYNPUttfrXnHEi2aeuhwlMVZyrse4+e33Wmlmvz3v6KLPJMFehM3T/hs+0zXQfbzHYHOS1DXUzSM2/jwNTk9MxYZOgof4pP2c3QyPjU40jE7eJPpSRW3+jI+LOR4cGE78QfGJ6CZn1dd+NOpTLbz19TJIOOJV0M32Rb1R9LbHsrG2izd7cdyx7PaKEqvHSTfkKw7bRJK2zFlstKG8hh5/o96wi9ikm8mirnT/G5EVmWmy63u/lTKQl5/dcJ34n7+yX5TSxFevlTKQ1MlOBZwYlS0r8MZyps209e2lHmgUkT2mShZ3ttrWxfKIVNCfy/qeEOtKlqvLvHcoNtljAd37+Ux+3VxCn+FJ/G8Au56VJrejwjr5/4nbj65uQ3sZhmz97bXw7FDAoYGQM9Fqtt96FiaAA5W24lR1Uy0jM6IV5o+pbrCy67zS0Fjq+TkQyCnhlnU15xfKHikCy0GoiYkZ7ZXFeUYlbZ8G+uL1KROM+qvEWutiKXV99MSkLPvCXuDsgpV1vcKS6kZfw/8X/l2c+2Fr3Rs7XISM/opHnuLwGuL1IR1bP5SLWn9/GssviRWHm18CB4h228hmcdt0LPtacBr1486unO1xrQ+APhmRXSSGLl5dyDoLacN/Qs3zM4Fp2bnp6Lzj5vr/fqPHPdG4kuyKeeNcWpX9M1EZ2dm56due3t4E6tJ+9sLthXeIaMQZJktmcltX6uL1IR1bM1mIsMUmMMPHPdG1MuI+KZn3BXqc0g7u7J1+QMx2K4X2kT71m+J7Qot5GYf+KEF9TVs7beeflBLDbZo/tKwOcKqZ9rJJB0v+VV/h0W+Mc2qFmGe3bCfYvrjlSE82x1MhK53RUeYw6OdZI6GueZn44lXISOPBxsuNn9zfAMOQBER1VH/cOajstjw6O+ztHHs6vkQCx2v1maQ6lnyvUmK9lKNEzk08+b1s5n8qNYbDbM7obk1T9SS+yMmzm+zuwsbwTPTpfzP8heJ5nt2bGajdT/N4Xx7PVMUx093hZ8quxiwMBP2eSDnGfFgSn5IbDQrj2xpcQXoZPjA6+0XCsL0pYv2JZtESLD3HA3PGTr2cHmIQPJINz6zNWjPIR3xe621AyQwxtbxu0o84BnpeaLZAySJLM9O/pZej3r8+oX5lXfRckZMoR6z7Q5ixY8mvphpaWyy9WhtezSz251/yFGzkvViLz+fMTKVLKl6VHdtm3cdUBgmtRF5sW1D/VArpTJRvGswqrbCV8/me3Z8bTWM3W2YnOLlLRV3bxGPKNjOdfArsPk5Ht+UARaDEOhoi2XWvkbCV5r8123lADMsOrrs8zw7yrOsxLfhHxAmzrz6tRJcx2bz4bZIc+blbZqMgZJktmenbzs47ojFVEleGmwm0AHXllK6zxTx9vwidp09vJJCW0Zm7kaZyQbI89W+27qN0riPNtl+nZSPgKTsjKh1zwk/2A0dE9tk1x2VjTlrmen/yzd3Ex1tHqWnGemQGhenrAMt7tUz1aio0VSS/nByycGLZkYeQarxudOtpmBZy031HXeWBfM4LR8Lt+uZ56YZHJ33iz9622uL1KRRPVMHb9lnzxg+nrWQ1ZvRp4VeSPKSWne1FqS6wkm3jLPHacUPztvRofBofvTygOYmKXJV32KkWcHvWH5GDxzKF+9AQrrvIT349+Qn2w5nFvXAXYX8cxyPcj1RSqiLZ58zJWgnOAY2fFSChhXz+gG1XLcE1sa1euAxTDYQFuufuPRNYOFlMF1gCqutmehLhClGHkGxfUx2TdZ6FM3VuJ21JLLu9uP5da+hsVqV+5vVjd37o7rjrcO9Sy29HSQPVXT85ycUNfXes+8gWmy8bE0rnsic6G6et8j+XFrXG35NMS2vEELmLyQIq+vVda272bl0wBd0Rt71lIfWpAPy0hfjxetb/fjpV/uPp1b+7QAnTrzL3zFdQesWDefvLLt7Ofc8XVH8wyYGw83ePxFLv+NAVWyWOyRj1zn6j1ryfMMyQ8l5iJDNul+JcyDvY/VXQw6c2l1C/wYH3W6vPnuQCBMzSALKa6eSU/Utltj0QF5Ub+GZ9CS/hPAyvQQe3YDeT/fklv3nQDqGXdL4MMi109/fwRWrO/8tmDb2Xr21LojT2pr3BECFplaRT2jO6KNbBXh0W3e1j1k7hPoUTZppVdTPWM3I5hCBTp6d7n7lK01zjPuC0O/GxvO5hOXE9xHh0tRGBSz3XgBl6meme0OZeqkt9I/Pn8NCjsYtmnroW0HjsPHtjjc+0zXoeD9wfwl7ax1hGyiLj6N3NcKDGEy1MveDleHfKGJmZJquibYQqKwMjt1NW7aqg4+0W5WEpYedWlbD2RVx1+WBtW1F0zQ/fSqQl75sc1aqnuoyhu518QFJoptB0+SAWCotEuGKcMB/+V+1ayQqZ4B8NWBTwX1LK+y+YNCJ1wNKZKdKjWTFtAFDqns2T1391iSUk1LUd3dpmC/rzPk6+x1ute9k17lbwqG7vf0NwVCDx4ONTUnuG/dUefrbQ/2tgZ7m7x33uZ6MD7WLuIZLZBvmd8VXbDatZ+XWWwXLKphSmDFfKjy6vnKrPidI+WsybHliB2ugxTDPj540mrTXRDR6TWZ321nTRJd/244RaVquVKnFJqyz/91oMr7myOO7PndNuWTwyXwqSCllTZyiIF6lkt/7+St8XW76/2NA6SYrUzrLmnfMsov40usl1nJTA13ChxfKw1giZyFniUmJz3rGNZdxPBbdCnJbvOXlutB6FjrF0Gub/Hv0bW+yOroPJsc6IprkLLst+v+CEgJesb3SLamrLmrNdjfHuy/Wv/GP01IfdAzvkcw6Qh6xvcIJh1Bz/gewaQj6BnfI5h0BD3jewSTjuS0Zwcsni1/qsUIyPv5lpzzzGKrAtWq/vaPX+yQ7k1hxCTnPFOw2uwO12cYYeHuMgM54RnyPwc9Q0SAniEiQM8QEaBniAjQM0QE6BkiAvQMEQF6hogAPUNEgJ4hIkDPEBGgZ4gI0DNEBOgZIgL0DBEBeoaIAD1DRICeISJAzxARoGeICNAzRAToGSIC9AwRAXqGiAA9Q0SAniHpx2T6L/uPN/BcqRh7AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport IconCancel from '@material-ui/icons/Cancel';\nimport IconOk from \"@material-ui/icons/Check\";\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogRename extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n            instance: props.instance || 0\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n        this.prefix = this.getPrefix(props.id);\n        this.oldId = props.id;\n    }\n\n    getPrefix(id) {\n        const parts = (id || '').split('.');\n        parts.pop();\n        return parts.join('.');\n    }\n\n    getId(name) {\n        name = (name || '').replace(/[\\\\/\\][*,;'\"`<>?\\s]/g, '_');\n        return this.prefix + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.prefix = this.getPrefix(nextProps.id);\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onRename(this.oldId, this.state.id, this.state.name, this.state.instance);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        this.setState({name, id: this.getId(name)});\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Rename')}</DialogTitle>\n                <DialogContent>\n                    <form noValidate autoComplete=\"off\">\n                        <TextField\n                            style={{width: '100%'}}\n                            id=\"standard-name\"\n                            autoFocus\n                            label={I18n.t('Name')}\n                            value={this.state.name}\n                            onKeyPress={(ev) => {\n                                if (ev.key === 'Enter') {\n                                    // Do code here\n                                    ev.preventDefault();\n                                    setTimeout(() => this.handleOk(), 200);\n                                }\n                            }}\n                            onChange={e => this.handleChange(e.target.value)}\n                            margin=\"normal\"\n                        />\n                        <TextField\n                            id=\"standard-name-id\"\n                            style={{width: '100%'}}\n                            label={I18n.t('ID')}\n                            value={this.state.id}\n                            disabled={true}\n                            margin=\"normal\"\n                        />\n                        {\n                            this.isShowInstance && (\n                                <FormControl>\n                                    <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                    <Select\n                                        value={this.state.instance}\n                                        onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                        inputProps={{name: 'instance', id: 'instance'}}\n                                    >\n                                        {this.props.instances.map(instance => <MenuItem key={instance} value={instance}>{instance || '0'}</MenuItem>)}\n                                    </Select>\n                                </FormControl>)\n                        }\n                    </form>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogRename.propTypes = {\n    onClose: PropTypes.func,\n    onRename: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    folder: PropTypes.bool,\n};\n\nexport default withStyles(styles)(DialogRename);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport {MdDelete as IconDelete} from 'react-icons/md';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\n\nclass DialogDelete extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose(null);\n    };\n\n    handleOk = () => {\n        this.props.onDelete(this.state.id);\n        this.props.onClose(this.props.value);\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Are you sure?')}</DialogTitle>\n                <DialogContent>\n                    <IconDelete/>\n                    <span style={{fontSize: 14, fontWeight: 'bold'}}>{I18n.t('Delete %s', this.state.name)}</span>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogDelete.propTypes = {\n    onClose: PropTypes.func,\n    onDelete: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogDelete);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nimport ImgJS from '../assets/tileJS.png';\nimport ImgTS from '../assets/tileTS.png';\nimport ImgBlockly from '../assets/tileBlockly.png';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    card: {\n        maxWidth: 345,\n        display: 'inline-block',\n        margin: '0 10px 0 10px'\n    },\n    media: {\n        height: 100,\n    },\n    text: {\n        maxWidth: 200,\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogAddNew extends React.Component {\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = type => {\n        this.props.onClose(type);\n    };\n\n    openHtml(html) {\n        const lang = I18n.getLanguage();\n        if (lang === 'de' || lang === 'ru') {\n            html = html.replace(/\\/en\\//, '/' + lang + '/');\n        }\n        const win = window.open(html, '_blank');\n        win.focus();\n    }\n\n    getJSCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea\n                onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgJS}\n                    title=\"Javascript\"\n                />\n                <CardContent>\n                    <h2>Javascript</h2>\n                    <div className={this.props.classes.text}>{I18n.t('JS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    getTSCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea\n                onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgTS}\n                    title=\"Typescript\"\n                />\n                <CardContent>\n                    <h2>Typescript</h2>\n                    <div className={this.props.classes.text}>{I18n.t('TS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md#global-functions')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    getBlocklyCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Blockly')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgBlockly}\n                    title=\"Blockly\"\n                />\n                <CardContent>\n                    <h2>Blockly</h2>\n                    <div className={this.props.classes.text}>{I18n.t('Blockly description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Blockly')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/blockly.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Add new script')}</DialogTitle>\n                <DialogContent style={{textAlign: 'center'}}>\n                    {this.getJSCard()}\n                    {this.getBlocklyCard()}\n                    {this.getTSCard()}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogAddNew.propTypes = {\n    onClose: PropTypes.func\n};\n\nexport default withStyles(styles)(DialogAddNew);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\n\nclass DialogNew extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name || 'Script',\n            instance: props.instance || 0,\n            parent: props.parent,\n            error: ''\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n    }\n\n    getId(name) {\n        name = name || this.state.name || '';\n        name = name.replace(/[\\\\/\\][.*,;'\"`<>?\\s]/g, '_');\n        return (this.state ? this.state.parent : this.props.parent) + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onAdd(this.getId(this.state.name), this.state.name, this.state.instance, this.props.type);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        const id = this.getId(name);\n        if (!name) {\n            this.setState({name, id, error: I18n.t('Empty name is not allowed')});\n        } else\n        if (this.props.existingItems && this.props.existingItems.indexOf(id) !== -1) {\n            this.setState({name, id, error: I18n.t('Duplicate name')});\n        } else {\n            this.setState({name, id, error: ''});\n        }\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Create new')}</DialogTitle>\n                <DialogContent>\n                    <form noValidate autoComplete=\"off\">\n                        <TextField\n                            style={{width: '100%'}}\n                            id=\"standard-name\"\n                            autoFocus\n                            error={!!this.state.error}\n                            label={I18n.t('Name')}\n                            value={this.state.name}\n                            helperText={this.state.error}\n                            onKeyPress={(ev) => {\n                                if (ev.key === 'Enter') {\n                                    // Do code here\n                                    ev.preventDefault();\n                                    setTimeout(() => this.handleOk(), 200);\n                                }\n                            }}\n                            onChange={e => this.handleChange(e.target.value)}\n                            margin=\"normal\"\n                        />\n                        <FormControl style={{minWidth: 100}}>\n                            <InputLabel htmlFor=\"parent\">{I18n.t('Folder')}</InputLabel>\n                            <Select\n                                style={{width: '100%'}}\n                                value={this.state.parent}\n                                onChange={e => this.setState({parent: e.target.value})}\n                                inputProps={{name: 'parent', id: 'parent',}}\n                            >\n                                {this.props.parents.map(parent => {\n                                    const parts = parent.id.split('.');\n                                    parts.splice(0, 2); // remove script.js\n                                    const names = [];\n                                    let id = 'script.js';\n                                    parts.forEach((n, i) => {\n                                        id += '.' + n;\n                                        const el = this.props.parents.find(item => item.id === id);\n                                        if (el) {\n                                            names.push(el.name);\n                                        } else {\n                                            names.push(n);\n                                        }\n                                    });\n                                    if (!names.length) {\n                                        names.push(parent.name);\n                                    }\n                                    return (<MenuItem key={parent.id} value={parent.id}>{names.join(' / ')}</MenuItem>)\n                                })}\n                            </Select>\n                        </FormControl>\n                        <TextField\n                            id=\"standard-name-id\"\n                            style={{width: '100%'}}\n                            label={I18n.t('ID')}\n                            value={this.getId()}\n                            disabled={true}\n                            margin=\"normal\"\n                        />\n                        {\n                            this.isShowInstance && (\n                                <FormControl>\n                                <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                <Select\n                                    value={this.state.instance}\n                                    onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                    inputProps={{name: 'instance', id: 'instance',}}\n                                >\n                                    {this.props.instances.map(instance => (<MenuItem key={'instance' + instance} value={instance}>{instance || '0'}</MenuItem>))}\n                                </Select>\n                            </FormControl>)\n                        }\n                    </form>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} disabled={!!this.state.error} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogNew.propTypes = {\n    onClose: PropTypes.func,\n    onAdd: PropTypes.func,\n    name: PropTypes.string,\n    title: PropTypes.string,\n    parent: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    parents: PropTypes.array,\n    existingItems: PropTypes.array,\n    folder: PropTypes.bool,\n    type: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogNew);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport IconOk from '@material-ui/icons/Check';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    titleBackground: {\n        background: theme.palette.error.main,\n    },\n    titleColor: {\n        color: theme.palette.error.contrastText,\n        '&>h2': {\n            color: theme.palette.error.contrastText,\n        }\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogError extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log('Error created')\n    }\n    handleOk = () => {\n        this.props.onClose && this.props.onClose();\n    };\n\n    render() {\n        return (\n            <Dialog\n                open={true}\n                maxWidth=\"sm\"\n                fullWidth={true}\n                onClose={() => this.handleOk()}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle className={this.props.classes.titleBackground}\n                             classes={{root: this.props.classes.titleColor}}\n                             id=\"alert-dialog-title\">{this.props.title || I18n.t('Error')}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        {this.props.text || I18n.t('Unknown error!')}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()} color=\"primary\" autoFocus><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogError.propTypes = {\n    onClose: PropTypes.func,\n    title: PropTypes.string,\n    text: PropTypes.string,\n    icon: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogError);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {withStyles} from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport { useDrag, useDrop, DndProvider as DragDropContext  } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend'\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Input from '@material-ui/core/Input';\nimport RootRef from '@material-ui/core/RootRef';\n\nimport red from '@material-ui/core/colors/red';\nimport green from '@material-ui/core/colors/green';\nimport yellow from '@material-ui/core/colors/yellow';\n\nimport {MdMoreVert as IconMore} from 'react-icons/md';\nimport {FaFolder as IconFolder} from 'react-icons/fa';\nimport {FaFolderOpen as IconFolderOpened} from 'react-icons/fa';\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\nimport {MdDelete as IconDelete} from 'react-icons/md';\nimport {MdInput as IconDoEdit} from 'react-icons/md';\nimport {MdClose as IconClear} from 'react-icons/md';\nimport {MdFormatClear as IconClose} from 'react-icons/md';\nimport {MdPlayArrow as IconPlay} from 'react-icons/md';\nimport {MdAdd as IconAdd} from 'react-icons/md';\nimport {MdCreateNewFolder as IconAddFolder} from 'react-icons/md';\nimport {MdPause as IconPause} from 'react-icons/md';\nimport {MdSwapVert as IconReorder} from 'react-icons/md';\nimport {MdEdit as IconEdit} from 'react-icons/md';\nimport {MdSearch as IconFind} from 'react-icons/md';\nimport {MdPersonPin as IconExpert} from 'react-icons/md';\nimport {FaFileExport as IconExport} from 'react-icons/fa';\nimport {FaFileImport as IconImport} from 'react-icons/fa';\nimport {MdPalette as IconDark} from 'react-icons/md';\nimport {MdUnfoldMore as IconExpandAll} from 'react-icons/md';\nimport {MdUnfoldLess as IconCollapseAll} from 'react-icons/md';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogRename from './Dialogs/Rename';\nimport DialogDelete from './Dialogs/Delete';\nimport DialogAddNewScript from './Dialogs/AddNewScript';\nimport DialogNew from './Dialogs/New';\nimport DialogError from './Dialogs/Error';\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_RUN = green[400];\nconst COLOR_PROBLEM = yellow[400];\nconst COLOR_PAUSE = red[400];\nconst ROOT_ID = 'script.js';\nconst COMMON_ID = ROOT_ID + '.common';\nconst GLOBAL_ID = ROOT_ID + '.global';\nconst NARROW_WIDTH = 350;\n\nconst SELECTED_STYLE = {\n    background: '#164477',\n    color: 'white'\n};\n\nconst styles = theme => ({\n    drawerPaper: {\n        position: 'relative',\n        width: '100%', //Theme.menu.width,\n        height: '100%',\n        overflow: 'hidden'\n    },\n    toolbar: {\n        height: theme.toolbar.height\n    },\n    toolbarButtons: {\n        color: theme.palette.type === 'dark'? 'white !important' : 'black !important'\n    },\n    toolbarSearch: {\n        width: 'calc(100% - 105px)',\n        lineHeight: '34px',\n        marginLeft: 5\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 2\n    },\n    iconDropdownMenu: {\n        paddingRight: 5\n    },\n    iconOnTheRight: {\n        position: 'absolute',\n        right: 10,\n        top: 'calc(50% - 8px)'\n    },\n    menu: {\n        width: '100%',\n        height: '100%'\n    },\n    innerMenu: {\n        width: '100%',\n        height: 'calc(100% - 76px)',\n        overflowX: 'hidden',\n        overflowY: 'auto'\n    },\n    listItemIcon: {\n        minWidth: 32,\n    },\n    filterIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5\n    },\n    scriptIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginTop: 4,\n        marginBottom: 4,\n        marginLeft: 8,\n        marginRight: 4,\n    },\n    folder: {\n        //background: theme.palette.type === 'dark' ? '#6a6a6a' : '#e2e2e2',\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none'\n    },\n    folderReorder: {\n        opacity: 0.3,\n        transitionDuration: '0.5s',\n        transitionProperty: 'opacity'\n    },\n    folderIcon: {\n        width: 20,\n        height: 20,\n    },\n    folderIconReorder: {\n        paddingTop: 4,\n        paddingBottom: 4,\n        paddingLeft: 8,\n        paddingRight: 4,\n    },\n    folderIconNoReorder: {\n        cursor: 'pointer',\n        paddingTop: 4,\n        paddingBottom: 4,\n        paddingLeft: 8,\n        paddingRight: 4,\n    },\n    script: {\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none'\n    },\n    scriptReorder: {\n        opacity: 1,\n        transitionDuration: '0.5s',\n        transitionProperty: 'opacity'\n    },\n    reorder: {\n        //padding: '9px 16px 9px 9px',\n    },\n    expandButton: {\n        width: 37,\n        height: 37\n    },\n    selected:  SELECTED_STYLE,\n    instances: {\n        color: 'gray',\n        fontSize: 'smaller'\n    },\n    childrenCount: {\n        float: 'right',\n        marginRight: 5,\n        fontSize: 10,\n        opacity: 0.4,\n    },\n    footer: {\n        height: 24,\n    },\n    footerButtons: {\n        '&:hover': {\n            backgroundColor: '#dbdbdb'\n        },\n        color: theme.palette.type === 'dark' ? '#ffffff' : '#111111',\n        cursor: 'pointer',\n        marginTop: 1,\n        marginRight: 2,\n        height: 22,\n        width: 22,\n    },\n    footerButtonsRight: {\n        float: 'right'\n    },\n\n    mainList: {\n        '& .js-folder-dragover>div>li>.folder-reorder': {\n            background: '#40adff'\n        },\n        '& .js-folder-dragging .folder-reorder': {\n            opacity: 1,\n        },\n        '& .js-folder-dragging .script-reorder': {\n            opacity: 0.3,\n        }\n    }\n});\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    def: ImgJS,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst getObjectName = (id, obj, lang) => {\n    lang = lang || I18n.getLanguage();\n    if (obj && obj.common && obj.common.name) {\n        if (typeof obj.common.name === 'object') {\n            return (obj.common.name[lang] || obj.common.name.en || id.replace(/^script\\.js./, '')).toString();\n        } else {\n            return obj.common.name.toString();\n        }\n    } else {\n        return id.replace(/^script\\.js./, '');\n    }\n};\n\nconst prepareList = data => {\n    const result = [{\n        id: ROOT_ID,\n        depth: 0,\n        index: 0,\n        parent: null,\n        title: 'root',\n        type: 'folder'\n    }];\n    const ids = Object.keys(data);\n\n    /*ids.sort((a, b) => {\n        if ((a === 'script.js.common' || a === 'script.js.global') && (b === 'script.js.common' || b === 'script.js.global')) {\n            return a > b ? 1 : -1;\n        } else if (a === 'script.js.common' || a === 'script.js.global' || b === 'script.js.common' || b === 'script.js.global') {\n            return 1;\n        } else {\n            return a > b ? 1 : -1;\n        }\n    });*/\n\n    for (let i = 0; i < ids.length; i++) {\n        const obj = data[ids[i]];\n        const parts = ids[i].split('.');\n        parts.pop();\n        result.push({\n            id: ids[i],\n            title: getObjectName(ids[i], obj),\n            enabled: obj && obj.common && obj.common.enabled,\n            depth: parts.length - 1,\n            type: obj.type === 'script' ? obj.common.engineType : 'folder',\n            parent: parts.length > 1 ? parts.join('.') : null,\n            instance: obj.common.engine ? parseInt(obj.common.engine.split('.').pop(), 10) || 0 : null\n        });\n    }\n\n    // Place all folder-less scripts at start\n    /*result.sort((a, b) => {\n        // without folders => always at start\n        if (!a.parent && a.type !== 'folder' && !b.parent && b.type !== 'folder') {\n            if (a.id === b.id) {\n                return 0;\n            } else {\n                return a.id > b.id ? 1 : -1;\n            }\n        } else if (!a.parent && a.type !== 'folder') {\n            return -1;\n        } else if (!b.parent && b.type !== 'folder') {\n            return 1;\n        } else {\n            // common and global are always at the end\n            if ((a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) &&\n                (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global'))) {\n                if (a.id === b.id) {\n                    return 0;\n                } else {\n                    return a.id > b.id ? 1 : -1;\n                }\n            } else if (a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) {\n                return 1;\n            } else if (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global')) {\n                return -1;\n            } else {\n                if (a.id === b.id) {\n                    return 0;\n                } else {\n                    return a.id > b.id ? 1 : -1;\n                }\n            }\n        }\n    });*/\n\n    let modified;\n    do {\n        modified = false;\n        // check if all parents exists\n        // eslint-disable-next-line\n        result.forEach(item => {\n            if (item.parent) {\n                const parent = result.find(it => it.id === item.parent);\n                if (!parent) {\n                    const parts = item.parent.split('.');\n                    parts.pop();\n                    result.push({\n                        id: item.parent,\n                        title: item.parent.split('.').pop(),\n                        depth: parts.length - 1,\n                        type: 'folder',\n                        parent: parts.length > 1 ? parts.join('.') : null\n                    });\n                    modified = true;\n                }\n            }\n        });\n    } while (modified);\n\n    // Folders first\n    result.sort((a, b) => {\n        const idA = a.id.toLowerCase();\n        const idB = b.id.toLowerCase();\n        if (a.type === 'folder' && b.type !== 'folder') {\n            return -1;\n        } else if (b.type === 'folder' && a.type !== 'folder') {\n            return 1;\n        }\n\n        if (idA > idB) {\n            return 1;\n        } else if (idA < idB) {\n            return -1;\n        } else {\n            return 0;\n        }\n    });\n\n    // Fill all index\n    result.forEach((item, i) => item.index = i);\n\n    // Fill all parentIndex\n    result.forEach(item => {\n        if (item.parent) {\n            const parent = result.find(it => it.id === item.parent);\n            if (parent) {\n                item.parentIndex = parent.index;\n            }\n        }\n    });\n\n    return result;\n};\n\nexport const Droppable = (props) => {\n    const { onDrop} = props;\n\n    const [{ isOver, isOverAny}, drop] = useDrop({\n        accept: ['script'],\n        drop: e => isOver ? onDrop(e) : undefined,\n        collect: monitor => ({\n            isOver: monitor.isOver({ shallow: true }),\n            isOverAny: monitor.isOver(),\n        }),\n    });\n\n    return <div ref={drop} className={clsx(isOver && 'js-folder-dragover', isOverAny && 'js-folder-dragging')}>\n        {props.children}\n    </div>;\n};\n\nexport const Draggable = (props) => {\n    const { name } = props;\n    const [{ opacity }, drag] = useDrag({\n        item: {\n            name,\n            type: 'script'\n        },\n        collect: (monitor) => ({\n            opacity: monitor.isDragging() ? 0.3 : 1,\n        }),\n    });\n    return <div ref={drag} style={{ opacity }}>\n        {props.children}\n    </div>;\n};\n\nclass SideDrawer extends React.Component {\n    constructor(props) {\n        super(props);\n\n        let expanded = window.localStorage ? window.localStorage.getItem('SideMenu.expanded') : '[]';\n        try {\n            expanded = JSON.parse(expanded) || [];\n        } catch (e) {\n            expanded = [];\n        }\n\n        this.inputRef = new React.createRef();\n\n        this.state = {\n            listItems: prepareList(props.scripts || {}),\n            expanded: expanded,\n            problems: [],\n            reorder: false,\n            themeName: this.props.themeName,\n            selected: window.localStorage ? window.localStorage.getItem('SideMenu.selected') || null : null,\n            creatingScript: false,\n            creatingFolder: false,\n            copingScript: '',\n            renaming: null,\n            deleting: null,\n            choosingType: null,\n            errorText: '',\n            instances: props.instances || [],\n            menuOpened: false,\n            menuAnchorEl: null,\n            searchMode: false,\n            expertMode: this.props.expertMode,\n            searchText: '',\n            width: this.props.width || 300,\n            typeFilter: window.localStorage ? window.localStorage.getItem('SideMenu.typeFilter') || '' : '', // blockly, js, ts\n            statusFilter: window.localStorage ? window.localStorage.getItem('SideMenu.statusFilter') || '' : '',\n            runningInstances: this.props.runningInstances || {},\n            scriptsHash: props.scriptsHash,\n        };\n\n        const newExp = this.ensureSelectedIsVisible();\n        if (newExp) {\n            this.state.expanded = newExp;\n        }\n\n        // debounce search process\n        this.filterTimer = null;\n\n        this.state.isAllZeroInstances = this.getIsAllZeroInstances();\n\n        this.problems = null; //cache\n        this.problemsTimer = null;\n        this.onProblemUpdatedBound = this.onProblemUpdated.bind(this);\n    }\n\n    readProblems(cb, tasks) {\n        if (!tasks) {\n            tasks = Object.keys(this.props.scripts);\n        }\n        if (!tasks || !tasks.length) {\n            cb && cb();\n        } else {\n            const id = tasks.shift();\n            if (this.props.scripts[id] &&\n                this.props.scripts[id].type === 'script' &&\n                this.props.scripts[id].common &&\n                this.props.scripts[id].common.enabled &&\n                !id.match(/^script\\.js\\.global\\./) // GLOBAL_ID\n            ) {\n                const instance = this.props.scripts[id].common.engine.split('.').pop();\n                const that = this; // sometimes lambda does not work\n                const _id = 'javascript.' + instance + '.scriptProblem.' + id.substring(ROOT_ID.length + 1);\n\n                this.props.socket.getState(_id, (err, state) => {\n                    that.onProblemUpdated(_id, state);\n                    setTimeout(() => that.readProblems(cb, tasks), 0);\n                });\n            } else {\n                setTimeout(() => this.readProblems(cb, tasks), 0);\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.readProblems(() =>  {\n            this.props.instances.forEach(instance => {\n                this.props.socket.subscribeState('javascript.' + instance + '.scriptProblem.*', this.onProblemUpdatedBound);\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        this.props.instances.forEach(instance => {\n            this.props.socket.unsubscribeState('javascript.' + instance + '.scriptProblem.*', this.onProblemUpdatedBound);\n        });\n    }\n\n    onProblemUpdated(id, state) {\n        if (!state || !id) return;\n        id = ROOT_ID + '.' + id.replace(/^javascript\\.\\d+\\.scriptProblem\\./, '');\n\n        if (!this.problems) {\n            this.problems = JSON.parse(JSON.stringify(this.state.problems));\n        }\n        let changed = false;\n\n        if (state.val) {\n            if (this.problems.indexOf(id) === -1) {\n                this.problems.push(id);\n                changed = true;\n            }\n        } else {\n            const pos = this.problems.indexOf(id);\n            if (pos !== -1) {\n                this.problems.splice(pos, 1);\n                changed = true;\n            }\n        }\n\n        if (changed && !this.problemsTimer) {\n            this.problemsTimer = setTimeout(() => {\n                this.problemsTimer = null;\n                this.setState({problems: this.problems});\n                this.problems = null;\n            }, 300);\n        }\n    }\n\n    static filterListStatic(isSearchEnabled, listItems, searchMode, searchText, objects) {\n        listItems = JSON.parse(JSON.stringify(listItems));\n        let changed = false;\n        let newState = {listItems};\n        if (isSearchEnabled !== false && searchMode && searchText) {\n            const text = searchText.toLowerCase();\n            listItems.forEach(item => {\n                const id = item.title.toLowerCase();\n                item.filteredPartly = false;\n                let found = id.indexOf(text) !== -1;\n                if (!found && (objects && objects[item.id] && objects[item.id].common && objects[item.id].common.source)) {\n                    if (objects[item.id].common.engineType === 'Blockly') {\n                        const pos = objects[item.id].common.source.lastIndexOf('//');\n                        found = objects[item.id].common.source.substring(0, pos).toLowerCase().indexOf(text) !== -1;\n                    } else {\n                        found = objects[item.id].common.source.toLowerCase().indexOf(text) !== -1;\n                    }\n                }\n                if (found) {\n                    if (item.filtered) {\n                        item.filtered = false;\n                        changed = true;\n                    }\n                } else if (!item.filtered) {\n                    item.filtered = true;\n                    changed = true;\n                }\n            });\n\n            if (changed) {\n                // check that all parents of every non-filtered item are visible\n                for (let i = listItems.length - 1; i >= 0; i--) {\n                    const item = listItems[i];\n                    if (!item.filtered || item.filteredPartly) {\n                        let it = item;\n                        do {\n                            if (it.parent && listItems[it.parentIndex]) {\n                                changed = true;\n                                listItems[it.parentIndex].filteredPartly = true;\n                            }\n                            it = it.parent && listItems[it.parentIndex] ? listItems[it.parentIndex] : null;\n                        } while(it);\n                    }\n                }\n            }\n        } else {\n            listItems.forEach(item => {\n                if (item.filtered || item.filteredPartly) {\n                    item.filtered = false;\n                    item.filteredPartly = false;\n                    changed = true;\n                }\n            });\n            if (isSearchEnabled === false) {\n                newState.searchText = '';\n                newState.searchMode = false;\n                changed = true;\n            }\n        }\n\n        return changed ? newState : null;\n    }\n\n    filterList(isSearchEnabled, cb) {\n        const newState = SideDrawer.filterListStatic(\n            isSearchEnabled,\n            this.state.listItems,\n            this.state.searchMode,\n            this.state.searchText,\n            this.props.scripts\n        );\n\n        if (newState) {\n            this.setState(newState, () => cb && cb());\n        } else if (cb) {\n            cb();\n        }\n    }\n\n    static ensureSelectedIsVisibleStatic(selected, expanded, listItems) {\n        expanded = JSON.parse(JSON.stringify(expanded));\n        let changed = false;\n\n        // ensure that the item is visible\n        let el = typeof selected === 'object' ? selected : listItems.find(it => it.id === selected);\n        do {\n            // eslint-disable-next-line\n            el = el && el.parent && listItems.find(it => it.id === el.parent);\n            if (el) {\n                if (expanded.indexOf(el.id) === -1) {\n                    expanded.push(el.id);\n                    changed = true;\n                }\n            }\n        } while(el);\n        return changed && expanded;\n    }\n\n    ensureSelectedIsVisible(selected, expanded) {\n        SideDrawer.ensureSelectedIsVisibleStatic(selected || this.state.selected, expanded || this.state.expanded, this.state.listItems);\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const newState = {};\n        let changed = false;\n        if (state.expertMode !== props.expertMode) {\n            changed = true;\n            newState.expertMode = props.expertMode;\n        }\n        if (state.scriptsHash !== props.scriptsHash && props.scripts) {\n            const listItems = prepareList(props.scripts || {});\n\n            newState.listItems = listItems;\n\n            if (state.searchText) {\n                const nState = SideDrawer.filterListStatic(true, listItems, state.searchMode, state.searchText, props.scripts);\n                nState && Object.assign(newState, nState);\n            }\n\n            const isAllZeroInstances = SideDrawer.getIsAllZeroInstancesStatic(listItems, props.instances || []);\n\n            const newExp = SideDrawer.ensureSelectedIsVisibleStatic(state.selected, state.expanded, state.listItems);\n\n            newState.isAllZeroInstances = isAllZeroInstances;\n            if (newExp) {\n                newState.expanded = newExp;\n            }\n            changed = true;\n        }\n\n        if (state.width !== props.width) {\n            changed = true;\n            newState.width = props.width;\n        }\n        if (state.themeName !== props.themeName) {\n            changed = true;\n            newState.themeName = props.themeName;\n        }\n\n        if (props.selectId && state.selected !== props.selectId) {\n            const item = state.listItems.find(item => item.id === props.selectId);\n\n            if (!state.reorder && item) {\n                const expanded = SideDrawer.ensureSelectedIsVisibleStatic(item, state.expanded, state.listItems);\n                newState.selected = item.id;\n                if (expanded) {\n                    newState.expanded = expanded;\n                }\n                changed = true;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n            }\n        }\n\n        if (changed) {\n            return newState;\n        } else {\n            return null;\n        }\n    }\n\n    static getIsAllZeroInstancesStatic(listItems, instances) {\n        let isAllZeroInstances = !instances[0] && instances.length <= 1;\n\n        if (isAllZeroInstances) {\n            listItems.forEach(item => {\n                if (item.type !== 'folder' && item.instance !== 0) {\n                    isAllZeroInstances = false;\n                }\n            });\n        }\n        return isAllZeroInstances;\n    }\n\n    getIsAllZeroInstances(listItems, instances) {\n        listItems = listItems || this.state.listItems;\n        instances = instances || this.state.instances;\n        return SideDrawer.getIsAllZeroInstancesStatic(listItems || this.state.listItems, instances || this.state.instances);\n    }\n\n    saveExpanded(expanded) {\n        window.localStorage.setItem('SideMenu.expanded', JSON.stringify(expanded || this.state.expanded));\n    }\n\n    showError(err) {\n        this.setState({errorText: err});\n    }\n\n    onToggle(id, e) {\n        e && e.stopPropagation();\n        if (id === ROOT_ID) {\n            return;\n        }\n        const expanded = [...this.state.expanded];\n        const newState = {expanded};\n        const pos = expanded.indexOf(id);\n        if (pos !== -1) {\n            expanded.splice(pos, 1);\n            if (this.state.selected && this.state.selected.startsWith(id + '.')) {\n                newState.selected = id;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', id);\n            }\n        } else {\n            expanded.push(id);\n            expanded.sort();\n        }\n        this.setState({expanded});\n        this.saveExpanded(expanded);\n    }\n\n    renderItemButtonsOnEnd(item, children) {\n        if (this.state.reorder) {\n            return null;\n        }\n        if (item.type !== 'folder') {\n            let color = item.enabled ? COLOR_RUN : COLOR_PAUSE;\n            if (item.enabled && this.state.problems.indexOf(item.id) !== -1) {\n                color = COLOR_PROBLEM;\n            }\n\n            return [\n                <IconButton className={this.props.classes.iconButtons}\n                             onClick={e => {\n                                e.stopPropagation();\n                                this.props.onEnableDisable && this.props.onEnableDisable(item.id, !item.enabled)\n                             }}\n                            title={item.enabled ? I18n.t('Pause script') : I18n.t('Run script')}\n                            key=\"startStop\"\n                            style={{color}}>\n                            {item.enabled ? (<IconPause/>) : (<IconPlay/>)}\n                </IconButton>,\n                this.state.width > NARROW_WIDTH ? <IconButton\n                    key=\"delete\"\n                    title={I18n.t('Delete script')}\n                    disabled={item.id === GLOBAL_ID || item.id === COMMON_ID}\n                    onClick={e => this.onDelete(item, e)}><IconDelete/></IconButton> : null,\n                <IconButton key=\"openInEdit\" title={I18n.t('Edit script or just double click')} onClick={e => this.onEdit(item, e)}><IconDoEdit/></IconButton>,\n            ];\n        } else if (this.state.width > NARROW_WIDTH) {\n            if (item.id !== ROOT_ID && item.id !== COMMON_ID && item.id !== GLOBAL_ID && (!children || !children.length)) {\n                return <IconButton\n                    key=\"delete\"\n                    title={I18n.t('Delete folder')}\n                    disabled={item.id === GLOBAL_ID || item.id === COMMON_ID}\n                    onClick={e => this.onDelete(item, e)}><IconDelete/></IconButton>;\n            } else {\n                return null;\n            }\n        }\n    }\n\n    onDelete(item, e) {\n        e && e.stopPropagation();\n        return new Promise(resolve => {\n            if (typeof item !== 'object') {\n                this.setState({deleting: item});\n            } else {\n                this.setState({deleting: item.id});\n            }\n        });\n    }\n\n    onEdit(item, e) {\n        this.onClick(item, e);\n        this.props.onEdit && this.props.onEdit(item.id);\n    }\n\n    getTextStyle(item) {\n        if (!this.state.reorder && item.type !== 'folder') {\n            return {\n                //width: 130,\n                width: `calc(100% - ${this.state.width > NARROW_WIDTH ? 185 : 137}px)`,\n                overflow: 'hidden',\n                whiteSpace: 'nowrap',\n                flex: 'none',\n                padding: '0 16px 0 0'\n            };\n        } else {\n            return {\n                whiteSpace: 'nowrap',\n                padding: '0 16px 0 0'\n            };\n        }\n    }\n\n    onClick(item, e) {\n        e && e.stopPropagation();\n        if (!this.state.reorder && item) {\n            const expanded = this.ensureSelectedIsVisible(item);\n            const newState = {selected: item.id};\n            if (expanded) {\n                newState.expanded = expanded;\n            }\n            this.setState(newState);\n            window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n        }\n    }\n\n    onDblClick(item, e) {\n        e && e.stopPropagation();\n        if (this.state.reorder) {\n            return;\n        }\n        if (item.type === 'folder') {\n            this.onToggle(item.id);\n        } else {\n            this.onEdit(item);\n        }\n    }\n\n    isFilteredOut(item) {\n        if (item.filtered && !item.filteredPartly) return true;\n\n        if (this.state.typeFilter && item.type !== 'folder' && item.type !== this.state.typeFilter) {\n            return true;\n        }\n\n        if (this.state.statusFilter &&\n            item.type !== 'folder' &&\n            (\n                (this.state.statusFilter === 'running' && !item.enabled) ||\n                (this.state.statusFilter === 'paused' && item.enabled) ||\n                (this.state.statusFilter === 'problems' && (!item.enabled || this.state.problems.indexOf(item.id) === -1)))\n        ) {\n            return true;\n        }\n\n        return (item.id === GLOBAL_ID && !this.state.expertMode);\n    }\n\n    renderListItem(item, children, childrenFiltered) {\n        if (item.id === ROOT_ID && !this.state.reorder) {\n            return null;\n        }\n\n        const depthPx = this.state.reorder ? item.depth * 20 : (item.depth - 1) * 20;\n\n        let title = item.title;\n\n        if (this.state.searchText) {\n            const pos = title.toLowerCase().indexOf(this.state.searchText.toLowerCase());\n            if (pos !== -1) {\n                title = [\n                    (<span key=\"first\">{title.substring(0, pos)}</span>),\n                    (<span key=\"second\" style={{color: 'orange'}}>{title.substring(pos, pos + this.state.searchText.length)}</span>),\n                    (<span key=\"third\">{title.substring(pos + this.state.searchText.length)}</span>),\n                ];\n            }\n        }\n\n        if (!this.state.isAllZeroInstances && item.type !== 'folder') {\n            title = [\n                <span key=\"instance\" title={I18n.t('Instance')} className={this.props.classes.instances}>[{item.instance}] </span>,\n                <span key=\"title\">{title}</span>\n            ];\n        }\n\n        const style = Object.assign({\n            marginLeft: depthPx,\n            cursor:     item.type === 'folder' && this.state.reorder ? 'default' : 'inherit',\n            width:      `calc(100% - ${depthPx}px)`\n        }, item.id === this.state.selected && !this.state.reorder ? SELECTED_STYLE : {});\n\n        if (!this.state.reorder) {\n            style.opacity = item.filteredPartly ? 0.5 : 1;\n        }\n\n        if (item.id === GLOBAL_ID && item.id !== this.state.selected) {\n            style.color = '#00a200';\n        }\n\n        let isExpanded = item.id === ROOT_ID;\n        if (!isExpanded && children) {\n            isExpanded = this.state.expanded.includes(item.id);\n        }\n\n        let iconStyle = {};\n        if (item.id === GLOBAL_ID) {\n            iconStyle.color = '#356956';\n        } else if (item.id === COMMON_ID) {\n            iconStyle.color = '#4899e1';\n        }\n        let iconClass;\n        if (item.type === 'folder') {\n            iconClass = clsx(this.props.classes.folderIcon, this.state.reorder ? this.props.classes.folderIconReorder : this.props.classes.folderIconNoReorder);\n        } else {\n            iconClass = clsx(this.props.classes.scriptIcon, this.state.reorder ? this.props.classes.scriptIconReorder : this.props.classes.scriptIconNoReorder);\n        }\n\n        let childrenCount = null;\n        if ((childrenFiltered && childrenFiltered.length) || (children && children.length)) {\n            childrenCount = <span className={this.props.classes.childrenCount}>{childrenFiltered && childrenFiltered.length !== children.length ? `${childrenFiltered.length}(${children.length})` : children.length}</span>;\n        }\n\n        return <ListItem\n            key={item.id}\n            style={style}\n            className={clsx(\n                item.type === 'folder' ? this.props.classes.folder : this.props.classes.script,\n                this.state.reorder && item.type === 'folder' && 'folder-reorder',\n                this.state.reorder && item.type !== 'folder' && 'script-reorder',\n                this.state.reorder && this.props.classes.reorder,\n                this.state.reorder && item.type !== 'folder' &&  this.props.classes.scriptReorder,\n                this.state.reorder && item.type === 'folder' && this.props.classes.folderReorder,\n                )}\n            onClick={e => this.onClick(item, e)}\n            onDoubleClick={e => this.onDblClick(item, e)}\n        >\n            <ListItemIcon\n                classes={{root: this.props.classes.listItemIcon}}\n            >{\n                item.type === 'folder' ? (\n                        this.state.reorder || isExpanded ?\n                            <IconFolderOpened className={iconClass} style={iconStyle} onClick={e => !this.state.reorder && this.onToggle(item.id, e)}/> :\n                            <IconFolder       className={iconClass} style={iconStyle} onClick={e => !this.state.reorder && this.onToggle(item.id, e)}/>\n                    )\n                    :\n                    <img className={iconClass} alt={item.type} src={images[item.type] || images.def}/>\n            }</ListItemIcon>\n            <ListItemText\n                classes={{primary: item.id === this.state.selected && !this.state.reorder ? this.props.classes.selected : undefined}}\n                style={this.getTextStyle(item)} primary={(<span>{title}{childrenCount}</span>)}/>\n            <ListItemSecondaryAction>{this.renderItemButtonsOnEnd(item, children)}</ListItemSecondaryAction>\n        </ListItem>;\n    }\n\n    onDragFinish(source, target) {\n        let newId = target + '.' + source.split('.').pop();\n        if (newId !== source) {\n            // If target yet exists => add Copy to\n            if (this.state.listItems.find(item => item.id === newId)) {\n                newId += '_' + I18n.t('copy');\n            }\n\n            this.props.onRename && this.props.onRename(source, newId);\n        }\n        return undefined;\n    }\n\n    renderOneItem(items, item, dragging) {\n        let childrenFiltered = (this.state.statusFilter || this.state.typeFilter) && items.filter(i => i.parent === item.id ? !this.isFilteredOut(i) : false);\n        let children = items.filter(i => i.parent === item.id);\n\n        if (this.isFilteredOut(item)) {\n            return;\n        }\n\n        if (item.type === 'folder' && (this.state.statusFilter || this.state.typeFilter) && !childrenFiltered.length) {\n            return;\n        }\n\n        const element = this.renderListItem(item, children, childrenFiltered);\n        const result = [];\n        let reactChildren;\n        if (children && (this.state.reorder || this.state.expanded.includes(item.id) || item.id === ROOT_ID)) {\n            reactChildren = children.map(it => this.renderOneItem(items, it));\n        }\n\n        if (this.state.reorder) {\n            if (item.type === 'folder') {\n                result.push(<Droppable key={'droppable_' + item.id}\n                    onDrop={e => this.onDragFinish(e.name, item.id)}\n                >\n                    <Draggable key={'draggable_' + item.id} name={item.id}>{element}</Draggable>\n                    {reactChildren || null}\n                </Droppable>);\n            } else {\n                result.push(<Draggable key={'draggable_' + item.id} name={item.id}>\n                    {element}\n                    {reactChildren || null}\n                </Draggable>);\n            }\n        } else {\n            result.push(element);\n            reactChildren && reactChildren.forEach(e => result.push(e));\n        }\n\n        return result;\n    }\n\n    renderAllItems(items) {\n        const result = items.filter(item => !item.parent).map(item => this.renderOneItem(items, item));\n\n        return <List\n            dense={true}\n            disablePadding={true}\n            className={this.props.classes.mainList}\n        >\n            {result}\n        </List>;\n    }\n\n    onAddNew(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({choosingType: true});\n    }\n\n    onCopy(e, id) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === id);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({copingScript: id});\n    }\n\n    onAddNewFolder(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({creatingFolder: true});\n    }\n\n    onRename(e) {\n        e && e.stopPropagation();\n        this.setState({renaming: this.state.selected});\n    }\n\n    getUniqueName(copyId) {\n        let i = 1;\n        let word = I18n.t('Script') + ' ';\n        if (copyId) {\n            let name = getObjectName(copyId, this.props.scripts[copyId]);\n            const m = name.match(/\\d+$/);\n            if (m) {\n                word = name.replace(/\\d+$/, '');\n                i = parseInt(m[0], 10) + 1;\n            } else {\n                word = name;\n            }\n        }\n\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + word.replace(/\\.\\s/g, '_') + i)) {\n            i++;\n        }\n        /*ignore jslint end*/\n        return word + i;\n    }\n\n    getUniqueFolderName() {\n        let i = 1;\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + I18n.t('Folder') + '_' + i)) {\n            i++;\n        }\n        return I18n.t('Folder') + ' ' + i;\n    }\n\n    onCloseMenu(cb) {\n        this.setState({menuOpened: false, menuAnchorEl: null, menuAnchorFilterEl: null}, cb);\n    }\n\n    getFilterBadge() {\n        return [\n            this.state.statusFilter === true && (<IconPlay className={this.props.classes.filterIcon} style={{color: COLOR_RUN}}/>),\n            this.state.statusFilter === false && (<IconPause className={this.props.classes.filterIcon} style={{color: COLOR_PAUSE}}/>),\n            this.state.typeFilter === 'Blockly' && ('Bl'),\n            this.state.typeFilter === 'Javascript/js' && ('JS'),\n            this.state.typeFilter === 'TypeScript/ts' && ('TS'),\n        ]\n    }\n\n    getMainMenu(children, selectedItem) {\n        return <Menu\n            key=\"menu\"\n            id=\"long-menu\"\n            anchorEl={this.state.menuAnchorEl}\n            open={this.state.menuOpened}\n            onClose={() => this.setState({menuOpened: false, menuAnchorEl: null})}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                    //width: 200,\n                },\n            }}\n        >\n            {this.state.width <= NARROW_WIDTH ? <MenuItem\n                key=\"deleted\"\n                disabled={!this.state.selected || this.state.selected === GLOBAL_ID || this.state.selected === COMMON_ID || (children && children.length)}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    if (this.state.listItems.find(item => item.parent === this.state.selected)) {\n                        this.showError(I18n.t('Cannot delete non empty item!'));\n                        return;\n                    }\n\n                    this.setState({menuOpened: false, menuAnchorEl: null}, () =>\n                        this.onDelete(this.state.selected).then(() => {}));\n                }}><IconDelete className={this.props.classes.iconDropdownMenu}  style={{color: 'red'}}/>{I18n.t('Delete')}\n            </MenuItem> : null}\n            <MenuItem key=\"expertMode\" selected={this.state.expertMode}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.onCloseMenu(() =>\n                              this.props.onExpertModeChange && this.props.onExpertModeChange(!this.state.expertMode));\n                      }}><IconExpert className={this.props.classes.iconDropdownMenu} style={{color: 'orange'}}/>{I18n.t('Expert mode')}\n            </MenuItem>\n            {this.props.onExport && <MenuItem\n                key=\"exportAll\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() => this.props.onExport());\n                }}>\n                <IconExport className={this.props.classes.iconDropdownMenu} />{I18n.t('Export all scripts')}\n            </MenuItem>}\n            {this.props.onImport && <MenuItem\n                key=\"import\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() => this.props.onImport());\n                }}>\n                <IconImport className={this.props.classes.iconDropdownMenu} />{I18n.t('Import scripts')}\n            </MenuItem>}\n            {this.props.onThemeChange && <MenuItem\n                key=\"dark\"\n                onClick={event =>\n                    this.onCloseMenu(() => {\n\n                        // TODO: use Utils.toggleTheme(themeName)\n                        // newThemeName = Utils.toggleTheme(themeName);\n                        const newThemeName = this.state.themeName === 'dark' ? 'blue' :\n                            this.state.themeName === 'blue' ? 'colored' : this.state.themeName === 'colored' ? 'light' :\n                                this.state.themeName === 'light' ? 'dark' : 'colored';\n                        this.props.onThemeChange(newThemeName);\n                    })}>\n                <IconDark className={this.props.classes.iconDropdownMenu} />{I18n.t('Change theme (actual \"%s\")', this.state.themeName)}\n            </MenuItem>}\n            {this.props.onAddNew && <MenuItem key=\"copy\"\n                                               disabled={!this.state.selected || !selectedItem || selectedItem.type === 'folder'}\n                                               onClick={event => {\n                                                   const selected = this.state.selected;\n                                                   this.onCloseMenu(() => this.onCopy(event, selected))\n                                               }}>\n                <IconCopy className={this.props.classes.iconDropdownMenu} />{I18n.t('Copy script')}\n            </MenuItem>}\n        </Menu>;\n    }\n\n    // render menu and toolbar\n    getToolbarButtons() {\n        const result = [];\n        const classes = this.props.classes;\n        if (this.state.searchMode) {\n            result.push(<RootRef key=\"searchInputRoof\" rootRef={this.inputRef}><Input\n                key=\"searchInput\"\n                value={this.state.searchText}\n                className={classes.toolbarSearch}\n                ref={this.inputRef}\n                autoFocus={true}\n                placeholder={I18n.t('Search...')}\n                onChange={e => {\n                    this.setState({searchText: e.target.value});\n                    this.filterTimer && clearTimeout(this.filterTimer);\n                    this.filterTimer = setTimeout(() => {\n                        this.filterTimer = null;\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    }, 400);\n                }}\n            /></RootRef>);\n\n            result.push(<IconButton\n                key=\"disableSearch\"\n                className={classes.toolbarButtons}\n                style={{float: 'right'}}\n                title={I18n.t('End search mode')}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.filterList(false, () => this.props.onSearch && this.props.onSearch(this.state.searchText));\n                }}\n            ><IconClose /></IconButton>);\n\n            this.state.searchText && result.push(<IconButton\n                key=\"cleanSearch\"\n                mini=\"true\"\n                title={I18n.t('Clear search input')}\n                className={classes.toolbarButtons}\n                style={{marginTop: 7, float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({searchText: ''}, () => {\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    });\n                }}\n            ><IconClear fontSize=\"small\"/></IconButton>);\n        } else {\n            if (!this.state.reorder) {\n                // Open Menu\n                result.push(<IconButton\n                    key=\"menuButton\"\n                    aria-label=\"More\"\n                    aria-owns={this.state.menuOpened ? 'long-menu' : undefined}\n                    title={I18n.t('Menu')}\n                    aria-haspopup=\"true\"\n                    onClick={event => {\n                        event.stopPropagation();\n                        event.preventDefault();\n                        this.setState({menuOpened: true, menuAnchorEl: event.currentTarget});\n                    }}\n                >\n                    {/*<Badge className={classes.margin} badgeContent={this.getFilterBadge()}>*/}\n                        <IconMore />\n                    {/*</Badge>*/}\n                </IconButton>);\n\n                const selectedItem = this.state.listItems.find(it => it.id === this.state.selected);\n                let children;\n                if (selectedItem && this.state.width <= NARROW_WIDTH && selectedItem.type === 'folder') {\n                    children = this.state.listItems.filter(i => i.parent === this.state.selected);\n                }\n\n                // Menu\n                result.push(this.getMainMenu(children, selectedItem));\n\n                // New Script\n                result.push(<IconButton\n                    key=\"new-script\"\n                    title={I18n.t('Create new script')}\n                    className={classes.toolbarButtons}\n                    style={{color: this.state.reorder ? 'red' : 'inherit'}}\n                    onClick={e => this.onAddNew(e)}\n                ><IconAdd/></IconButton>);\n\n                // New Folder\n                result.push(<IconButton\n                    key=\"new-folder\"\n                    title={I18n.t('Create new folder')}\n                    className={classes.toolbarButtons}\n                    style={{color: this.state.reorder ? 'red' : 'inherit'}}\n                    onClick={() => this.onAddNewFolder()}\n                ><IconAddFolder/></IconButton>);\n            }\n\n            // Search\n            result.push(<IconButton\n                key=\"search\"\n                disabled={this.state.reorder}\n                className={classes.toolbarButtons}\n                title={I18n.t('Search in scripts')}\n                style={{float: 'right', opacity: this.state.reorder ? 0 : 1}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({searchMode: true});\n                }}\n            ><IconFind/></IconButton>);\n\n            // Reorder button\n            result.push(<IconButton\n                key=\"reorder\"\n                title={I18n.t('Reorder scripts in folders')}\n                className={classes.toolbarButtons}\n                style={{color: this.state.reorder ? 'red' : 'inherit', float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({reorder: !this.state.reorder});\n                }}\n            ><IconReorder/></IconButton>);\n\n            if (!this.state.reorder && this.state.selected && this.state.selected !== GLOBAL_ID && this.state.selected !== COMMON_ID) {\n                // Rename\n                result.push(<IconButton className={classes.toolbarButtons}\n                                         title={I18n.t('Rename')}\n                                         key=\"rename\"\n                                         onClick={e => this.onRename(e)}\n                ><IconEdit/></IconButton>);\n\n\n                // const selectedItem = this.state.listItems.find(i => i.id === this.state.selected);\n                // if (selectedItem && selectedItem.type !== 'folder') {\n                //     // Restart\n                //     result.push((<IconButton className={classes.toolbarButtons}\n                //          key=\"restart\"\n                //          onClick={e => {\n                //              e.stopPropagation();\n                //              this.props.onEnableDisable && this.props.onEnableDisable();\n                //          }}\n                //     ><IconRestart/></IconButton>));\n                // }\n            }\n\n        }\n        return result;\n    }\n\n    getFolders() {\n        const folders = [{id: ROOT_ID, name: I18n.t('Root folder')}];\n        this.state.listItems.forEach(item =>\n            item.type === 'folder' && folders.push({id: item.id, name: item.title})\n        );\n        return folders;\n    }\n\n    onCollapseAll() {\n        this.setState({expanded: []});\n        this.saveExpanded([]);\n    }\n\n    onExpandAll() {\n        const expanded = [];\n        this.state.listItems.forEach(item =>\n            this.state.listItems.find(it => it.parent === item.id) && expanded.push(item.id));\n        this.setState({expanded});\n        this.saveExpanded(expanded);\n    }\n\n    getBottomButtons() {\n        if (this.state.reorder) {\n            return null;\n        }\n        return [\n            <IconPause\n                key=\"filterByRunning\"\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_RUN, opacity: this.state.statusFilter === 'running' ? 1 : 0.3, background: this.state.statusFilter === 'running' ? 'gray' : 'inherit'}}\n                title={I18n.t('Show only running scripts')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    const statusFilter = this.state.statusFilter === 'running' ? '' : 'running';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n\n            <IconPlay\n                key=\"filterByPaused\"\n                title={I18n.t('Show only paused scripts')}\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_PAUSE, opacity: this.state.statusFilter === 'paused' ? 1 : 0.3, background: this.state.statusFilter === 'paused' ? 'gray' : 'inherit'}}\n                onClick={event => {\n                    const statusFilter = this.state.statusFilter === 'paused' ? '' : 'paused';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n            <IconPause\n                key=\"filterByProblem\"\n                title={I18n.t('Show only scripts with problems')}\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_PROBLEM, opacity: this.state.statusFilter === 'problems' ? 1 : 0.3, background: this.state.statusFilter === 'problems' ? 'gray' : 'inherit'}}\n                onClick={event => {\n                    const statusFilter = this.state.statusFilter === 'problems' ? '' : 'problems';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n            <img\n                key=\"filterBlockly\"\n                className={this.props.classes.footerButtons}\n                alt=\"Blockly\"\n                style={{opacity: this.state.typeFilter === 'Blockly' ? 1 : 0.3, background: this.state.typeFilter === 'Blockly' ? 'gray' : 'inherit'}}\n                src={images.Blockly || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Blockly' ? '' : 'Blockly';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({typeFilter});\n                }}\n            />,\n            <img\n                key=\"filterJS\"\n                className={this.props.classes.footerButtons}\n                alt=\"Javascript\"\n                style={{opacity: this.state.typeFilter === 'Javascript/js' ? 1 : 0.3, background: this.state.typeFilter === 'Javascript/js' ? 'gray' : 'inherit'}}\n                src={images['Javascript/js'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Javascript/js' ? '' : 'Javascript/js';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({typeFilter});\n                }}\n            />,\n            <img\n                key=\"filterTS\"\n                className={this.props.classes.footerButtons}\n                alt=\"TypeScript\"\n                style={{opacity: this.state.typeFilter === 'TypeScript/ts' ? 1 : 0.3, background: this.state.typeFilter === 'TypeScript/ts' ? 'gray' : 'inherit'}}\n                src={images['TypeScript/ts'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'TypeScript/ts' ? '' : 'TypeScript/ts';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                this.setState({typeFilter});\n                }}\n            />,\n            <IconExpandAll key=\"expandAll\" className={this.props.classes.footerButtons + ' ' + this.props.classes.footerButtonsRight} title={I18n.t('Expand all')} onClick={() => this.onExpandAll()}/>,\n            this.state.expanded.length ? <IconCollapseAll key=\"collapseAll\" className={this.props.classes.footerButtons + ' ' + this.props.classes.footerButtonsRight} title={I18n.t('Collapse all')} onClick={() => this.onCollapseAll()}/> : null,\n        ];\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        const renamingItem = this.state.renaming && this.state.listItems.find(i => i.id === this.state.renaming);\n        const copingItem = this.state.copingScript && this.props.scripts[this.state.copingScript];\n\n        return [\n            <Drawer\n                key=\"drawer\"\n                variant=\"permanent\"\n                className={classes.menu}\n                classes={{paper: classes.drawerPaper}}\n                anchor='left'\n                onClick={() => this.onClick({id: ''})}\n            >\n                <div className={classes.toolbar}>\n                    {this.getToolbarButtons()}\n                </div>\n\n                <Divider/>\n\n                <DragDropContext backend={HTML5Backend}>\n                    <div className={classes.innerMenu}>\n                        {this.renderAllItems(this.state.listItems)}\n                    </div>\n                </DragDropContext>\n\n                <Divider/>\n\n                <div className={classes.footer}>{this.getBottomButtons()}</div>\n            </Drawer>,\n\n            renamingItem ? <DialogRename\n                key=\"dialog-rename\"\n                name={renamingItem.title}\n                title={I18n.t('Rename')}\n                id={this.state.renaming}\n                folder={renamingItem.type === 'folder'}\n                instance={renamingItem.instance}\n                instances={this.props.instances}\n                onClose={() => this.setState({renaming: false})}\n                onRename={(oldId, newName, newId, newInstance) => this.props.onRename && this.props.onRename(oldId, newName, newId, newInstance)}\n            /> : null,\n\n            this.state.deleting ? <DialogDelete\n                key=\"dialog-delete\"\n                name={this.state.listItems.find(i => i.id === this.state.deleting).title}\n                id={this.state.deleting}\n                onClose={() => this.setState({deleting: false})}\n                onDelete={id => this.props.onDelete && this.props.onDelete(id)}\n            /> : null,\n\n            this.state.choosingType ? <DialogAddNewScript\n                key=\"dialog-script-type\"\n                onClose={type => {\n                    this.setState({choosingType: false});\n                    type && this.setState({creatingScript: type})\n                }}\n            /> : null,\n\n            this.state.creatingScript ? <DialogNew\n                key=\"dialog-new-script\"\n                onClose={() => this.setState({creatingScript: false})}\n                title={I18n.t('Create new script')}\n                name={ this.getUniqueName() }\n                parents={ this.getFolders() }\n                folder={ false }\n                existingItems={this.state.listItems.map(item => item.id)}\n                instance={this.props.instances[0] || 0}\n                instances={this.props.instances}\n                type={this.state.creatingScript}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) => {\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type);\n                }}\n            /> : null,\n\n            this.state.copingScript ? <DialogNew\n                key=\"dialog-copy-script\"\n                onClose={() => this.setState({copingScript: ''})}\n                title={I18n.t('Copy script')}\n                name={ this.getUniqueName(this.state.copingScript) }\n                parents={this.getFolders()}\n                folder={false}\n                instance={parseInt((copingItem && copingItem.common && copingItem.common.engine && copingItem.common.engine.split('.').pop()) || 0, 10)}\n                instances={this.props.instances}\n                type={(copingItem && copingItem.common && copingItem.common.engineType) || 'Javascript/js'}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) => {\n                    const copingItem = this.state.copingScript && this.props.scripts[this.state.copingScript];\n                    if (copingItem && copingItem.common) {\n                        // disable script by coping\n                        copingItem.common.enabled = false;\n                    }\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type, copingItem && copingItem.common && copingItem.common.source);\n                }}\n            /> : null,\n\n            this.state.creatingFolder ? <DialogNew\n                key=\"dialog-new-folder\"\n                onClose={() => this.setState({creatingFolder: false})}\n                title={I18n.t('Create new folder')}\n                parents={this.getFolders()}\n                name={this.getUniqueFolderName()}\n                parent={this.parent}\n                onAdd={(id, name) => {\n                    this.props.onAddNew && this.props.onAddNew(id, name, true);\n                }}\n            /> : null,\n            this.state.errorText ? <DialogError onClose={() => this.setState({errorText: ''})} text={this.state.errorText}/> : null\n        ];\n    }\n}\n\nSideDrawer.propTypes = {\n    classes: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    scripts: PropTypes.object.isRequired,\n    scriptsHash: PropTypes.number,\n    onEdit: PropTypes.func,\n    selectId: PropTypes.string,\n    expertMode: PropTypes.bool,\n    onExpertModeChange: PropTypes.func,\n    onEnableDisable: PropTypes.func,\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    onSelect: PropTypes.func,\n    onAddNew: PropTypes.func,\n    onRename: PropTypes.func,\n    onDelete: PropTypes.func,\n    onImport: PropTypes.func,\n    onExport: PropTypes.func,\n    onSearch: PropTypes.func,\n    onThemeChange: PropTypes.func,\n    width: PropTypes.number\n};\n\nexport default withStyles(styles)(SideDrawer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n\nimport IconButton from '@material-ui/core/IconButton';\nimport {MdDeleteForever as IconDelete} from 'react-icons/md';\nimport {MdVerticalAlignBottom as IconBottom} from 'react-icons/md';\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport {withStyles} from '@material-ui/core/styles/index';\n\n// replace later with MdHorizontalSplit and MdVerticalSplit\nconst IconVerticalSplit   = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAACFJREFUeAFjAIJRwP////8PYIKWHCigNQdKj/pn1D+jAABTG16wVQqVpQAAAABJRU5ErkJggg==';\nconst IconHorizontalSplit = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAABtJREFUeAFjAIJRwP8fCj7QkENn/4z6Z5QzCgBjbWaoyx1PqQAAAABJRU5ErkJggg==';\n\nfunction getTimeString(d) {\n    let text;\n    let i = d.getHours();\n    if (i < 10) i = '0' + i.toString();\n    text = i + ':';\n\n    i = d.getMinutes();\n    if (i < 10) i = '0' + i.toString();\n    text += i + ':';\n    i = d.getSeconds();\n    if (i < 10) i = '0' + i.toString();\n    text += i + '.';\n    i = d.getMilliseconds();\n    if (i < 10) {\n        i = '00' + i.toString();\n    } else if (i < 100) {\n        i = '0' + i.toString();\n    }\n    text += i;\n    return text;\n}\nconst TOOLBOX_WIDTH = 34;\n\nconst styles = theme => ({\n    logBox: {\n        width: '100%',\n        height: '100%',\n        position: 'relative',\n        overflow: 'hidden'\n    },\n    logBoxInner: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        width: `calc(100% - ${TOOLBOX_WIDTH}px)`,\n        height: '100%',\n        marginLeft: TOOLBOX_WIDTH,\n        overflow: 'auto',\n        position: 'relative'\n    },\n    info: {\n        background: theme.palette.type === 'dark' ? 'darkgrey' : 'lightgrey',\n        color: theme.palette.type === 'dark' ?  'black' : 'black'\n    },\n    error: {\n        background: '#FF0000',\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    warn: {\n        background: '#FF8000',\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    debug: {\n        background: 'gray',\n        opacity: 0.8,\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    silly: {\n        background: 'gray',\n        opacity: 0.6,\n        color: theme.palette.type === 'dark' ? 'black' : 'white'\n    },\n    table: {\n        fontFamily: 'monospace',\n        width: '100%',\n\n    },\n    toolbox: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        marginLeft: 2,\n        width: TOOLBOX_WIDTH,\n        height: '100%',\n        boxShadow: '2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0px rgba(0, 0, 0, 0.14), 1px 0px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    trTime: {\n        width: 90\n    },\n    trSeverity: {\n        width: 40,\n        fontWeight: 'bold'\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 4\n    },\n    layoutIcon: {\n        width: 24,\n        height: 24,\n        background: theme.palette.type === 'dark' ? '#9d9d9d' : undefined,\n        borderRadius: theme.palette.type === 'dark' ? 30 : undefined,\n    },\n});\n\nfunction copyToClipboard(str) {\n    const el = window.document.createElement('textarea');\n    el.value = str;\n    window.document.body.appendChild(el);\n    el.select();\n    window.document.execCommand('copy');\n    window.document.body.removeChild(el);\n}\n\nfunction paddingMs(ms) {\n    if (ms < 10) return '00' + ms;\n    if (ms < 100) return '0' + ms;\n    return ms;\n}\n\nlet gText = {};\n\nclass Log extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            lines: {},\n            goBottom: true,\n            selected: null,\n            editing: this.props.editing || []\n        };\n        this.lastIndex = null;\n        this.messagesEnd = React.createRef();\n        this.logHandlerBound = this.logHandler.bind(this);\n    }\n\n    generateLine(message) {\n        return (<tr key={'tr_' + message.ts + '_' + message.message.substr(-10)} className={this.props.classes[message.severity]}>\n            <td key=\"tdTime\" className={this.props.classes.trTime}>{getTimeString(new Date(message.ts))}</td>\n            <td key=\"tdSeverity\" className={this.props.classes.trSeverity}>{message.severity}</td>\n            <td key=\"tdMessage\">{message.message}</td>\n        </tr>);\n    }\n\n    scrollToBottom() {\n        this.messagesEnd && this.messagesEnd.current && this.messagesEnd.current.scrollIntoView({behavior: 'smooth'});\n    }\n    logHandler(message) {\n        let allLines = this.state.lines;\n        const selected = this.state.editing.find(id => message.message.indexOf(id) !== -1);\n        if (!selected) return;\n\n        let lines = allLines[selected] || [];\n        let text = gText[selected] || [];\n\n        lines.push(this.generateLine(message));\n        let severity = message.severity;\n        if (severity === 'info' || severity === 'warn') {\n            severity += ' ';\n        }\n        const date = new Date(message.ts);\n        text.push(`${date.toLocaleString()}.${paddingMs(date.getMilliseconds())}\\t[${severity}]: ${message.message}`);\n        if (lines.length > 300) {\n            lines.splice(0, lines.length - 300);\n            text.splice(0, lines.length - 300);\n        }\n        gText[selected] = text;\n        allLines[selected] = lines;\n\n        this.setState({lines: allLines});\n    }\n\n    componentDidMount() {\n        this.props.socket.registerLogHandler(this.logHandlerBound);\n    }\n\n    componentWillUnmount() {\n        this.props.socket.unregisterLogHandler(this.logHandlerBound);\n    }\n\n    componentDidUpdate() {\n        this.state.goBottom && this.scrollToBottom();\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        let changed = false;\n        let newState = {};\n\n        if (props.selected !== state.selected) {\n            let selected = props.selected;\n            let allLines = state.lines;\n            allLines[selected] = allLines[selected] || [];\n            gText[selected] = gText[selected] || [];\n            newState.selected = selected;\n            changed = true;\n        }\n\n        if (JSON.stringify(props.editing) !== JSON.stringify(state.editing)) {\n            const editing = JSON.parse(JSON.stringify(props.editing));\n            let allLines = state.lines;\n\n            for (const id in gText) {\n                if (gText.hasOwnProperty(id)) {\n                    if (editing.indexOf(id) === -1) {\n                        delete gText[id];\n                        delete allLines[id];\n                    }\n                }\n            }\n\n            newState.editing = editing;\n        }\n        return changed ? newState : null;\n    }\n\n    onCopy() {\n        copyToClipboard((gText[this.state.selected] || []).join('\\n'));\n    }\n\n    clearLog() {\n        let allLines = this.state.lines;\n        if (allLines[this.state.selected]) {\n            allLines[this.state.selected] = [];\n        }\n        if (gText[this.state.selected]) {\n            gText[this.state.selected] = [];\n        }\n        this.setState({lines: allLines});\n    }\n\n    render() {\n        const lines = this.state.selected && this.state.lines[this.state.selected];\n        return (\n            <div className={this.props.classes.logBox}>\n                <div className={this.props.classes.toolbox} key=\"toolbox\">\n                    <IconButton className={this.props.classes.iconButtons} onClick={() => this.setState({goBottom: !this.state.goBottom})} color={this.state.goBottom ? 'secondary' : ''}><IconBottom/></IconButton>\n                    {lines && lines.length ? (<IconButton className={this.props.classes.iconButtons} onClick={() => this.clearLog()}><IconDelete/></IconButton>) : null}\n                    {lines && lines.length ? (<IconButton className={this.props.classes.iconButtons} onClick={() => this.onCopy()}><IconCopy/></IconButton>) : null}\n                    {this.props.onLayoutChange ? (<IconButton className={this.props.classes.iconButtons} onClick={() => this.props.onLayoutChange()} title={I18n.t('Change layout')}><img className={this.props.classes.layoutIcon} alt=\"split\" src={this.props.verticalLayout ? IconVerticalSplit : IconHorizontalSplit} /></IconButton>) : null}\n                </div>\n                {this.state.selected && lines && lines.length ?\n                    (<div className={this.props.classes.logBoxInner} key=\"logList\">\n                        <table key=\"logTable\" className={this.props.classes.table}><tbody>{lines}</tbody></table>\n                        <div key=\"logScrollPoint\" ref={this.messagesEnd} style={{float: 'left', clear: 'both'}}/>\n                    </div>) :\n                    (<div key=\"logList\" className={this.props.classes.logBoxInner} style={{paddingLeft: 10}}>{I18n.t('Log outputs')}</div>)\n                }\n            </div>\n        );\n    }\n}\n\nLog.propTypes = {\n    selected: PropTypes.string,\n    socket: PropTypes.object,\n    onLayoutChange: PropTypes.func,\n    verticalLayout: PropTypes.bool\n};\n\nexport default withStyles(styles)(Log);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Fab from '@material-ui/core/Fab';\n\nimport {MdGTranslate as IconNoCheck} from 'react-icons/md';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nfunction isIdOfGlobalScript(id) {\n    return /^script\\.js\\.global\\./.test(id);\n}\nlet index = 0;\nclass ScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: 'current',\n            isDark: props.isDark || false,\n            language: props.language || 'javascript',\n            readOnly: props.readOnly || false,\n            alive: true,\n            check: false,\n            searchText: this.props.searchText || '',\n            typingsLoaded: false,\n        };\n        this.runningInstancesStr = JSON.stringify(this.props.runningInstances);\n        this.monacoDiv = null; //ref\n        this.editor = null;\n        this.monaco = window.monaco;\n        this.insert = '';\n        this.originalCode = props.code || '';\n        this.typings = {}; // TypeScript declarations\n        this.lastSearch = '';\n    }\n\n    waitForMonaco(cb) {\n        if (!this.monaco || !this.props.runningInstances) {\n            this.monaco = window.monaco;\n            this.monacoCounter = this.monacoCounter || 0;\n            this.monacoCounter++;\n            if (!this.monaco && this.monacoCounter < 20) {\n                console.log('wait for monaco loaded');\n                return setTimeout(() => this.waitForMonaco(cb), 200);\n            } else if (this.monacoCounter >= 20) {\n                console.error('Cannot load monaco!');\n            }\n        } else {\n            cb && cb();\n        }\n    }\n\n    loadTypings(runningInstances) {\n        if (!this.editor) {\n            return;\n        }\n        runningInstances = runningInstances || this.props.runningInstances;\n        let scriptAdapterInstance = runningInstances && Object.keys(runningInstances).find(id => runningInstances[id]);\n        if (scriptAdapterInstance) {\n            this.props.socket.sendTo(scriptAdapterInstance.replace('system.adapter.', ''), 'loadTypings', null)\n                .then(result => {\n                    this.setState({alive: true, check: true, typingsLoaded: true});\n                    this.setTypeCheck(true);\n                    if (result.typings) {\n                        this.typings = result.typings;\n                        this.setEditorTypings(this.state.name);\n                    } else {\n                        console.error(`failed to load typings: ${result.error}`);\n                    }\n                });\n        }\n    }\n\n    componentDidMount() {\n        if (!this.monaco || !this.props.runningInstances) {\n            this.monaco = window.monaco;\n            if (!this.monaco) {\n                console.log('wait for monaco loaded');\n                return this.waitForMonaco(() => this.componentDidMount());\n            }\n        }\n        if (!this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(() => this.editor.getModel().getValueInRange(this.editor.getSelection()));\n            // For some reason we have to get the original compiler options\n            // and assign new properties one by one\n            const compilerOptions = this.monaco.languages.typescript.typescriptDefaults['getCompilerOptions']();\n            compilerOptions.target = this.monaco.languages.typescript.ScriptTarget.ES2015;\n            compilerOptions.allowJs = true;\n            compilerOptions.checkJs = this.props.checkJs !== false;\n            compilerOptions.noLib = true;\n            compilerOptions.lib = [];\n            compilerOptions.moduleResolution = this.monaco.languages.typescript.ModuleResolutionKind.NodeJs;\n            this.monaco.languages.typescript.typescriptDefaults.setCompilerOptions(compilerOptions);\n\n            this.setTypeCheck(false);\n\n            // Create the editor instances\n            this.editor = this.monaco.editor.create(this.monacoDiv, {\n                lineNumbers: 'on',\n                scrollBeyondLastLine: false,\n                automaticLayout: true\n            });\n\n            this.editor.onDidChangeModelContent(e =>\n                this.onChange(this.editor.getValue()));\n\n            // Load typings for the JS editor\n            /** @type {string} */\n            this.loadTypings();\n\n            this.editor.addCommand(this.monaco.KeyMod.CtrlCmd | this.monaco.KeyCode.KEY_S, () =>\n                this.onForceSave());\n\n            setTimeout(() => this.highlightText(this.state.searchText));\n        }\n        const options = {\n            selectOnLineNumbers: true,\n            scrollBeyondLastLine: false,\n            automaticLayout: true,\n            readOnly: this.state.readOnly,\n            language: this.state.language,\n            isDark: this.state.isDark\n        };\n\n        this.setEditorOptions(options);\n        this.editor.focus();\n        this.editor.setValue(this.originalCode);\n    }\n\n    /**\n     * Sets some options of the code editor\n     * @param {object} options The editor options to change\n     * @param {Partial<{readOnly: boolean, lineWrap: boolean, language: EditorLanguage, typeCheck: boolean}>} options\n     */\n    setEditorOptions(options) {\n        if (options) {\n            if (options.language) {\n                this.setEditorLanguage(options.language);\n            }\n            if (options.readOnly !== undefined) {\n                this.editor.updateOptions({readOnly: options.readOnly});\n            }\n            if (options.lineWrap !== undefined) {\n                this.editor.updateOptions({wordWrap: options.lineWrap ? 'on' : 'off'});\n            }\n            if (options.typeCheck !== undefined) {\n                this.setTypeCheck(options.typeCheck);\n            }\n            if (options.isDark !== undefined) {\n                this.monaco.editor.setTheme(options.isDark ? 'vs-dark' : 'vs');\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(null);\n            this.editor.dispose();\n            this.editor = null;\n        }\n    }\n\n    /** @typedef {\"javascript\" | \"typescript\" | \"coffee\"} EditorLanguage */\n\n    /**\n     * Sets the language of the code editor\n     * @param {EditorLanguage} language\n     */\n    setEditorLanguage(language) {\n        // we need to recreate the model when changing languages,\n        // so remember its settings\n        const model = this.editor.getModel();\n        const code  = model.getValue();\n        const uri   = model.uri.path;\n\n        const filenameWithoutExtension =\n            typeof uri === 'string' && uri.indexOf('.') > -1\n                ? uri.substr(0, uri.lastIndexOf('.'))\n                : 'index';\n\n        const extension =\n            language === 'javascript' ? 'js'\n                : (language === 'typescript' ? 'ts'\n                    : (language === 'coffee' ? 'coffee'\n                        : language));\n\n        // get rid of the original model\n        model.dispose();\n\n        // Both JS and TS need the model to work in TypeScript as the script type\n        // is inferred from the file extension\n        const newLanguage = (language === 'javascript' || language === 'typescript') ? 'typescript' : language;\n\n        const newModel = this.monaco.editor.createModel(\n            code,\n            newLanguage,\n            this.monaco.Uri.from({path: `${filenameWithoutExtension}${index++}.${extension}`})\n        );\n\n        this.editor.setModel(newModel);\n    }\n\n    /**\n     * Enables or disables the type checking in the editor\n     * @param {boolean} enabled - Whether type checking is enabled or not\n     */\n    setTypeCheck(enabled) {\n        const options = {\n            noSemanticValidation: !this.state.alive || !enabled, // toggle the type checking\n            noSyntaxValidation: !this.state.alive // always check the syntax\n        };\n        this.monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions(options);\n    }\n\n    /**\n     * @param {string} [currentScriptName] The name of the current script\n     */\n    setEditorTypings(currentScriptName = '') {\n        const isGlobalScript = isIdOfGlobalScript(currentScriptName);\n        // The filename of the declarations this script can see if it is a global script\n        const partialDeclarationsPath = `${currentScriptName}.d.ts`;\n        const wantedTypings = [];\n        for (const path of Object.keys(this.typings)) {\n            // global scripts don't get to see all other global scripts\n            // but only a part of them\n            if (isGlobalScript) {\n                if (path === 'global.d.ts') continue;\n                if (path.startsWith('script.js.global') && path !== partialDeclarationsPath) continue;\n            }\n            wantedTypings.push({\n                filePath: path,\n                content: this.typings[path],\n            });\n        }\n        // BF: check https://microsoft.github.io/monaco-editor/playground.html#extending-language-services-semantic-tokens-provider-example\n        // to support 0.21.0\n\n        if (this.monaco.languages.typescript.typescriptDefaults.setExtraLibs) {\n            this.monaco.languages.typescript.typescriptDefaults.setExtraLibs(wantedTypings);\n        } else if (this.monaco.languages.typescript.typescriptDefaults.addExtraLib) {\n            const existingLibs = this.monaco.languages.typescript.typescriptDefaults.getExtraLibs();\n            wantedTypings.forEach(lib => {\n                if (!existingLibs[lib.filePath]) {\n                    this.monaco.languages.typescript.typescriptDefaults.addExtraLib(lib, lib.filePath);\n                }\n            });\n        }\n    }\n\n    /**\n     * Inserts some text into the given editor\n     * @param {string} text The text to add\n     */\n    insertTextIntoEditor(text) {\n        const selection = this.editor.getSelection();\n        const range = new this.monaco.Range(\n            selection.startLineNumber, selection.startColumn,\n            selection.endLineNumber, selection.endColumn\n        );\n        this.editor.executeEdits('', [{range: range, text: text, forceMoveMarkers: true}]);\n        this.editor.focus();\n    }\n\n    highlightText(text) {\n        let range = text && this.editor.getModel().findMatches(text);\n        if (range && range.length) {\n            range.forEach(r => this.editor.setSelection(r.range));\n            this.editor.revealLine(range[0].range.startLineNumber);\n        } else if (this.editor) {\n            const row = this.editor.getPosition().lineNumber;\n            const col = this.editor.getPosition().column;\n            this.editor.setSelection(new this.monaco.Range(row, col, row, col));\n        }\n    }\n\n    initNewScript(name, code) {\n        this.setState({name});\n        this.originalCode = code || '';\n        this.editor && this.editor.setValue(code);\n        this.highlightText(this.lastSearch);\n        //this.setEditorLanguage();\n        // Update the typings because global scripts need different typings than normal scripts\n        // and each global script has different typings\n        this.setEditorTypings(name);\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const options = {};\n        if (this.state.name !== nextProps.name) {\n            // A different script was selected\n            this.initNewScript(nextProps.name, nextProps.code);\n        }\n\n        // if some running instance will be foung and\n        if (JSON.stringify(nextProps.runningInstances) !== this.runningInstancesStr) {\n            this.runningInstancesStr = JSON.stringify(nextProps.runningInstances);\n            if (!this.state.typingsLoaded) {\n                this.loadTypings(nextProps.runningInstances);\n            }\n        }\n\n        // if the code not yet changed, update the new code\n        if (!nextProps.changed && nextProps.code !== this.originalCode) {\n            this.originalCode = nextProps.code;\n            this.editor.setValue(this.originalCode);\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.highlightText(this.lastSearch);\n        }\n\n        if (this.state.language !== (nextProps.language || 'javascript')) {\n            this.setState({language: nextProps.language || 'javascript'});\n            options.language = nextProps.language || 'javascript';\n        } else if (this.state.readOnly !== (nextProps.readOnly || false)) {\n            this.setState({readOnly: nextProps.readOnly || false});\n            options.readOnly = nextProps.readOnly;\n        } else if (this.state.isDark !== (nextProps.isDark || false)) {\n            this.setState({isDark: nextProps.isDark || false});\n            options.isDark = nextProps.isDark;\n        }\n\n        this.setEditorOptions(options);\n\n        if (this.insert !== nextProps.insert) {\n            this.insert = nextProps.insert;\n            if (this.insert) {\n                console.log('Insert text' + this.insert);\n                setTimeout(insert => {\n                    this.insertTextIntoEditor(insert);\n                    setTimeout(() => this.props.onInserted && this.props.onInserted(), 100);\n                }, 100, this.insert);\n            }\n        }\n    }\n\n    onChange(newValue, e) {\n        if (!this.props.readOnly) {\n            this.props.onChange && this.props.onChange(this.editor.getValue());\n        }\n    }\n\n    render() {\n        if (!this.monaco || !this.props.runningInstances) {\n            setTimeout(() => {\n                this.monaco = window.monaco;\n                this.forceUpdate()\n            }, 200);\n            return null;\n        }\n\n        return <div ref={el => this.monacoDiv = el} style={{width: '100%', height: '100%', overflow: 'hidden', position: 'relative'}}>\n            {!this.state.check && <Fab\n                size=\"small\"\n                title={I18n.t('Check is not active, because javascript adapter is disabled')}\n                style={{bottom: 10, right: 10, opacity: 0.5, position: 'absolute', zIndex: 1, background: 'red', color: 'white'}}\n                color=\"secondary\"><IconNoCheck/></Fab>}\n        </div>;\n    }\n}\n\nScriptEditor.propTypes = {\n    adapterName: PropTypes.string.isRequired,\n    socket: PropTypes.object,\n    runningInstances: PropTypes.object,\n    name: PropTypes.string,\n    onChange: PropTypes.func,\n    onForceSave: PropTypes.func,\n    onInserted: PropTypes.func,\n    isDark: PropTypes.bool,\n    readOnly: PropTypes.bool,\n    code: PropTypes.string,\n    language: PropTypes.string,\n    onRegisterSelect: PropTypes.func,\n    searchText: PropTypes.string,\n    checkJs: PropTypes.bool,\n    changed: PropTypes.bool,\n};\n\nexport default ScriptEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\nimport DialogError from '../Dialogs/Error';\nimport DialogExport from '../Dialogs/Export';\nimport DialogImport from '../Dialogs/Import';\n\nlet languageBlocklyLoaded = false;\nlet languageOwnLoaded = false;\nlet toolboxText = null;\nlet toolboxXml;\nlet scriptsLoaded = [];\n\n// BF (2020-10-31) I have no Idea, why it does not work as static in BlocklyEditor, but outside of BlocklyEditor it works\nfunction searchXml(root, text, _id, _result) {\n    _result = _result || [];\n    if (root.tagName === 'BLOCK' || root.tagName === 'block') {\n        _id = root.id;\n    }\n    if (root.tagName === 'FIELD' || root.tagName === 'field') {\n        for (let a = 0; a < root.attributes.length; a++) {\n            const val = (root.attributes[a].value || '').toLowerCase();\n            if (root.attributes[a].nodeName === 'name' && (val === 'oid' || val === 'text')) {\n                if ((root.innerHTML || root.innerText || '').toLowerCase().includes(text)) {\n                    _result.push(_id);\n                }\n            }\n        }\n    }\n    root.childNodes.forEach(node =>\n        searchXml(node, text, _id, _result));\n\n    return _result;\n}\n\n\nclass BlocklyEditor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.blockly = null; //ref\n        this.blocklyWorkspace = null;\n        this.toolbox = null;\n        this.Blockly = window.Blockly;\n\n        this.state = {\n            languageOwnLoaded,\n            languageBlocklyLoaded,\n            changed: false,\n            message: '',\n            error: '',\n            themeType: this.props.themeType,\n            exportText: '',\n            importText: false,\n            searchText: this.props.searchText || '',\n        };\n        this.originalCode = props.code || '';\n\n        this.someSelected = null;\n        this.changeTimer = null;\n\n        this.onResizeBind = this.onResize.bind(this);\n\n        this.lastCommand = '';\n        this.lastSearch = this.props.searchText || '';\n        this.blinkBlock = null;\n        this.loadLanguages();\n    }\n\n    static loadJS(url, callback, location) {\n        const scriptTag = document.createElement('script');\n        try {\n            scriptTag.src = url;\n\n            scriptTag.onload = callback;\n            scriptTag.onreadystatechange = callback;\n            scriptTag.onerror = callback;\n\n            (location || window.document.body).appendChild(scriptTag);\n        } catch (e) {\n            console.error('Cannot load ' + url + ': ' + e);\n            callback && callback();\n        }\n    };\n\n    static loadScripts(scripts, callback) {\n        if (!scripts || !scripts.length) {\n            return callback && callback();\n        }\n        const adapter = scripts.pop();\n        if (scriptsLoaded.indexOf(adapter) === -1) {\n            scriptsLoaded.push(adapter);\n            BlocklyEditor.loadJS('../../adapter/' + adapter + '/blockly.js', (/*data, textStatus, jqxhr*/) =>\n                setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0));\n        } else {\n            setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0);\n        }\n    }\n\n    static loadCustomBlockly(adapters, callback) {\n        // get all adapters, that can have blockly\n        const toLoad = [];\n        for (const id in adapters) {\n            if (!adapters.hasOwnProperty(id) ||\n                !adapters[id] ||\n                !id.match(/^system\\.adapter\\./) ||\n                adapters[id].type !== 'adapter'\n            ) {\n                continue;\n            }\n\n            if (adapters[id].common && adapters[id].common.blockly) {\n                console.log('Detected custom blockly: ' + adapters[id].common.name);\n                toLoad.push(adapters[id].common.name);\n            }\n        }\n\n        BlocklyEditor.loadScripts(toLoad, callback);\n    }\n\n    static loadXMLDoc(text) {\n        let parseXml;\n        if (window.DOMParser) {\n            parseXml = function(xmlStr) {\n                return ( new window.DOMParser() ).parseFromString(xmlStr, \"text/xml\");\n            };\n        } else if (typeof window.ActiveXObject != \"undefined\" && new window.ActiveXObject(\"Microsoft.XMLDOM\")) {\n            parseXml = function(xmlStr) {\n                var xmlDoc = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n                xmlDoc.async = \"false\";\n                xmlDoc.loadXML(xmlStr);\n                return xmlDoc;\n            };\n        } else {\n            parseXml = function() { return null; }\n        }\n        return parseXml(text);\n    }\n\n    searchBlocks(text) {\n        if (this.blocklyWorkspace) {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const ids = searchXml(dom, text.toLowerCase());\n            const allBlocks = this.blocklyWorkspace.getAllBlocks();\n            const result = [];\n            allBlocks.filter(b => ids.includes(b.id)).forEach(b => result.push(b));\n            return result;\n        }\n    }\n\n    searchId() {\n        const blocks = this.lastSearch && this.searchBlocks(this.lastSearch);\n        if (blocks && blocks.length) {\n            this.someSelected = blocks;\n            this.someSelected.forEach(b => b.addSelect());\n            this.someSelectedTime = Date.now();\n        } else if (this.someSelected) {\n            // remove selection\n            this.someSelected.forEach(b => b.removeSelect());\n            this.someSelected = null;\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.command && this.lastCommand !== nextProps.command) {\n            this.lastCommand = nextProps.command;\n            setTimeout(() => this.lastCommand = '', 300);\n            if (this.lastCommand === 'check') {\n                this.blocklyCheckBlocks((err, badBlock) => {\n                    if (!err) {\n                        this.setState({message: I18n.t('Ok')});\n                    } else {\n                        badBlock && this.blocklyBlinkBlock(badBlock);\n                        this.setState({error: {text: I18n.t(err), title: I18n.t('Error was found')}});\n                        this.blinkBlock = badBlock;\n                    }\n                });\n            } else if (this.lastCommand === 'export') {\n                this.exportBlocks();\n            } else if (this.lastCommand === 'import') {\n                this.importBlocks();\n            }\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.searchId();\n        }\n\n        if (this.state.themeType !== nextProps.themeType) {\n            this.setState({themeType: nextProps.themeType}, () => this.updateBackground());\n        }\n\n        if (this.originalCode !== nextProps.code) {\n            this.originalCode = nextProps.code || '';\n            this.loadCode();\n            this.searchId();\n        }\n    }\n\n    loadLanguages() {\n        // load blockly language\n        if (!languageBlocklyLoaded) {\n            const fileLang = window.document.createElement('script');\n            fileLang.setAttribute('type', 'text/javascript');\n            fileLang.setAttribute('src', 'google-blockly/msg/js/' + I18n.getLanguage() + '.js');\n\n            // most browsers\n            fileLang.onload = () => {\n                languageBlocklyLoaded = true;\n                this.setState({languageBlocklyLoaded});\n            };\n            // IE 6 & 7\n            fileLang.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageBlocklyLoaded = true;\n                    this.setState({languageBlocklyLoaded});\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileLang);\n        }\n        if (!languageOwnLoaded) {\n            const fileCustom = window.document.createElement('script');\n            fileCustom.setAttribute('type', 'text/javascript');\n            fileCustom.setAttribute('src', 'google-blockly/own/msg/' + I18n.getLanguage() + '.js');\n            // most browsers\n            fileCustom.onload = () => {\n                languageOwnLoaded = true;\n                this.setState({languageOwnLoaded});\n            };\n            // IE 6 & 7\n            fileCustom.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageOwnLoaded = true;\n                    this.setState({languageOwnLoaded});\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileCustom);\n        }\n    }\n\n    onResize() {\n        this.Blockly.svgResize(this.blocklyWorkspace);\n    }\n\n    jsCode2Blockly(text) {\n        text = text || '';\n        const lines = text.split(/[\\r\\n]+|\\r|\\n/g);\n        let xml = '';\n        for (let l = lines.length - 1; l >= 0; l--) {\n            if (lines[l].substring(0, 2) === '//') {\n                xml = lines[l].substring(2);\n                break;\n            }\n        }\n        if (xml.substring(0, 4) === '<xml') {\n            return xml;\n        } else {\n            let code;\n            try {\n                code = window.decodeURIComponent(window.atob(xml));\n            } catch (e) {\n                code = null;\n                console.error('cannot decode: ' + xml);\n                console.error(e);\n            }\n            return code;\n        }\n    }\n\n    blocklyBlinkBlock(block) {\n        for (let i = 300; i < 3000; i = i + 300) {\n            setTimeout(() => block.select(), i);\n            setTimeout(() => block.unselect(), i + 150);\n        }\n    }\n\n    blocklyRemoveOrphanedShadows() {\n        if (this.blocklyWorkspace) {\n            let blocks = this.blocklyWorkspace.getAllBlocks();\n            let block;\n            for (let i = 0; (block = blocks[i]); i++) {\n                if (block.isShadow()) {\n                    const connections = block.getConnections_(true);\n                    let conn;\n                    for (let j = 0; (conn = connections[j]); j++) {\n                        if (!conn.targetConnection) {\n                            // remove it\n                            block.dispose();\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    blocklyCheckBlocks(cb) {\n        let warningText;\n        if (!this.blocklyWorkspace || this.blocklyWorkspace.getAllBlocks().length === 0) {\n            cb && cb('no blocks found');\n            return;\n        }\n        let badBlock = this.blocklyGetUnconnectedBlock();\n        if (badBlock) {\n            warningText = 'not properly connected';\n        } else {\n            badBlock = this.blocklyGetBlockWithWarning();\n            if (badBlock) {\n                warningText = 'warning on this block';\n            }\n        }\n\n        if (badBlock) {\n            if (cb) {\n                cb(warningText, badBlock);\n            } else {\n                this.blocklyBlinkBlock(badBlock);\n            }\n            return false;\n        }\n\n        cb();\n\n        return true;\n    }\n\n    // get unconnected block\n    blocklyGetUnconnectedBlock () {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            const connections = block.getConnections_(true);\n            let conn;\n            for (let j = 0; (conn = connections[j]); j++) {\n                if (!conn.sourceBlock_ || ((conn.type === this.Blockly.INPUT_VALUE || conn.type === this.Blockly.OUTPUT_VALUE) && !conn.targetConnection && !conn._optional)) {\n                    return block;\n                }\n            }\n        }\n        return null;\n    }\n\n    // get block with warning\n    blocklyGetBlockWithWarning() {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            if (block.warning) {\n                return block;\n            }\n        }\n        return null;\n    }\n\n    blocklyCode2JSCode(oneWay) {\n        let code = this.Blockly.JavaScript.workspaceToCode(this.blocklyWorkspace);\n        if (!oneWay) {\n            code += '\\n';\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const text = this.Blockly.Xml.domToText(dom);\n            code += '//' + btoa(encodeURIComponent(text));\n        }\n\n        return code;\n    }\n\n    exportBlocks() {\n        let exportText;\n        if (this.Blockly.selected) {\n            const xmlBlock = this.Blockly.Xml.blockToDom(this.Blockly.selected);\n            if (this.Blockly.dragMode_ !== this.Blockly.DRAG_FREE) {\n                this.Blockly.Xml.deleteNext(xmlBlock);\n            }\n            // Encode start position in XML.\n            const xy = this.Blockly.selected.getRelativeToSurfaceXY();\n            xmlBlock.setAttribute('x', this.Blockly.selected.RTL ? -xy.x : xy.x);\n            xmlBlock.setAttribute('y', xy.y);\n\n            exportText = this.Blockly.Xml.domToPrettyText(xmlBlock);\n        } else {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            exportText = this.Blockly.Xml.domToPrettyText(dom);\n        }\n        this.setState({exportText});\n    }\n\n    importBlocks() {\n        this.setState({importText: true});\n    }\n\n    onImportBlocks(xml) {\n        xml = (xml || '').trim();\n        if (xml) {\n            try {\n                if (!xml.startsWith('<xml')) {\n                    xml = '<xml xmlns=\"http://www.w3.org/1999/xhtml\">' + xml + '</xml>';\n                }\n                let variables = xml.replace(/[\\n\\r]/g, '').match(/<variables>(.*)<\\/variables>/);\n                if (variables) {\n                    let vars = this.Blockly.utils.xml.textToDomDocument('<variables>' + variables[1] + '</variables>');\n                    if (vars) {\n                        let nodes = vars.childNodes && vars.childNodes[0] && vars.childNodes[0].childNodes;\n                        if (nodes) {\n                            for (let i = 0; i < nodes.length; i++) {\n                                nodes[i].id && this.blocklyWorkspace.createVariable(nodes[i].id);\n                            }\n                        }\n                    }\n                }\n                xml = xml.replace(/[\\n\\r]/g, '').replace(/<variables>.*<\\/variables>/g, '');\n                window.scripts.loading = true;\n                let xmlBlocks = this.Blockly.Xml.textToDom(xml);\n                if (xmlBlocks.nodeName === 'xml') {\n                    for (let b = 0; b < xmlBlocks.children.length; b++) {\n                        this.blocklyWorkspace.paste(xmlBlocks.children[b]);\n                    }\n                } else {\n                    this.blocklyWorkspace.paste(xmlBlocks);\n                }\n\n                window.scripts.loading = false;\n\n\n                this.onBlocklyChanged();\n            } catch (e) {\n                this.setState({error: {text: e, title: I18n.t('Import error')}});\n            }\n        }\n    }\n\n    loadCode() {\n        if (!this.blocklyWorkspace) {\n            return;\n        }\n\n        this.ignoreChanges = true;\n        this.blocklyWorkspace.clear();\n\n        try {\n            const xml = this.jsCode2Blockly(this.originalCode) || '<xml xmlns=\"http://www.w3.org/1999/xhtml\"></xml>';\n            window.scripts.loading = true;\n            const dom = this.Blockly.Xml.textToDom(xml);\n            this.Blockly.Xml.domToWorkspace(dom, this.blocklyWorkspace);\n            window.scripts.loading = false;\n        } catch (e) {\n            console.error(e);\n            setTimeout(() => this.setState({error: I18n.t('Cannot extract Blockly code!')}));\n        }\n        setTimeout(() => this.ignoreChanges = false, 100);\n    }\n\n    onBlocklyChanged() {\n        this.blocklyRemoveOrphanedShadows();\n        this.setState({changed: true});\n        this.onChange();\n    }\n\n    componentDidUpdate() {\n        if (!this.blockly) {\n            return;\n        }\n        if (this.didUpdate) {\n            clearTimeout(this.didUpdate);\n            this.didUpdate = null;\n        }\n\n        if (this.blocklyWorkspace) {\n            return;\n        }\n\n        window.addEventListener('resize', this.onResizeBind, false);\n        toolboxText = toolboxText || this.getToolbox();\n        toolboxXml  = toolboxXml  || this.Blockly.Xml.textToDom(toolboxText);\n\n        this.blocklyWorkspace = this.Blockly.inject(\n            this.blockly,\n            {\n                media: 'google-blockly/media/',\n                toolbox: toolboxXml,\n                zoom: {\n                    controls:   true,\n                    wheel:      false,\n                    startScale: 1.0,\n                    maxScale:   3,\n                    minScale:   0.3,\n                    scaleSpeed: 1.2\n                },\n                move: {\n                    scrollbars: true,\n                    drag: true,\n                    wheel: true\n                },\n                trashcan: true,\n                grid: {\n                    spacing:    25,\n                    length:     3,\n                    colour:     '#ccc',\n                    snap:       true\n                }\n            }\n        );\n        // for blockly itself\n        window.scripts = {\n            blocklyWorkspace: this.blocklyWorkspace\n        };\n\n        // Listen to events on master workspace.\n        this.blocklyWorkspace.addChangeListener(masterEvent => {\n            if (this.someSelected && Date.now() - this.someSelectedTime > 500) {\n                const allBlocks = this.blocklyWorkspace.getAllBlocks();\n                this.someSelected = null;\n                allBlocks.forEach(b => b.removeSelect());\n            }\n\n            if (masterEvent.type === this.Blockly.Events.UI || masterEvent.type === this.Blockly.Events.CREATE) {\n                return;  // Don't mirror UI events.\n            }\n            if (this.ignoreChanges) return;\n            this.changeTimer && clearTimeout(this.changeTimer);\n            this.changeTimer = setTimeout(() => {\n                this.changeTimer = null;\n                this.onBlocklyChanged();\n            }, 200);\n\n        });\n        this.loadCode();\n        this.onResize();\n        // Move toolbar to the valid position\n        const toolbar = document.getElementsByClassName('blocklyToolboxDiv')[0];\n        this.blockly.appendChild(toolbar);\n\n        this.updateBackground();\n        setTimeout(() => this.searchId(), 200); // select found blocks\n    }\n\n    updateBackground() {\n        const background = document.getElementsByClassName('blocklyMainBackground')[0];\n        if (this.state.themeType === 'dark') {\n            if (!background._originalStyle) {\n                background._originalStyle = {\n                    stroke: background.style.stroke,\n                    fill: background.style.fill\n                };\n            }\n            // add class\n            background.style.stroke = '#3a3a3a';\n            background.style.fill = '#515151';\n        } else if (background._originalStyle) {\n            background.style.stroke = background._originalStyle.stroke;\n            background.style.fill = background._originalStyle.fill;\n        }\n    }\n\n    componentWillUnmount() {\n        if (!this.blocklyWorkspace) return;\n        this.blocklyWorkspace.dispose();\n        this.blocklyWorkspace = null;\n        this.changeTimer && clearTimeout(this.changeTimer);\n        this.changeTimer = null;\n        window.removeEventListener('resize', this.onResizeBind);\n    }\n\n    onChange() {\n        this.originalCode = this.blocklyCode2JSCode();\n        this.props.onChange && this.props.onChange(this.originalCode);\n    }\n\n    getToolbox() {\n        // Interpolate translated messages into toolbox.\n        let toolboxText = window.document.getElementById('toolbox').outerHTML;\n        toolboxText = toolboxText.replace(/{(\\w+)}/g, (m, p1) => window.MSG[p1]);\n\n        if (this.Blockly.CustomBlocks) {\n            let blocks = '';\n            const lang = I18n.getLanguage();\n            for (let cb = 0; cb < this.Blockly.CustomBlocks.length; cb++) {\n                const name = this.Blockly.CustomBlocks[cb];\n                // add blocks\n                blocks += '<category name=\"' + this.Blockly.Words[name][lang] + '\" colour=\"' + this.Blockly[name].HUE + '\">';\n                for (const _b in this.Blockly[name].blocks) {\n                    if (this.Blockly[name].blocks.hasOwnProperty(_b)) {\n                        blocks += this.Blockly[name].blocks[_b];\n                    }\n                }\n                blocks += '</category>';\n            }\n            toolboxText = toolboxText.replace('<category><block>%%CUSTOM_BLOCKS%%</block></category>', blocks);\n        }\n\n        return toolboxText;\n    }\n\n    renderMessageDialog() {\n        return this.state.message ?\n            <DialogMessage\n                key=\"dialogMessage\"\n                text={typeof this.state.message === 'object' ? this.state.message.text : this.state.message}\n                title={typeof this.state.message === 'object' ? this.state.message.title : ''}\n                onClose={() => this.setState({message: ''})}\n            /> :\n            null;\n    }\n    renderErrorDialog() {\n        return this.state.error ?\n            <DialogError\n                key=\"dialogError\"\n                text={typeof this.state.error === 'object' ? this.state.error.text.toString() : this.state.error}\n                title={typeof this.state.error === 'object' ? this.state.error.title : ''}\n                onClose={() => {\n                    if (this.blinkBlock) {\n                        this.blocklyBlinkBlock(this.blinkBlock);\n                        this.blinkBlock = null;\n                    }\n                    this.setState({error: ''});\n                }}/> :\n            null;\n    }\n\n    renderExportDialog() {\n        return this.state.exportText ? <DialogExport key=\"dialogExport\" theme={this.state.themeType} onClose={() => this.setState({exportText: ''})} text={this.state.exportText}/> : null;\n    }\n\n    renderImportDialog() {\n        return this.state.importText ? <DialogImport key=\"dialogImport\"  onClose={text => {\n            this.setState({importText: false});\n            this.onImportBlocks(text);\n        }}/> : null;\n    }\n\n    render() {\n        if (this.state.languageBlocklyLoaded && this.state.languageOwnLoaded) {\n            this.didUpdate = setTimeout(() => {\n                this.didUpdate = null;\n                this.componentDidUpdate();\n            }, 100);\n\n            return [\n                <div key=\"blocklyDOM\" ref={el => this.blockly = el} style={{\n                    //marginLeft: 180,\n                    width: '100%',//'calc(100% - 180px)',\n                    height: '100%',\n                    //overflow: 'hidden',\n                    position: 'relative'}}/>,\n\n                this.renderMessageDialog(),\n                this.renderErrorDialog(),\n                this.renderExportDialog(),\n                this.renderImportDialog(),\n            ];\n        } else {\n            return null;\n        }\n    }\n}\n\nBlocklyEditor.propTypes = {\n    command: PropTypes.string,\n    onChange: PropTypes.func,\n    searchText: PropTypes.string,\n    themeType: PropTypes.string\n};\n\nexport default BlocklyEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\n\nimport IconCopy from '@material-ui/icons/FileCopy';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: '100%',\n        height: '100%',\n    },\n    textAreaLight: {\n        background: 'lightgray'\n    },\n    dialog: {\n        height: '95%'\n    },\n    typography: {\n        padding: theme.spacing(2),\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n});\nclass DialogExport extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null,\n            popper: ''\n        };\n    }\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    onCopy(event) {\n        const el = window.document.getElementById('copy_input');\n        if (el) {\n            el.select();\n            window.document.execCommand('copy');\n            const target = event.currentTarget;\n\n            setTimeout(() => {\n                window.document.execCommand('copy');\n                this.setState({popper: I18n.t('Copied'), anchorEl: target});\n                setTimeout(() => this.setState({popper: '', anchorEl: null}), 1000);\n            }, 50);\n\n        }\n        /*el.value = this.props.text;\n        window.document.body.appendChild(el);\n        el.select();*/\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return (\n            <Dialog\n                key=\"export-dialog\"\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"export-dialog-title\"\n            >\n                <DialogTitle id=\"export-dialog-title\">{I18n.t('Export selected blocks')}</DialogTitle>\n                <DialogContent>\n                    <pre\n                        id=\"export-text\"\n                        className={classes.textArea + ' ' + (this.props.themeType === 'dark' ? '' : classes.textAreaLight)}\n                    >{this.props.text}</pre>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={event  => this.onCopy(event )} color=\"secondary\"><IconCopy className={this.props.classes.buttonIcon}/>{I18n.t('Copy to clipboard')}</Button>\n                    <Button onClick={() => this.handleCancel()} color=\"primary\"><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Close')}</Button>\n\n                    <Popper\n                        id=\"popper\"\n                        style={{zIndex: 10000}}\n                        open={!!this.state.popper}\n                        placement=\"top\"\n                        anchorEl={this.state.anchorEl} transition>\n                        {({ TransitionProps }) => (\n                            <Fade {...TransitionProps} timeout={350}>\n                                <Paper>\n                                    <p className={classes.typography}>{this.state.popper}</p>\n                                </Paper>\n                            </Fade>\n                        )}\n                    </Popper>\n                    <textarea id=\"copy_input\" readOnly={true} style={{position: 'absolute', left: -9999}} tabIndex={-1} aria-hidden={true} value={this.props.text}/>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogExport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n    themeType: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogExport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        height: '100%',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n});\nclass DialogImport extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose();\n    }\n\n    handleOk () {\n        this.props.onClose(this.state.text);\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"import-dialog-title\"\n            >\n                <DialogTitle id=\"import-dialog-title\">{I18n.t('Import blocks')}</DialogTitle>\n                <DialogContent className={classes.fullHeight}>\n                    <textarea\n                        autoFocus\n                        id=\"import-text-area\"\n                        className={classes.textArea}\n                        onChange={e => this.onChange(e)}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button disabled={!this.state.text} onClick={event  => this.handleOk()} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Import')}</Button>\n                    <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Close')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogImport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogImport);\n","/**\n * Given a cronspec, return the human-readable string.\n * @param {string} cronspec\n * @param withSeconds\n * @param {Object=} locale\n */\nfunction cronToText(cronspec, withSeconds, locale) {\n\n\n    // Constant array to convert valid names to values\n    const NAMES = {\n        JAN: 1, FEB: 2, MAR: 3, APR: 4, MAY: 5, JUN: 6, JUL: 7, AUG: 8,\n        SEP: 9, OCT: 10, NOV: 11, DEC: 12,\n        SUN: 1, MON: 2, TUE: 3, WED: 4, THU: 5, FRI: 6, SAT: 7\n    };\n\n    // Parsable replacements for common expressions\n    const REPLACEMENTS = {\n        '* * * * * *': '0/1 * * * * *',\n        '@YEARLY': '0 0 1 1 *',\n        '@ANNUALLY': '0 0 1 1 *',\n        '@MONTHLY': '0 0 1 * *',\n        '@WEEKLY': '0 0 * * 0',\n        '@DAILY': '0 0 * * *',\n        '@HOURLY': '0 * * * *'\n    };\n\n    // Contains the index, min, and max for each of the constraints\n    const FIELDS = {\n        s: [0, 0, 59], // seconds\n        m: [1, 0, 59], // minutes\n        h: [2, 0, 23], // hours\n        D: [3, 1, 31], // day of month\n        M: [4, 1, 12], // month\n        Y: [6, 1970, 2099], // year\n        d: [5, 1, 7, 1] // day of week\n    };\n\n    /**\n     * Returns the value + offset if value is a number, otherwise it\n     * attempts to look up the value in the NAMES table and returns\n     * that result instead.\n     *\n     * @param {Number,String} value: The value that should be parsed\n     * @param {Number=} offset: Any offset that must be added to the value\n     * @param {Number=} max\n     * @returns {Number|null}\n     */\n    function getValue(value) {\n        const offset = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n        const max = arguments.length <= 2 || arguments[2] === undefined ? 9999 : arguments[2];\n\n        return isNaN(value) ? NAMES[value] || null : Math.min(+value + offset, max);\n    }\n\n    /**\n     * Returns a deep clone of a schedule skipping any day of week\n     * constraints.\n     *\n     * @param {Object} sched: The schedule that will be cloned\n     * @returns {Object}\n     */\n    function cloneSchedule(sched) {\n        const clone = {};\n        let field;\n\n        for (field in sched) {\n            if (field !== 'dc' && field !== 'd') {\n                clone[field] = sched[field].slice(0);\n            }\n        }\n\n        return clone;\n    }\n\n    /**\n     * Adds values to the specified constraint in the current schedule.\n     *\n     * @param {Object} sched: The schedule to add the constraint to\n     * @param {String} name: Name of constraint to add\n     * @param {Number} min: Minimum value for this constraint\n     * @param {Number} max: Maximum value for this constraint\n     */\n    function add(sched, name, min, max) {\n        const inc = arguments.length <= 4 || arguments[4] === undefined ? 0 : arguments[4];\n\n        let i = min;\n\n        if (!sched[name]) {\n            sched[name] = [];\n        }\n\n        while (i <= max) {\n            if (sched[name].indexOf(i) < 0) {\n                sched[name].push(i);\n            }\n            i += inc || 1;\n        }\n\n        sched[name].sort(function (a, b) {\n            return a - b;\n        });\n    }\n\n    /**\n     * Adds a hash item (of the form x#y or xL) to the schedule.\n     *\n     * @param {Object} schedules: The current schedule array to add to\n     * @param {Object} curSched: The current schedule to add to\n     * @param {Number} value: The value to add (x of x#y or xL)\n     * @param {Number} hash: The hash value to add (y of x#y)\n     */\n    function addHash(schedules, curSched, value, hash) {\n        // if there are any existing day of week constraints that\n        // aren't equal to the one we're adding, create a new\n        // composite schedule\n        if ((curSched.d && !curSched.dc) || (curSched.dc && curSched.dc.indexOf(hash) < 0)) {\n            schedules.push(cloneSchedule(curSched));\n            curSched = schedules[schedules.length - 1];\n        }\n\n        add(curSched, 'd', value, value);\n        add(curSched, 'dc', hash, hash);\n    }\n\n    /**\n     *\n     * @param {Object} s: The existing set of schedules\n     * @param {Object} curSched: The current schedule to add to\n     * @param {Number} value\n     */\n    function addWeekday(s, curSched, value) {\n        const except1 = {},\n            except2 = {};\n        if (value === 1) {\n            // cron doesn't pass month boundaries, so if 1st is a\n            // weekend then we need to use 2nd or 3rd instead\n            add(curSched, 'D', 1, 3);\n            add(curSched, 'd', NAMES.MON, NAMES.FRI);\n            add(except1, 'D', 2, 2);\n            add(except1, 'd', NAMES.TUE, NAMES.FRI);\n            add(except2, 'D', 3, 3);\n            add(except2, 'd', NAMES.TUE, NAMES.FRI);\n        } else {\n            // normally you want the closest day, so if v is a\n            // Saturday, use the previous Friday.  If it's a\n            // sunday, use the following Monday.\n            add(curSched, 'D', value - 1, value + 1);\n            add(curSched, 'd', NAMES.MON, NAMES.FRI);\n            add(except1, 'D', value - 1, value - 1);\n            add(except1, 'd', NAMES.MON, NAMES.THU);\n            add(except2, 'D', value + 1, value + 1);\n            add(except2, 'd', NAMES.TUE, NAMES.FRI);\n        }\n        s.exceptions.push(except1);\n        s.exceptions.push(except2);\n    }\n\n    /**\n     * Adds a range item (of the form x-y/z) to the schedule.\n     *\n     * @param {String} item: The cron expression item to add\n     * @param {Object} curSched: The current schedule to add to\n     * @param {String} name: The name to use for this constraint\n     * @param {Number} min: The min value for the constraint\n     * @param {Number} max: The max value for the constraint\n     * @param {Number} offset: The offset to apply to the cron value\n     */\n    function addRange(item, curSched, name, min, max, offset) {\n        // parse range/x\n        const incSplit = item.split('/'),\n            inc = +incSplit[1],\n            range = incSplit[0];\n\n        // parse x-y or * or 0\n        if (range !== '*' && range !== '0') {\n            const rangeSplit = range.split('-');\n            min = getValue(rangeSplit[0], offset, max);\n\n            // fix for issue #13, range may be single digit\n            max = getValue(rangeSplit[1], offset, max) || max;\n        }\n\n        add(curSched, name, min, max, inc);\n    }\n\n    /**\n     * Parses a particular item within a cron expression.\n     *\n     * @param {String} item: The cron expression item to parse\n     * @param {Object} s: The existing set of schedules\n     * @param {String} name: The name to use for this constraint\n     * @param {Number} min: The min value for the constraint\n     * @param {Number} max: The max value for the constraint\n     * @param {Number} offset: The offset to apply to the cron value\n     */\n    function parse(item, s, name, min, max, offset) {\n        let value,\n            split,\n            schedules = s.schedules,\n            curSched = schedules[schedules.length - 1];\n\n        // L just means min - 1 (this also makes it work for any field)\n        if (item === 'L') {\n            item = (min - 1).toString(10);\n        }\n\n        // parse x\n        if ((value = getValue(item, offset, max)) !== null) {\n            add(curSched, name, value, value);\n        }\n        // parse xW\n        else if ((value = getValue(item.replace('W', ''), offset, max)) !== null) {\n            addWeekday(s, curSched, value);\n        }\n        // parse xL\n        else if ((value = getValue(item.replace('L', ''), offset, max)) !== null) {\n            addHash(schedules, curSched, value, min - 1);\n        }\n        // parse x#y\n        else if ((split = item.split('#')).length === 2) {\n            value = getValue(split[0], offset, max);\n            addHash(schedules, curSched, value, getValue(split[1]));\n        }\n        // parse x-y or x-y/z or */z or 0/z\n        else {\n            addRange(item, curSched, name, min, max, offset);\n        }\n    }\n\n    /**\n     * Returns true if the item is either of the form x#y or xL.\n     *\n     * @param {String} item: The expression item to check\n     */\n    function isHash(item) {\n        return item.indexOf('#') > -1 || item.indexOf('L') > 0;\n    }\n\n    function itemSorter(a, b) {\n        return isHash(a) && !isHash(b) ? 1 : a - b;\n    }\n\n    /**\n     * Parses each of the fields in a cron expression.  The expression must\n     * include the seconds field, the year field is optional.\n     *\n     * @param {String} expr: The cron expression to parse\n     */\n    function parseExpr(expr) {\n        const schedule = { schedules: [{}], exceptions: [] };\n        const components = expr.replace(/(\\s)+/g, ' ').split(' ');\n        let field;\n        let f;\n        let component;\n        let items;\n\n        for (field in FIELDS) {\n            f = FIELDS[field];\n            component = components[f[0]];\n            if (component && component !== '*' && component !== '?') {\n                // need to sort so that any #'s come last, otherwise\n                // schedule clones to handle # won't contain all of the\n                // other constraints\n                items = component.split(',').sort(itemSorter);\n                let i;\n                const length = items.length;\n                for (i = 0; i < length; i++) {\n                    parse(items[i], schedule, field, f[1], f[2], f[3]);\n                }\n            }\n        }\n\n        return schedule;\n    }\n\n    /**\n     * Make cron expression parsable.\n     *\n     * @param {String} expr: The cron expression to prepare\n     */\n    function prepareExpr(expr) {\n        const prepared = expr.toUpperCase();\n        return REPLACEMENTS[prepared] || prepared;\n    }\n\n    function parseCron(expr, hasSeconds) {\n        const e = prepareExpr(expr);\n        return parseExpr(hasSeconds ? e : '0 ' + e);\n    }\n\n    const schedule = parseCron(cronspec, withSeconds);\n\n    function absFloor(number) {\n        if (number < 0) {\n            return Math.ceil(number);\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        const coercedNumber = +argumentForCoercion;\n        let value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    function ordinal(number) {\n        const b = number % 10,\n            output = (toInt(number % 100 / 10) === 1) ? locale.ORDINALS.th :\n                (b === 1) ? locale.ORDINALS.st :\n                    (b === 2) ? locale.ORDINALS.nd :\n                        (b === 3) ? locale.ORDINALS.rd : locale.ORDINALS.th;\n        return number + output;\n    }\n\n    /**\n     * For an array of numbers, e.g. a list of hours in a schedule,\n     * return a string listing out all of the values (complete with\n     * \"and\" plus ordinal text on the last item).\n     * @param {Number[]} numbers\n     * @returns {string}\n     */\n    function numberList(numbers) {\n        if (numbers.length < 2) {\n            return ordinal(numbers);\n        }\n\n        const lastVal = numbers.pop();\n        return numbers.join(', ') + ' ' + locale['and'] + ' ' + ordinal(lastVal);\n    }\n\n    /**\n     * Parse a number into day of week, or a month name;\n     * used in dateList below.\n     * @param {Number|String} value\n     * @param {String} type\n     * @returns {String}\n     */\n    function numberToDateName(value, type) {\n        if (type === 'dow') {\n            return locale.DOW[value - 1];\n        } else if (type === 'mon') {\n            return locale.MONTH[value - 1];\n        }\n    }\n\n    /**\n     * From an array of numbers corresponding to dates (given in type: either\n     * days of the week, or months), return a string listing all the values.\n     * @param {Number[]} numbers\n     * @param {String} type\n     * @returns {String}\n     */\n    function dateList(numbers, type) {\n        if (numbers.length < 2) {\n            return numberToDateName('' + numbers[0], type);\n        }\n\n        const lastVal = '' + numbers.pop();\n        let outputText = '';\n\n        for (let i = 0, value; (value = numbers[i]); i++) {\n            if (outputText.length > 0) {\n                outputText += ', ';\n            }\n            outputText += numberToDateName(value, type);\n        }\n        return outputText + ' ' + locale['and'] + ' ' + numberToDateName(lastVal, type);\n    }\n\n    /**\n     * Pad to equivalent of sprintf('%02d').\n     * @param {Number} x\n     * @returns {string}\n     */\n    function zeroPad(x) {\n        return (x < 10) ? '0' + x : x;\n    }\n\n    //----------------\n\n    /**\n     * Given a schedule, generate a friendly sentence description.\n     * @param {Object} schedule\n     * @param {boolean} withSeconds\n     * @returns {string}\n     */\n    function scheduleToSentence(schedule, withSeconds) {\n        let outputText = locale.Every + ' ';\n\n        if (schedule['h'] && schedule['m'] && schedule['h'].length <= 2 && schedule['m'].length <= 2 && withSeconds && schedule['s'] && schedule['s'].length <= 2 ) {\n            // If there are only one or two specified values for\n            // hour or minute, print them in HH:MM:SS format\n\n            const hm = [];\n            for (let i = 0; i < schedule['h'].length; i++) {\n                for (let j = 0; j < schedule['m'].length; j++) {\n                    for (let k = 0; k < schedule['s'].length; k++) {\n                        hm.push(zeroPad(schedule['h'][i]) + ':' + zeroPad(schedule['m'][j]) + ':' + zeroPad(schedule['s'][k]));\n                    }\n                }\n            }\n            if (hm.length < 2) {\n                outputText = locale['At'] + ' ' + hm[0];\n            } else {\n                const lastVal = hm.pop();\n                outputText = locale['At'] + ' ' + hm.join(', ') + ' ' + locale.and + ' ' + lastVal;\n            }\n            if (!schedule['d'] && !schedule['D']) {\n                outputText += ' ' + locale['every day'] + ' ';\n            }\n        } else\n        if (schedule['h'] && schedule['m'] && schedule['h'].length <= 2 && schedule['m'].length <= 2) {\n            // If there are only one or two specified values for\n            // hour or minute, print them in HH:MM format\n\n            const hm = [];\n            for (let i = 0; i < schedule['h'].length; i++) {\n                for (let j = 0; j < schedule['m'].length; j++) {\n                    hm.push(zeroPad(schedule['h'][i]) + ':' + zeroPad(schedule['m'][j]));\n                }\n            }\n            if (hm.length < 2) {\n                outputText = locale['At'] + ' ' + hm[0];\n            } else {\n                const lastVal = hm.pop();\n                outputText = locale['At'] + ' ' + hm.join(', ') + ' ' + locale.and + ' ' + lastVal;\n            }\n\n            if (!schedule['d'] && !schedule['D']) {\n                outputText += ' ' + locale['every day'] + ' ';\n            }\n        } else {\n            // Otherwise, list out every specified hour/minute value.\n\n            if (schedule['h']) { // runs only at specific hours\n                if (schedule['m']) { // and only at specific minutes\n                    if (withSeconds) {\n                        if (!schedule['s'] || schedule['s'].length === 60) {\n                            outputText += locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        } else {\n                            outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' +numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        }\n                    } else {\n                        outputText += numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                    }\n                } else { // specific hours, but every minute\n                    if (withSeconds) {\n                        if (!schedule['s'] || schedule['s'].length === 60) {\n                            outputText += locale['second of every'] + ' ' + locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        } else {\n                            outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' + locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        }\n                    } else {\n                        outputText += locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                    }\n                }\n            } else if (schedule['m']) { // every hour, but specific minutes\n                if (withSeconds) {\n                    if (!schedule['s'] || schedule['s'].length === 60) {\n                        outputText += locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                    } else {\n                        outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                    }\n                } else {\n                    outputText += numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                }\n            } else if (withSeconds) {\n                if (!schedule['s'] || schedule['s'].length === 60) {\n                    outputText += locale['second'];\n                } else {\n                    outputText += numberList(schedule['s']) + ' ' + locale['second'];\n                }\n            } else { // cronspec has \"*\" for both hour and minute\n                outputText += locale['minute'];\n            }\n        }\n\n        if (schedule['D']) { // runs only on specific day(s) of month\n            outputText += (locale['on the'] ? ' ' + locale['on the'] + ' ' : ' ') + numberList(schedule['D']);\n            if (!schedule['M']) {\n                outputText += ' ' + locale['of every month'];\n            }\n        }\n\n        if (schedule['d']) { // runs only on specific day(s) of week\n            if (schedule['D']) {\n                // if both day fields are specified, cron uses both; superuser.com/a/348372\n                outputText += ' ' + locale['and every'] + ' ';\n            } else {\n                outputText += ' ' + locale['on'] + ' ';\n            }\n            outputText += dateList(schedule['d'], 'dow');\n        }\n\n        if (schedule['M']) {\n            // runs only in specific months; put this output last\n            outputText += ' ' + locale['in'] + ' ' + dateList(schedule['M'], 'mon');\n        }\n\n        return outputText;\n    }\n\n    return scheduleToSentence(schedule.schedules[0], withSeconds);\n}\n\nexport default cronToText;\n","var JQUERY_CRON_LOCALE = {};\n\nJQUERY_CRON_LOCALE.en = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Sun',\n        'Mon',\n        'Tue',\n        'Wed',\n        'Thu',\n        'Fri',\n        'Sat'\n    ],\n    'Every':            'Every', // start of expression\n    'and':              'and', // 1, 2, 3 and 15th\n    'every day':        'every day',\n    'minute past the':  'minute past the',\n    'hour':             'hour',\n    'minute':           'minute',\n    'minute of':        'minute of',\n    'second':           'second',\n    'second in minute': 'second in minute',\n    'second of every':  'second of every',\n    'minute every hour': 'minute every hour',\n    'on the':           'on the',\n    'of every month':   'of every month',\n    'and every':        'and every',\n    'At':               'At',\n    'on':               'on', // on sun, mon\n    'in':               'in' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.de = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Januar',\n        'Februar',\n        'März',\n        'April',\n        'Mai',\n        'Juni',\n        'Juli',\n        'August',\n        'September',\n        'Oktober',\n        'November',\n        'Dezember'\n    ],\n    DOW: [\n        'Sonntag',\n        'Montag',\n        'Dienstag',\n        'Mittwoch',\n        'Donnerstag',\n        'Freitag',\n        'Samstag'\n    ],\n    'Every':            'Jede(r)', // start of expression\n    'and':              'und', // 1, 2, 3 and 15th\n    'every day':        'jeden Tag',\n    'minute past the':  'Minuten nach',\n    'hour':             'Stunde',\n    'minute':           'Minute',\n    'minute of':        'Minuten von',\n    'second':           'Sekunde',\n    'second in minute': 'Sekunde in der Minute',\n    'second of every':  'Sekunde in',\n    'minute every hour': 'Minute jede Stunde',\n    'on the':           'am',\n    'of every month':   'im jeden Monat',\n    'and every':        'und am jeden',\n    'At':               'Um',\n    'on':               'am', // on sun, mon\n    'in':               'im' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.ru = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Январе',\n        'Феврале',\n        'Марте',\n        'Апреле',\n        'Майе',\n        'Июне',\n        'Июле',\n        'Августе',\n        'Сентябре',\n        'Октябре',\n        'Ноябре',\n        'Декабре'\n    ],\n    DOW: [\n        'воскресение',\n        'понедельник',\n        'вторник',\n        'среду',\n        'четверг',\n        'пятницу',\n        'субботу'\n    ],\n    'Every':            'Каждую(ый)', // start of expression\n    'and':              'и', // 1, 2, 3 and 15th\n    'every day':        'каждый день',\n    'minute past the':  'минуту в',\n    'hour':             'часа(ов)',\n    'minute':           'минуту',\n    'minute of':        'минут(у) в',\n    'second':           'секунду',\n    'second in minute': 'секунду в минуте',\n    'second of every':  'секунду каждой(го)',\n    'minute every hour': 'минуту каждый час',\n    'on the':           '',\n    'of every month':   'числа каждого месяца',\n    'and every':        'и каждый',\n    'At':               'В',\n    'on':               'в', // on sun, mon\n    'in':               'в' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.fr = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [\n        'Fév',\n        'Mar',\n        'Avr',\n        'Mai',\n        'Jun',\n        'Juil',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Déc'\n\n    ],\n    DOW: [\n        'Dim',\n        'Lun',\n        'Mar',\n        'Mer',\n        'Jeu',\n        'Ven',\n        'Sam'\n\n    ],\n    'Every':            'Chaque',\n    'and':              'et',\n    'every day':        'tous les jours',\n    'minute past the':  'minute après le',\n    'hour':             'heure',\n    'minute':           'minute',\n    'minute of':        'minute de',\n    'second':           'seconde',\n    'second in minute': 'seconde en minute',\n    'second of every':  'deuxième de tous',\n    'minute every hour':'minute toutes les heures',\n    'on the':           'sur le',\n    'of every month':   'de chaque mois',\n    'and every':        'et tous',\n    'At':               'À',\n    'on':               'sur',\n    'in':               'dans'\n};\n\nJQUERY_CRON_LOCALE.it = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'Pot',\n        'Giu',\n        'Lug',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dic'\n    ],\n    DOW: [\n        'Dom',\n        'Mon',\n        'Mar',\n        'Mer',\n        'Gio',\n        'Ve',\n        'Sat'\n    ],\n    'Every':             'Ogni',\n    'and':               'e',\n    'every day':         'ogni giorno',\n    'minute past the':   'minuto dopo',\n    'hour':              'ora',\n    'minute':            'Minuto',\n    'minute of':         'minuto di',\n    'second':            'secondo',\n    'second in minute':  \"secondo in minuto\",\n    'second of every':   'secondo di ogni',\n    'minute every hour': 'minuto ogni ora',\n    'on the':            'sul',\n    'of every month':    'di ogni mese',\n    'and every':         'e ogni',\n    'At':                'A',\n    'on':                'sopra',\n    'in':                'in'\n};\n\nJQUERY_CRON_LOCALE.pt = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Abr',\n        'Pod',\n        'Jun',\n        'Jul',\n        'Ago',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Dom',\n        'Seg',\n        'Ter',\n        'Qua',\n        'Qui',\n        'Sex',\n        'Sen'\n    ],\n    'Every':                'Cada',\n    'and':                  'e',\n    'every day':            'todo dia',\n    'minute past the':      'minuto após o',\n    'hour':                 'hora',\n    'minute':               'minuto',\n    'minute of':            'minuto de',\n    'second':               'segundo',\n    'second in minute':     'segundo em minuto',\n    'second of every':      'segundo de cada',\n    'minute every hour':    'minuto a cada hora',\n    'on the':               'no',\n    'of every month':       'de todos os meses',\n    'and every':            'e todos',\n    'At':                   'At',\n    'on':                   'em',\n    'in':                   'dentro'\n};\n\nJQUERY_CRON_LOCALE.pl = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [ //short or full names\n        'Sty', // or 'Styczeń'\n        'Lut', // or 'Luty'\n        'Mar', // or 'Marzec'\n        'Kwi', // or 'Kwiecień'\n        'Maj', // or 'Maj'\n        'Cze', // or 'Czerwiec'\n        'Lip', // or 'Lipiec'\n        'Sie', // or 'Sierpień'\n        'Wrz', // or 'Wrzesień'\n        'Paź', // or 'Październik'\n        'Lis', // or 'Listopad'\n        'Gru'  // or 'Grudzień'\n    ],\n    DOW: [ //short or full days name\n        'Nie', // or 'Niedziela'\n        'Pon', // or 'Poniedziałek'\n        'Wto', // or 'Wtorek'\n        'Śro', // or 'Środa'\n        'Czw', // or 'Czwartek'\n        'Pią', // or 'Piątek'\n        'Sob'  // or 'Sobota\n    ],\n    'Every':            'Każde(go)', // start of expression\n    'and':              'i', // 1, 2, 3 and 15th\n    'every day':        'codziennie',\n    'minute past the':  'minut po', //minute past the hour ?\n    'hour':             'godzina',\n    'minute':           'minut(a)',\n    'minute of':        'minut po',\n    'second':           'sekunda',\n    'second in minute': 'sekund na minutę',\n    'second of every':  'sekund co',\n    'minute every hour': 'minut co godzinę',\n    'on the':           'w',\n    'of every month':   'każdego miesiąca',\n    'and every':        'i każdego',\n    'At':               'O',\n    'on':               'w', // on sun, mon\n    'in':               'w' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.es = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Ene',\n        'Feb',\n        'Mar',\n        'Abr',\n        'Mayo',\n        'Jun',\n        'Jul',\n        'Ago',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dic'\n    ],\n    DOW: [\n        'Sol',\n        'Lun',\n        'Mar',\n        'Mie',\n        'Jue',\n        'Vie',\n        'Sab'\n    ],\n    'Every':                'Cada',\n    'and':                  'y',\n    'every day':            'cada día',\n    'minute past the':      'minuto pasado el',\n    'hour':                 'hora',\n    'minute':               'minuto',\n    'minute of':            'minuto de',\n    'second':               'segundo',\n    'second in minute':     'segundo en minuto',\n    'second of every':      'segundo de cada',\n    'minute every hour':    'minuto cada hora',\n    'on the':               'sobre el',\n    'of every month':       'de cada mes',\n    'and every':            'y cada',\n    'At':                   'A',\n    'on':                   'en',\n    'in':                   'en'\n};\n\nJQUERY_CRON_LOCALE.nl = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'Mei',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Okt',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Zon',\n        'Mon',\n        'Di',\n        'Wo',\n        'Don',\n        'Vrij',\n        'Za'\n    ],\n    'Every':                'Elke',\n    'and':                  'en',\n    'every day':            'elke dag',\n    'minute past the':      'minuut voorbij de',\n    'hour':                 'uur',\n    'minute':               'minuut',\n    'minute of':            'minuut van',\n    'second':               'tweede',\n    'second in minute':     'tweede in minuut',\n    'second of every':      'tweede van alles',\n    'minute every hour':    'minuut elk uur',\n    'on the':               'op de',\n    'of every month':       'van elke maand',\n    'and every':            'en elke',\n    'At':                   'Op',\n    'on':                   'op',\n    'in':                   'in'\n};\n\nJQUERY_CRON_LOCALE['zh-cn'] = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        '一月',\n        '二月',\n        '三月',\n        '四月',\n        '五月',\n        '六月',\n        '七月',\n        '八月',\n        '九月',\n        '十月',\n        '十一月',\n        '十二月'\n    ],\n    DOW: [\n        '星期日',\n        '星期一',\n        '星期二',\n        '星期三',\n        '星期四',\n        '星期五',\n        '星期六'\n    ],\n    'Every':            '每', // start of expression\n    'and':              '和', // 1, 2, 3 and 15th\n    'every day':        '每天',\n    'minute past the':  '分钟在每天第',\n    'hour':             '小时',\n    'minute':           '分钟',\n    'minute of':        '分钟的',\n    'second':           '秒',\n    'second in minute': '秒在分钟',\n    'second of every':  '秒在每',\n    'minute every hour': '分钟在每小时中',\n    'on the':           '在',\n    'of every month':   '日在每月',\n    'and every':        '且每',\n    'At':               '在',\n    'on':               '在', // on sun, mon\n    'in':               '在' // in jan, apr\n};\n\nexport default JQUERY_CRON_LOCALE;\n","import cronToText from './cron2text';\nimport JQUERY_CRON_LOCALE from './jquery.cron.locale';\n\nfunction correctCasus(text, seconds) {\n    text = text.replace('Каждую(ый) минуту',    'Каждую минуту');\n    text = text.replace('Каждую(ый) минут(у)',  'Каждую минуту');\n    text = text.replace('Каждую(ый) час',       'Каждый час');\n    text = text.replace('Каждую(ый) секунду',   'Каждую секунду');\n    text = text.replace(/ (\\d{1,2}) числа/,     ' $1го числа');\n\n    text = text.replace(/ (\\d{1,2}) в Январе/,  ' $1го числа в Январе');\n    text = text.replace(/ (\\d{1,2}) в Феврале/, ' $1го числа в Феврале');\n    text = text.replace(/ (\\d{1,2}) в Марте/,   ' $1го числа в Марте');\n    text = text.replace(/ (\\d{1,2}) в Апреле/,  ' $1го числа в Апреле');\n    text = text.replace(/ (\\d{1,2}) в Майе/,    ' $1го числа в Майе');\n    text = text.replace(/ (\\d{1,2}) в Июне/,    ' $1го числа в Июне');\n    text = text.replace(/ (\\d{1,2}) в Июле/,    ' $1го числа в Июле');\n    text = text.replace(/ (\\d{1,2}) в Августе/,  ' $1го числа в Августе');\n    text = text.replace(/ (\\d{1,2}) в Сентябре/,  ' $1го числа в Сентябре');\n    text = text.replace(/ (\\d{1,2}) в Октябре/,  ' $1го числа в Октябре');\n    text = text.replace(/ (\\d{1,2}) в Ноябре/,  ' $1го числа в Ноябре');\n    text = text.replace(/ (\\d{1,2}) в Декабре/,  ' $1го числа в Декабре');\n\n    text = text.replace('Каждую(ый) 0 минуту',   'Каждые ноль минут');\n    text = text.replace(/Каждую\\(ый\\) ([\\d\\sи,]+) минуту/, 'Каждую $1 минуту');\n\n    text = text.replace(/каждой\\(го\\) ([\\d\\sи,]+) минуту/, 'каждой $1 минуты');\n    text = text.replace('каждой(го) минут(у)',  'каждой минуты');\n\n    text = text.replace(' 0 часа(ов)',           ' 0 часов');\n    text = text.replace(' 1 часа(ов)',           ' 1 час');\n    text = text.replace(' 2 часа(ов)',           ' 2 часа');\n    text = text.replace(' 3 часа(ов)',           ' 3 часа');\n    text = text.replace(' 4 часа(ов)',           ' 4 часа');\n    text = text.replace(/ (\\d{1,2}) часа\\(ов\\)/, ' $1 часов');\n\n    text = text.replace('Jede(r) Sekunde',      'Jede Sekunde');\n    text = text.replace(/Jede\\(r\\) ([\\d\\sund,]+) Sekunde/, 'Jede $1 Sekunde');\n    text = text.replace('Jede(r) Minute',       'Jede Minute');\n    text = text.replace('Jede Minuten',         'Jede Minute');\n    text = text.replace('Jede(r) Stunde',       'Jede Stunde');\n    text = text.replace(/Jede\\(r\\) ([\\d\\sund,]+) Minute/, 'Jede $1 Minute');\n    text = text.replace('Jede Sekunde in Minuten', 'Jede Sekunde in jeder Minute');\n\n    return text;\n}\n\nfunction convertCronToText(cron, lang) {\n    const withSeconds = cron.split(' ').length === 6;\n    let text = cronToText(cron, withSeconds, JQUERY_CRON_LOCALE[lang] || JQUERY_CRON_LOCALE.en);\n    return correctCasus(text, withSeconds);\n}\n\nexport default convertCronToText;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport TextField from '@material-ui/core/TextField';\nimport convertCronToText from './simple-cron/cronText';\n\nconst styles = theme => ({\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto'\n    },\n    periodSelect: {\n        //margin: '0 10px 60px 10px',\n        display: 'block',\n        width: 200\n    },\n    slider: {\n        marginTop: 20,\n        display: 'block',\n        width: '100%'\n    },\n    tabContent: {\n        padding: 20\n    },\n    numberButton: {\n        padding: 4,\n        minWidth: 40,\n        margin: 5\n    },\n    numberButtonBreak: {\n        display: 'block'\n    },\n    appBar: {\n        color: 'white'\n    }\n});\n\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\nconst MONTHS = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\n\n// 5-7,9-11 => [5,6,7,9,10,11]\nfunction convertMinusIntoArray(value, max) {\n    let result = [];\n    if (value === '*') {\n        if (max === 24 || max === 60 || max === 7) {\n            for (let i = 0; i < max; i++) {\n                result.push(i);\n            }\n        } else {\n            for (let i = 1; i <= max; i++) {\n                result.push(i);\n            }\n        }\n        return result; // array with entries max\n    }\n    const parts = (value || '').toString().split(',');\n    for (let p = 0; p < parts.length; p++) {\n        if (! parts[p].trim().length) continue;\n        const items = parts[p].trim().split('-');\n        if (items.length > 1) {\n            let iMax = parseInt(items[1], 10);\n            for (let i = parseInt(items[0], 10); i <= iMax; i++) {\n                result.push(i);\n            }\n        } else {\n            result.push(parseInt(parts[p], 10));\n        }\n    }\n    result = result.map(a => parseInt(a, 10));\n\n    result.sort();\n\n\n    // remove double entries\n    for (let p = result.length - 1; p >= 0; p--) {\n        if (result[p] === result[p + 1]) {\n            result.splice(p + 1, 1);\n        }\n    }\n\n\n    return result;\n}\n\n// [5,6,7,9,10,11] => 5-7,9-11\nfunction convertArrayIntoMinus(value, max) {\n    if (typeof value !== 'object') {\n        value = [value];\n    }\n    if (value.length === max) {\n        return '*';\n    }\n    const newParts = [];\n    if (!value.length) {\n        return '-';\n    }\n    value = value.map(a => parseInt(a, 10));\n\n    value.sort((a, b) => a -b);\n\n    let start = value[0];\n    let end = value[0];\n    for (let p = 1; p < value.length; p++) {\n        if (value[p] - 1 !== parseInt(value[p - 1], 10)) {\n            if (start === end) {\n                newParts.push(start)\n            } else if (end - 1 === start) {\n                newParts.push(start + ',' + end);\n            } else {\n                newParts.push(start + '-' + end);\n            }\n            start = value[p];\n            end = value[p];\n        } else {\n            end = value[p];\n        }\n    }\n\n    if (start === end) {\n        newParts.push(start)\n    } else if (end - 1 === start) {\n        newParts.push(start + ',' + end);\n    } else {\n        newParts.push(start + '-' + end);\n    }\n\n    return newParts.join(',');\n}\n\nclass ComplexCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron = (typeof this.props.cronExpression === 'string') ? this.props.cronExpression.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '') : '';\n        if (cron[0] === '{') {\n            cron = '';\n        }\n        const state = ComplexCron.cron2state(cron || '* * * * *');\n\n        this.state = {\n            extended: false,\n            tab: state.seconds !== false ? 1 : 0,\n            cron: ComplexCron.state2cron(state),\n            modes: {\n                seconds: null,\n                minutes: null,\n                hours: null,\n                dates: null,\n                months: null,\n                dows: null\n            }\n        };\n        Object.assign(this.state, state);\n        if (this.state.cron !== this.props.cronExpression) {\n            setTimeout(() => this.props.onChange && this.props.onChange(this.state.cron), 100);\n        }\n    }\n\n    static cron2state(cron) {\n        cron = cron.replace(/['\"]/g, '').trim();\n        const cronParts = cron.split(' ').map(p => p.trim());\n        const options = {};\n\n        if (cronParts.length === 6) {\n            options.seconds = cronParts[0] || '*';\n            options.minutes = cronParts[1] || '*';\n            options.hours = cronParts[2] || '*';\n            options.dates = cronParts[3] || '*';\n            options.months = cronParts[4] || '*';\n            options.dows = cronParts[5] || '*';\n        } else {\n            options.seconds = false;\n            options.minutes = cronParts[0] || '*';\n            options.hours = cronParts[1] || '*';\n            options.dates = cronParts[2] || '*';\n            options.months = cronParts[3] || '*';\n            options.dows = cronParts[4] || '*';\n        }\n        return options;\n    }\n    static state2cron(state) {\n        let text = `${state.minutes} ${state.hours} ${state.dates} ${state.months} ${state.dows}`;\n        if (state.seconds !== false) {\n            text = state.seconds + ' ' + text;\n        }\n        return text;\n    }\n\n    recalcCron() {\n        let cron = ComplexCron.state2cron(this.state);\n        if (cron !== this.state.cron) {\n            this.setState({cron}, () => {\n                this.props.onChange && this.props.onChange(this.state.cron);\n            });\n        }\n    }\n\n    onChange(cron) {\n        if (cron !== this.state.cron) {\n            this.setState({cron});\n            this.props.onChange && this.props.onChange(cron);\n        }\n    }\n\n    onToggle(i, type, max) {\n        if (i === true) {\n            this.setState({[type]: '*'}, () => this.recalcCron());\n        } else if (i === false) {\n            if (max === 60 || max === 24) {\n                this.setState({[type]: '0'}, () => this.recalcCron());\n            } else {\n                this.setState({[type]: '1'}, () => this.recalcCron());\n            }\n        } else {\n            let nums = convertMinusIntoArray(this.state[type], max);\n            const pos = nums.indexOf(i);\n            if (pos !== -1) {\n                nums.splice(pos, 1);\n            } else {\n                nums.push(i);\n                nums.sort();\n            }\n            this.setState({[type]: convertArrayIntoMinus(nums, max)}, () => this.recalcCron());\n        }\n    }\n\n    getDigitsSelector(type, max) {\n        let values = [];\n        if (max === 7) {\n            values = [1,2,3,4,5,6,0];\n        } else if (max === 60 || max === 24) {\n            for (let i = 0; i < max; i++) {\n                values.push(i);\n            }\n        } else {\n            for (let i = 1; i <= max; i++) {\n                values.push(i);\n            }\n        }\n        const parts = convertMinusIntoArray(this.state[type], max);\n        return [\n            (<Button\n                key=\"removeall\"\n                variant={'outlined'}\n                className={this.props.classes.numberButton}\n                //style={{paddingBottom: 20}}\n                color={'primary'}\n                onClick={() => this.onToggle(false, type, max)}>{I18n.t('Deselect all')}</Button>),\n            (<Button\n                key=\"addall\"\n                variant={'contained'}\n                //style={{paddingBottom: 20}}\n                className={this.props.classes.numberButton}\n                color={'secondary'}\n                onClick={() => this.onToggle(true, type, max)}>{I18n.t('Select all')}</Button>),\n            (<div key=\"all\">\n                {values.map(i =>\n                    [((max === 7 && i === 4) ||\n                    (max === 12 && i === 7) ||\n                    (max === 31 && !((i - 1) % 10)) ||\n                    (max === 60 && i && !(i % 10)) ||\n                    (max === 24 && i && !(i % 6))) ?\n                    (<div key={'allInner' + i} style={{width: '100%'}}/>) : null,\n                        (<Button\n                            key={'_' + i}\n                            variant={parts.indexOf(i) !== -1 ? 'contained' : 'outlined'}\n                            className={this.props.classes.numberButton}\n                            color={parts.indexOf(i) !== -1 ? 'secondary' : 'primary'}\n                            onClick={() => this.onToggle(i, type, max)}>{max === 7 ? I18n.t(WEEKDAYS[i]) : (max === 12 ? MONTHS[i - 1] : i)}</Button>\n                    )])}\n                    </div>)];\n    }\n\n    getPeriodsTab(type, max) {\n        let value = this.state[type];\n        let every = value === '*';\n        let everyN = value.toString().indexOf('/') !== -1;\n        let select;\n        if (this.state.modes[type] === null) {\n            select = every ? 'every' : (everyN ? 'everyN' : 'specific');\n            const modes = JSON.parse(JSON.stringify(this.state.modes));\n            modes[type] = select;\n            return setTimeout(() => this.setState({modes}, () => this.recalcCron()), 100);\n        } else {\n            every = this.state.modes[type] === 'every';\n            everyN = this.state.modes[type] === 'everyN';\n            select = this.state.modes[type];\n        }\n\n        if (everyN) {\n            value = parseInt(value.replace('*/', ''), 10) || 1;\n        }\n\n        return (<div>\n            <Select\n                className={this.props.classes.periodSelect}\n                style={{verticalAlign: 'bottom'}}\n                value={select}\n                onChange={e => {\n                    const modes = JSON.parse(JSON.stringify(this.state.modes));\n                    modes[type] = e.target.value;\n                    if (e.target.value === 'every') {\n                        this.setState({[type]: '*', modes}, () => this.recalcCron());\n                    } else if (e.target.value === 'everyN') {\n                        const num = parseInt(this.state[type].toString().replace('*/', ''), 10) || 1;\n                        this.setState({[type]: '*/' + num, modes}, () => this.recalcCron());\n                    } else if (e.target.value === 'specific') {\n                        let num = parseInt(this.state[type].split(',')[0], 10) || 0;\n                        console.log(num);\n                        if (!num && (type === 'months' || type === 'dates')) {\n                            num = 1;\n                        }\n                        this.setState({[type]: convertArrayIntoMinus(num, max), modes}, () => this.recalcCron());\n                    }\n                }}>\n                <MenuItem key='every' value='every'>{I18n.t('sc_every_' + type)}</MenuItem>\n                <MenuItem key='everyN' value='everyN'>{I18n.t('sc_everyN_' + type)}</MenuItem>\n                <MenuItem key='specific' value='specific'>{I18n.t('sc_specific_' + type)}</MenuItem>\n            </Select>\n            {everyN && false && (<span>{value}</span>)}\n            {everyN && (<TextField\n                key=\"interval\"\n                label={I18n.t('sc_' + type)}\n                value={value}\n                min={1}\n                max={max}\n                onChange={e => {\n                    this.setState({[type]: '*/' + e.target.value}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                type=\"number\"\n                margin=\"normal\"\n            />)}\n            {!every && !everyN && this.getDigitsSelector(type, max)}\n        </div>);\n    }\n\n    convertCronToText(cron, lang) {\n        if (cron.split(' ').indexOf('-') !== -1) {\n            return I18n.t('Invalid CRON');\n        } else {\n            return convertCronToText(cron, lang);\n        }\n    }\n\n    render() {\n        const tab = this.state.seconds !== false ? this.state.tab : this.state.tab + 1;\n        return (\n            <div className={this.props.classes.mainDiv}>\n                <div style={{paddingLeft: 8, width: '100%'}}><TextField style={{width: '100%'}} value={this.state.cron} disabled={true}/></div>\n                <div style={{paddingLeft: 8, width: '100%', height: 60}}>{this.convertCronToText(this.state.cron, this.props.language || 'en')}</div>\n                <FormControlLabel\n                    control={<Checkbox checked={this.state.seconds}\n                                       onChange={e => this.setState({seconds: e.target.checked ? '*' : false}, () => this.recalcCron())}/>}\n                    label={I18n.t('use seconds')}\n                />\n                <AppBar position=\"static\" classes={{root: this.props.classes.appBar}} color=\"secondary\">\n                    <Tabs value={this.state.tab} className={this.props.classes.appBar} color=\"secondary\" onChange={(active, tab) =>\n                        this.setState({tab})}>\n                        {this.state.seconds !== false && <Tab id=\"sc_seconds\" label={I18n.t('sc_seconds')}/>}\n                        <Tab  id=\"minutes\" label={I18n.t('sc_minutes')}/>\n                        <Tab  id=\"hours\" label={I18n.t('sc_hours')}/>\n                        <Tab  id=\"dates\" label={I18n.t('sc_dates')}/>\n                        <Tab  id=\"months\" label={I18n.t('sc_months')}/>\n                        <Tab  id=\"dows\" label={I18n.t('sc_dows')}/>\n                    </Tabs>\n                </AppBar>\n                {tab === 0 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('seconds', 60)}</div>)}\n                {tab === 1 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('minutes', 60)}</div>)}\n                {tab === 2 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('hours', 24)}</div>)}\n                {tab === 3 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('dates', 31)}</div>)}\n                {tab === 4 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('months', 12)}</div>)}\n                {tab === 5 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('dows', 7)}</div>)}\n            </div>\n        );\n    }\n}\n\nComplexCron.propTypes = {\n    cronExpression: PropTypes.string,\n    onChange: PropTypes.func,\n    language: PropTypes.string,\n};\n\nexport default withStyles(styles)(ComplexCron);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport convertCronToText from './cronText';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto'\n    },\n    formControl: {\n        margin: 0,\n        minWidth: 120,\n    },\n    formControlMarginRight: {\n        marginRight: 5\n    },\n    formControlPaddingTop: {\n        paddingTop: 6.2\n    }\n});\n\nconst PERIODIC = {\n    once: 'once',\n    interval: 'interval',\n    intervalBetween: 'intervalBetween',\n    specific: 'specific'\n};\nconst PERIODIC_TYPES = {\n    seconds: 'seconds',\n    minutes: 'minutes',\n    //hours: 'hours',\n};\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\n\nfunction padding(num) {\n    if (num < 10) return '0' + num;\n    return '' + num;\n}\nconst DEFAULT_STATE = {\n    mode: PERIODIC.interval,\n    interval: {\n        period: 1,\n        unit: PERIODIC_TYPES.minutes\n    }\n};\n\nclass SimpleCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron = (typeof this.props.cronExpression === 'string') ? this.props.cronExpression.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '') : '';\n        if (cron[0] === '{') {\n            cron = '';\n        }\n        const state = SimpleCron.cron2state(cron || '* * * * *') || DEFAULT_STATE;\n\n        this.state = {\n            extended: false,\n            cron: SimpleCron.state2cron(state),\n            mode: 'interval',\n            once: {\n                time: '00:00',\n                date: ''\n            },\n            interval: {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes\n            },\n            intervalBetween: {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes,\n                timeFrom: 0,\n                timeTo: 24,\n                weekdays: [0, 1, 2, 3, 4, 5, 6]\n            },\n            specific: {\n                time: '00:00',\n                weekdays: [0, 1, 2, 3, 4, 5, 6]\n            }\n        };\n        Object.assign(this.state, state);\n\n        if (this.state.cron !== this.props.cronExpression) {\n            setTimeout(() => this.props.onChange && this.props.onChange(this.state.cron), 100);\n        }\n    }\n\n    static periodArray2text(list, max) {\n        max = max || 7;\n        if (list.length === max) {\n            return '*';\n        } else {\n            let text = [];\n            let start = null;\n            let end = null;\n            for (let i = 0; i < list.length; i++) {\n                if (start === null) {\n                    start = list[i];\n                    end = list[i];\n                } else if (list[i - 1] + 1 === list[i]) {\n                    end = list[i];\n                } else {\n                    if (start !== end) {\n                        text.push(start + '-' + end);\n                    } else {\n                        text.push(start);\n                    }\n                    start = list[i];\n                    end = list[i];\n                }\n            }\n            if (start !== end) {\n                text.push(start + '-' + end);\n            } else {\n                text.push(start);\n            }\n            return text.join(',');\n        }\n    }\n\n    static text2weekdays(text) {\n        if (text === '*') {\n            return [0,1,2,3,4,5,6];\n        }\n        const parts = text.split(',');\n        const list = [];\n        parts.forEach(part => {\n            const _parts = part.split('-');\n            if (_parts.length === 2) {\n                const start = parseInt(_parts[0], 10);\n                const end = parseInt(_parts[1], 10);\n                for (let day = start; day <= end; day++) {\n                    if (list.indexOf(day === 7 ? 0 : day) === -1) {\n                        list.push(day === 7 ? 0 : day);\n                    }\n                }\n            } else {\n                if (part === '7') {\n                    part = 0;\n                }\n                part = parseInt(part, 10);\n                if (list.indexOf(part) === -1) {\n                    list.push(part);\n                }\n            }\n        });\n        list.sort();\n        return list;\n    }\n\n    static cron2state(cron) {\n        cron = cron.replace(/['\"]/g, '').trim();\n        const cronParts = cron.split(' ');\n        const options = {};\n        const state = {\n            mode: ''\n        };\n        if (cronParts.length === 6) {\n            options.seconds = cronParts[0] || '*';\n            options.minutes = cronParts[1] || '*';\n            options.hours = cronParts[2] || '*';\n            options.date = cronParts[3] || '*';\n            options.months = cronParts[4] || '*';\n            options.dow = cronParts[5] || '*';\n        } else {\n            options.seconds = null;\n            options.minutes = cronParts[0] || '*';\n            options.hours = cronParts[1] || '*';\n            options.date = cronParts[2] || '*';\n            options.months = cronParts[3] || '*';\n            options.dow = cronParts[4] || '*';\n        }\n\n        // * * * * *\n        if (options.seconds === null &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes\n            };\n        } // * * * * * *\n        if (options.seconds === '*' &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: 1,\n                unit: PERIODIC_TYPES.seconds\n            };\n        } else// */n * * * *\n        if (options.seconds === null &&\n            options.minutes.indexOf('/') !== -1 &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: parseInt(options.minutes.split('/')[1], 10),\n                unit: PERIODIC_TYPES.minutes\n            };\n        } else\n        // */n * * * * *\n        if (options.seconds !== null && options.seconds.indexOf('/') !== -1 &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: parseInt(options.seconds.split('/')[1], 10),\n                unit: PERIODIC_TYPES.seconds\n            };\n        } else\n        // */n * 1-24 * * 1-7 or  */n * 1-24 * * *\n        if (options.seconds !== null && options.seconds.indexOf('/') !== -1 &&\n            options.minutes === '*' &&\n            options.hours.indexOf('-') !== -1 &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.intervalBetween;\n            state.intervalBetween = {\n                period: parseInt(options.seconds.split('/')[1], 10),\n                unit: PERIODIC_TYPES.seconds,\n                timeFrom: parseInt(options.hours.split('-')[0], 10),\n                timeTo: parseInt(options.hours.split('-')[1], 10),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // */n 1-24 * * 1-7 or  */n 1-24 * * *\n        if (options.seconds === null &&\n            options.minutes.indexOf('/') !== -1 &&\n            options.hours.indexOf('-') !== -1 &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.intervalBetween;\n            state.intervalBetween = {\n                period: parseInt(options.minutes.split('/')[1], 10),\n                unit: PERIODIC_TYPES.minutes,\n                timeFrom: parseInt(options.hours.split('-')[0], 10),\n                timeTo: parseInt(options.hours.split('-')[1], 10),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // m h * * 1-7 or m h * * *\n        if (options.seconds === null &&\n            parseInt(options.minutes, 10).toString() === options.minutes &&\n            parseInt(options.hours, 10).toString() === options.hours &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.specific;\n            state.specific = {\n                time: padding(parseInt(options.hours, 10)) + ':' + padding(parseInt(options.minutes, 10)),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // m h d M *\n        if (options.seconds === null &&\n            parseInt(options.minutes, 10).toString() === options.minutes &&\n            parseInt(options.hours, 10).toString() === options.hours &&\n            parseInt(options.date, 10).toString() === options.date &&\n            parseInt(options.months, 10).toString() === options.months &&\n            options.dow === '*') {\n            state.mode = PERIODIC.once;\n            state.once = {\n                time: padding(parseInt(options.hours, 10)) + ':' + padding(parseInt(options.minutes, 10)),\n                date: padding(parseInt(options.date, 10)) + '.' + padding(parseInt(options.months, 10)),\n            // ignored\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            }\n        }\n\n        if (state.mode) {\n            return state;\n        } else {\n            return null;\n        }\n    }\n\n    static state2cron(state) {\n        let cron = '* * * * *';\n        if (state.mode === PERIODIC.interval) {\n            const settings = state.interval || {};\n            if (settings.period > 60) settings.period = 60;\n            if (settings.period < 1) settings.period = 1;\n\n            if (settings.minutes > 60) settings.minutes = 60;\n            if (settings.minutes < 1) settings.minutes = 1;\n\n            if (settings.hours > 24) settings.hours = 24;\n            if (settings.hours < 1) settings.hours = 1;\n\n            if (state.extended) {\n                cron = `${settings.minutes > 1 ? '*/' + settings.minutes : '*'} ${settings.hours > 1 ? '*/' + settings.hours : '*'} * * *`;\n            } else {\n                switch (settings.unit) {\n                    case PERIODIC_TYPES.seconds:\n                        cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * * * * *`;\n                        break;\n                    case PERIODIC_TYPES.minutes:\n                        cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * * * *`;\n                        break;\n                    default:\n                        break;\n                }\n            }\n        } else if (state.mode === PERIODIC.intervalBetween) {\n            const settings = state.intervalBetween || {};\n            let hours;\n            settings.timeFrom = settings.timeFrom || 0;\n            settings.timeTo = settings.timeTo === undefined ? 24 : settings.timeTo;\n            if (settings.timeFrom === 0 && settings.timeTo === 24) {\n                hours = '*';\n            } else {\n                hours = settings.timeFrom !== settings.timeTo ? settings.timeFrom + '-' + settings.timeTo : '*';\n            }\n            if (settings.period > 60) settings.period = 60;\n            if (settings.period < 1) settings.period = 1;\n            settings.unit = settings.unit || PERIODIC_TYPES.minutes;\n            switch (settings.unit) {\n                case PERIODIC_TYPES.seconds:\n                    cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * ${hours} * * ${this.periodArray2text(settings.weekdays)}`;\n                    break;\n                case PERIODIC_TYPES.minutes:\n                    cron = `${settings.period > 1 ? '*/' + settings.period : '*'} ${hours} * * ${this.periodArray2text(settings.weekdays)}`;\n                    break;\n                default:\n                    break;\n            }\n        } else if (state.mode === PERIODIC.specific) {\n            const settings = state.specific || {};\n            const parts = (settings.time || '00:00').split(':');\n            let minutes = parseInt(parts[1], 10) || 0;\n            if (minutes > 59) minutes = 59;\n            if (minutes < 0) minutes = 0;\n            let hours = parseInt(parts[0], 10) || 0;\n            if (hours > 23) hours = 59;\n            if (hours < 0) hours = 0;\n\n            cron = `${minutes} ${hours} * * ${this.periodArray2text(settings.weekdays || [])}`;\n        } else if (state.mode === PERIODIC.once) {\n            const settings = state.once || {};\n            if (!settings.date) {\n                settings.date = new Date().getDate() + '.' + padding(new Date().getMonth() + 1);\n            }\n            const parts = (settings.time || '00:00').split(':');\n            const partsDate = settings.date.split('.');\n            let minutes = parseInt(parts[1], 10) || 0;\n            if (minutes > 59) minutes = 59;\n            if (minutes < 0) minutes = 0;\n            let hours = parseInt(parts[0], 10) || 0;\n            if (hours > 23) hours = 59;\n            if (hours < 0) hours = 0;\n            let date = parseInt(partsDate[0], 10) || 1;\n            if (date > 31) date = 31;\n            if (date < 1) hours = 1;\n            let month = parseInt(partsDate[1], 10) || 1;\n            if (month > 12) month = 12;\n            if (month < 1) month = 1;\n\n            cron = `${minutes} ${hours} ${date} ${month} *`;\n        }\n        return cron;\n    }\n\n    recalcCron() {\n        this.onChange(SimpleCron.state2cron(this.state));\n    }\n\n    getControlsWeekdaysElements(type) {\n        const settings = this.state[type];\n        return (<div key=\"weekdays\" style={{paddingLeft: 8, width: '100%', maxWidth: 600}}>\n            <h5>{I18n.t('On weekdays')}</h5>\n            {[1,2,3,4,5,6,0].map(day => (\n                <FormControlLabel\n                    key={WEEKDAYS[day]}\n                    control={\n                        <Checkbox\n                            checked={settings.weekdays.indexOf(day) !== -1}\n                            onChange={e => {\n                                const settings = JSON.parse(JSON.stringify(this.state[type]));\n                                const pos = settings.weekdays.indexOf(day);\n                                e.target.checked && pos === -1 && settings.weekdays.push(day);\n                                !e.target.checked && pos !== -1 && settings.weekdays.splice(pos, 1);\n                                settings.weekdays.sort();\n                                this.setState({[type]: settings}, () => this.recalcCron());\n                            }}\n                            value={day.toString()}\n                        />\n                    }\n                    label={I18n.t(WEEKDAYS[day])}\n                />))\n            }</div>);\n    }\n\n    getControlsPeriodElements(type) {\n        const settings = this.state[type];\n\n        if (this.state.extended) {\n            return (<div key=\"period\" style={{paddingLeft: 8, display: 'inline-block'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_period')}</h5>\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_minutes')}\n                    value={settings.minutes}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.minutes = parseInt(e.target.value, 10);\n                        if (settings.minutes < 1) settings.minutes = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={60}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                />\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_hours')}\n                    value={settings.hours}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.hours = parseInt(e.target.value, 10);\n                        if (settings.hours < 1) settings.hours = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={24}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                />\n            </div>);\n        } else {\n            return (<div key=\"period\" style={{paddingLeft: 8, display: 'inline-block'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_period')}</h5>\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_every')}\n                    value={settings.period}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.period = parseInt(e.target.value, 10);\n                        if (settings.period < 1) settings.period = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={60}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                /><Select\n                style={{verticalAlign: 'bottom'}}\n                value={settings.unit}\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.unit = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}>\n                {Object.keys(PERIODIC_TYPES).map(mode => (<MenuItem key={PERIODIC_TYPES[mode]} value={PERIODIC_TYPES[mode]}>{I18n.t('sc_' + PERIODIC_TYPES[mode])}</MenuItem>))}\n            </Select></div>);\n        }\n    }\n\n    getControlsTime(type) {\n        const settings = this.state[type];\n        return (<FormControl className={this.props.classes.formControl} classes={{root: this.props.classes.formControlMarginRight}}>\n            <TextField\n                key=\"at\"\n                label={I18n.t('sc_time')}\n                value={settings.time}\n                type=\"time\"\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.time = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                margin=\"normal\"\n            />\n        </FormControl>);\n    }\n\n    getControlsDate(type) {\n        const settings = this.state[type];\n\n        if (!settings.date) {\n            const d = new Date();\n            settings.date = d.getDate() + '.'  + padding(d.getMonth() + 1);\n        }\n\n        //<InputLabel htmlFor=\"formatted-text-mask-input\">{I18n.t('sc_at')}</InputLabel>\n        return (<FormControl className={this.props.classes.formControl}>\n            <TextField\n                key=\"date\"\n                label={I18n.t('sc_date')}\n                value={settings.date}\n                type=\"text\"\n                inputProps={{className: this.props.classes.formControlPaddingTop}}\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.date = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                margin=\"normal\"\n            />\n        </FormControl>);\n    }\n\n    getOnceElements() {\n        return (<div style={{marginLeft: 8}}>\n            {this.getControlsTime('once')}\n            {this.getControlsDate('once')}\n            </div>);\n    }\n\n    getIntervalElements() {\n        return this.getControlsPeriodElements('interval');\n    }\n\n    getIntervalBetweenElements() {\n        const settings = this.state.intervalBetween;\n        return [\n            this.getControlsPeriodElements('intervalBetween'),\n            (<div key=\"between\" style={{paddingLeft: 8, display: 'inline-block', verticalAlign: 'top'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_hours')}</h5>\n                <FormControl className={this.props.classes.formControl}>\n                    <InputLabel shrink htmlFor=\"age-label-placeholder\">{I18n.t('sc_from')}</InputLabel>\n                    <Select\n                    style={{width: 100}}\n                    value={settings.timeFrom}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state.intervalBetween));\n                        settings.timeFrom = parseInt(e.target.value, 10);\n                        this.setState({intervalBetween: settings}, () => this.recalcCron());\n                    }}>\n                    {[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23].map(hour => (<MenuItem key={'B_' + hour} value={hour}>{padding(hour) + ':00'}</MenuItem>))}\n                </Select>\n                </FormControl>\n                <FormControl className={this.props.classes.formControl}>\n                    <InputLabel shrink htmlFor=\"age-label-placeholder\">{I18n.t('sc_to')}</InputLabel>\n                    <Select\n                        style={{width: 100}}\n                        value={settings.timeTo}\n                        onChange={e => {\n                            const settings = JSON.parse(JSON.stringify(this.state.intervalBetween));\n                            settings.timeTo = parseInt(e.target.value, 10);\n                            this.setState({intervalBetween: settings}, () => this.recalcCron());\n                        }}>\n                        {[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map(hour => (<MenuItem key={'A_' + hour} value={hour}>{padding(hour) + ':00'}</MenuItem>))}\n                    </Select>\n                </FormControl>\n            </div>),\n            this.getControlsWeekdaysElements('intervalBetween')\n        ];\n    }\n\n    getSpecificTimeElements() {\n        return [\n            (<div key=\"time\" style={{marginLeft: 8}}>{this.getControlsTime('specific')}</div>),\n            this.getControlsWeekdaysElements('specific')\n        ]\n    }\n\n    onModeChange(mode) {\n        if (mode !== this.state.mode) {\n            this.setState({mode}, () => this.recalcCron());\n        }\n    }\n\n    onChange(cron) {\n        if (cron !== this.state.cron) {\n            this.setState({cron});\n            this.props.onChange && this.props.onChange(cron);\n        }\n    }\n\n    render() {\n        return (\n            <div className={this.props.classes.mainDiv}>\n                <div style={{paddingLeft: 8, width: '100%'}}><TextField style={{width: '100%'}} value={this.state.cron} disabled={true}/></div>\n                <div style={{paddingLeft: 8, width: '100%', height: 60}}>{convertCronToText(this.state.cron, this.props.language || 'en')}</div>\n                <div><FormControl style={{marginLeft: 8, marginTop: 8}} className={this.props.classes.formControl}>\n                    <InputLabel>{I18n.t('Repeat')}</InputLabel>\n                    <Select\n                        value={this.state.mode}\n                        onChange={e => this.onModeChange(e.target.value)}\n                        inputProps={{name: 'mode', id: 'mode',}}>\n                        {Object.keys(PERIODIC).map(mode => (<MenuItem key={PERIODIC[mode]} value={PERIODIC[mode]}>{I18n.t('sc_' + PERIODIC[mode])}</MenuItem>))}\n                    </Select>\n                </FormControl></div>\n                {this.state.mode === PERIODIC.once && this.getOnceElements()}\n                {this.state.mode === PERIODIC.interval && this.getIntervalElements()}\n                {this.state.mode === PERIODIC.intervalBetween && this.getIntervalBetweenElements()}\n                {this.state.mode === PERIODIC.specific && this.getSpecificTimeElements()}\n            </div>\n        );\n    }\n}\n\nSimpleCron.propTypes = {\n    cronExpression: PropTypes.string,\n    onChange: PropTypes.func,\n    language: PropTypes.string,\n};\n\nexport default withStyles(styles)(SimpleCron);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport MaskedInput from 'react-text-mask';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport TextField from \"@material-ui/core/TextField\";\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    hr: {\n        border: 0,\n        borderTop: '1px solid gray'\n    },\n    scrollWindow: {\n        width: '100%',\n        overflow: 'auto',\n        height: 'calc(100% - 22px)'\n    },\n    rowDiv: {\n        width: '100%',\n    },\n    modeDiv: {\n        width: 200,\n        display: 'inline-block',\n        verticalAlign: 'top'\n    },\n    settingsDiv: {\n        display: 'inline-block',\n        verticalAlign: 'top'\n    },\n    inputTime: {\n        width: 90,\n        marginTop: 0,\n        marginLeft: 5\n    },\n    inputDate: {\n        width: 140,\n        marginTop: 0,\n        marginLeft: 5\n    },\n    inputEvery: {\n        width: 40,\n        marginLeft: 5,\n        marginRight: 5,\n    },\n    inputRadio: {\n        padding: '4px 12px',\n        verticalAlign: 'top'\n    },\n    inputGroup: {\n        maxWidth: 400,\n        display: 'inline-block'\n    },\n    inputGroupElement: {\n        width: 120,\n    },\n    inputDateDay: {\n        width: 60,\n    },\n    inputDateDayCheck: {\n        padding: 4,\n    },\n    inputSmallCheck: {\n        padding: 0,\n    },\n    rowOnce: {\n\n    },\n\n    rowDays: {\n        background: theme.palette.type !== 'dark' ? '#ddeaff' :  '#4b5057'\n    },\n    rowDows: {\n        background: theme.palette.type !== 'dark' ? '#DDFFDD' :  '#52646c'\n    },\n    rowDates: {\n        background: theme.palette.type !== 'dark' ? '#DDDDFF' :  '#747a86'\n    },\n    rowWeeks: {\n        background: theme.palette.type !== 'dark' ? '#DDDDFF' :  '#717680'\n    },\n    rowMonths: {\n        background: theme.palette.type !== 'dark' ? '#DDFFFF' :  '#1f5557'\n    },\n    rowMonthsDates: {\n        background: theme.palette.type !== 'dark' ? '#EEFFFF' :  '#3c5737',\n        maxWidth: 600\n    },\n    rowYears: {\n        background: theme.palette.type !== 'dark' ? '#fbffdd' :  '#574b33'\n    },\n    rowDaysDows: {\n        background: theme.palette.type !== 'dark' ? '#EEEAFF' :  '#573544',\n        paddingLeft: 10,\n        paddingBottom: 10\n    },\n    rowDowsDows: {\n        background: theme.palette.type !== 'dark' ? '#EEFFEE' :  '#3d4c54',\n        paddingLeft: 10,\n        paddingBottom: 10\n    }\n});\n\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\nconst MONTHS = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\nconst PERIODS = {\n    'minutes': 'minutes',\n    'hours': 'hours',\n};\nconst ASTRO = [\n    'sunrise',\n    'sunriseEnd',\n    'goldenHourEnd',\n    'solarNoon',\n    'goldenHour',\n    'sunsetStart',\n    'sunset',\n    'dusk',\n    'nauticalDusk',\n    'night',\n    'nightEnd',\n    'nauticalDawn',\n    'dawn',\n    'nadir',\n];\n\nfunction padding(num) {\n    if (num < 10) return '0' + num;\n    return '' + num;\n}\n\nfunction TextTime(props) {\n    const { inputRef, ...other } = props;\n\n    return (\n        <MaskedInput\n            {...other}\n            ref={inputRef}\n            mask={[/[0-2]/, /[0-9]/, ':', /[0-5]/, /[0-9]/]}\n            placeholderChar={props.placeholder || '00:00'}\n            showMask\n        />\n    );\n}\n\nTextTime.propTypes = {\n    inputRef: PropTypes.func.isRequired,\n};\n\nfunction TextDate(props) {\n    const { inputRef, ...other } = props;\n\n    return (\n        <MaskedInput\n            {...other}\n            ref={inputRef}\n            mask={[/[0-3]/, /[0-9]/, '.', /[0-1]/, /[0-9]/, '.', '2', '0', /[0-9]/, /[0-9]/]}\n            placeholderChar={props.placeholder || '01.01.2020'}\n            showMask\n        />\n    );\n}\n\nTextDate.propTypes = {\n    inputRef: PropTypes.func.isRequired,\n};\n\nconst DEFAULT = {\n    time: {\n        exactTime: false,\n\n        start: '00:00',\n        end: '23:59',\n\n        mode: 'hours',\n        interval: 1,\n    },\n    period: {\n        once: '',\n        days: 1,\n        dows: '',\n        dates: '',\n        weeks: 0,\n        months: '',\n\n        years: 0,\n        yearMonth: 0,\n        yearDate: 0,\n    },\n    valid: {\n        from: '',\n        to: ''\n    }\n};\nfunction string2USdate(date) {\n    const parts = date.split('.');\n    if (parts.length === 3) {\n        return parts[2] + '-' + parts[1] + '-' + parts[0];\n    }\n\n}\nclass Schedule extends React.Component {\n    constructor(props) {\n        super(props);\n        let schedule;\n        if (this.props.schedule && typeof this.props.schedule === 'string' && this.props.schedule[0] === '{') {\n            try {\n                schedule = JSON.parse(this.props.schedule);\n            } catch (e) {\n\n            }\n        }\n\n        if ((!schedule || !Object.keys(schedule).length) && this.props.onChange) {\n            setTimeout(() => this.onChange(this.state.schedule, true), 200);\n        }\n        schedule = schedule || {};\n        schedule = Object.assign({}, DEFAULT, schedule);\n        schedule.valid.from = schedule.valid.from || this.now2string();\n\n        this.refFrom = React.createRef();\n        this.refTo = React.createRef();\n        this.refOnce = React.createRef();\n\n        this.state = {\n            schedule,\n            desc: this.state2text(schedule)\n        };\n\n        if (JSON.stringify(schedule) !== this.props.schedule) {\n            setTimeout(() => this.props.onChange && this.props.onChange(JSON.stringify(schedule)), 100);\n        }\n    }\n\n    onChange(schedule, force) {\n        const isDiff = JSON.stringify(schedule) !== JSON.stringify(this.state.schedule);\n        if (force || isDiff) {\n            isDiff && this.setState({schedule, desc: this.state2text(schedule)});\n            const copy = JSON.parse(JSON.stringify(schedule));\n            if (copy.period.once) {\n                let once = copy.period.once;\n                delete copy.period;\n                copy.period = {once};\n                delete copy.valid;\n            } else\n            if (copy.period.days) {\n                let days = copy.period.days;\n                let dows = copy.period.dows;\n                delete copy.period;\n                copy.period = {days};\n                if (dows && dows !== '[]') {\n                    copy.period.dows = dows;\n                }\n            } else\n            if (copy.period.weeks) {\n                let weeks = copy.period.weeks;\n                let dows = copy.period.dows;\n                delete copy.period;\n                copy.period = {weeks};\n                if (dows && dows !== '[]') {\n                    copy.period.dows = dows;\n                }\n            } else\n            if (copy.period.months) {\n                let months = copy.period.months;\n                let dates = copy.period.dates;\n                delete copy.period;\n                copy.period = {months};\n                if (dates && dates !== '[]') {\n                    copy.period.dates = dates;\n                }\n            } else\n            if (copy.period.years) {\n                let years = copy.period.years;\n                let yearMonth = copy.period.yearMonth;\n                let yearDate = copy.period.yearDate;\n                delete copy.period;\n                copy.period = {years, yearDate};\n                if (yearMonth) {\n                    copy.period.yearMonth = yearMonth;\n                }\n            }\n\n            if (copy.time.exactTime) {\n                delete copy.time.end;\n                delete copy.time.mode;\n                delete copy.time.interval;\n            } else {\n                delete copy.time.exactTime;\n            }\n            if (copy.valid) {\n                if (!copy.valid.to) {\n                    delete copy.valid.to;\n                }\n                if (copy.period.days === 1 || copy.period.weeks === 1 || copy.period.months === 1 || copy.period.years === 1) {\n                    const from = this.string2date(copy.valid.from);\n                    const today = new Date();\n                    today.setHours(0);\n                    today.setMinutes(0);\n                    today.setSeconds(0);\n                    today.setMilliseconds(0);\n                    if (from <= today) {\n                        delete copy.valid.from;\n                    }\n                }\n                if (!copy.valid.from && !copy.valid.to) {\n                    delete copy.valid;\n                }\n            }\n\n            this.props.onChange && this.props.onChange(JSON.stringify(copy));\n        }\n    }\n\n    state2text(schedule) {\n        let desc = [];\n        let validFrom = this.string2date(schedule.valid.from);\n        if (schedule.period.once) {\n            // once\n            let once = this.string2date(schedule.period.once);\n            let now = new Date();\n            now.setMilliseconds(0);\n            now.setSeconds(0);\n            now.setMinutes(0);\n            now.setHours(0);\n\n            //\n            if (once < now) {\n                // will ne be not executed any more, because start is in the past\n                return I18n.t('sch_desc_onceInPast');\n            } else {\n                // only once\n                desc.push(I18n.t('sch_desc_once_on', schedule.period.once));\n            }\n        } else\n        if (schedule.period.days) {\n            if (schedule.period.days === 1) {\n                if (schedule.period.dows) {\n                    const dows = JSON.parse(schedule.period.dows);\n                    if (dows.length === 2 && dows[0] === 0 && dows[1] === 6) {\n                        // on weekends\n                        desc.push(I18n.t('sch_desc_onWeekends'));\n                    } else if (dows.length === 5 && dows[0] === 1 && dows[1] === 2 && dows[2] === 3 && dows[3] === 4 && dows[4] === 5) {\n                        // on workdays\n                        desc.push(I18n.t('sch_desc_onWorkdays'));\n                    } else {\n                        const tDows = dows.map(day => I18n.t(WEEKDAYS[day]));\n                        if (tDows.length === 1) {\n                            // on Monday\n                            desc.push(I18n.t('sch_desc_onWeekday', tDows[0]));\n                        } else if (tDows.length === 7) {\n                            // on every day\n                            desc.push(I18n.t('sch_desc_everyDay'));\n                        } else {\n                            const last = tDows.pop();\n                            // on Monday and Sunday\n                            desc.push(I18n.t('sch_desc_onWeekdays', tDows.join(', '), last));\n                        }\n                    }\n                } else {\n                    desc.push(I18n.t('sch_desc_everyDay'));\n                }\n            } else {\n                desc.push(I18n.t('sch_desc_everyNDay', schedule.period.days));\n            }\n        } else\n        if (schedule.period.weeks) {\n            if (schedule.period.weeks === 1) {\n                desc.push(I18n.t('sch_desc_everyWeek'));\n            } else {\n                desc.push(I18n.t('sch_desc_everyNWeeks', schedule.period.weeks));\n            }\n\n            if (schedule.period.dows) {\n                const dows = JSON.parse(schedule.period.dows);\n                if (dows.length === 2 && dows[0] === 0 && dows[1] === 6) {\n                    // on weekends\n                    desc.push(I18n.t('sch_desc_onWeekends'));\n                } else if (dows.length === 5 && dows[0] === 1 && dows[1] === 2 && dows[2] === 3 && dows[3] === 4 && dows[4] === 5) {\n                    // on workdays\n                    desc.push(I18n.t('sch_desc_onWorkdays'));\n                } else {\n                    const tDows = dows.map(day => I18n.t(WEEKDAYS[day]));\n                    if (tDows.length === 1) {\n                        // on Monday\n                        desc.push(I18n.t('sch_desc_onWeekday', tDows[0]));\n                    } else if (tDows.length === 7) {\n                        // on every day\n                        desc.push(I18n.t('sch_desc_everyDay'));\n                    } else {\n                        const last = tDows.pop();\n                        // on Monday and Sunday\n                        desc.push(I18n.t('sch_desc_onWeekdays', tDows.join(', '), last));\n                    }\n                }\n            } else {\n                return I18n.t('sch_desc_never');\n            }\n        } else\n        if (schedule.period.months) {\n            if (schedule.period.dates) {\n                const dates = JSON.parse(schedule.period.dates);\n                if (dates.length === 1) {\n                    // in 1 of month\n                    desc.push(I18n.t('sch_desc_onDate', dates[0]));\n                } else if (dates.length === 31) {\n                    desc.push(I18n.t('sch_desc_onEveryDate'));\n                } else if (!dates.length) {\n                    return I18n.t('sch_desc_never');\n                } else {\n                    const last = dates.pop();\n                    // in 1 and 4 of month\n                    desc.push(I18n.t('sch_desc_onDates', dates.join(', '), last));\n                }\n            } else {\n                desc.push(I18n.t('sch_desc_onEveryDate'));\n            }\n\n            if (schedule.period.months === 1) {\n                desc.push(I18n.t('sch_desc_everyMonth'));\n            } else if (typeof schedule.period.months === 'number') {\n                desc.push(I18n.t('sch_desc_everyNMonths', schedule.period.months));\n            } else {\n                const months = JSON.parse(schedule.period.months);\n                const tMonths = months.map(month => I18n.t(MONTHS[month - 1]));\n                if (!tMonths.length) {\n                    // in January\n                    return I18n.t('sch_desc_never');\n                } else if (tMonths.length === 1) {\n                    // in January\n                    desc.push(I18n.t('sch_desc_onMonth', tMonths[0]));\n                } else if (tMonths.length === 12) {\n                    // every month\n                    desc.push(I18n.t('sch_desc_everyMonth'));\n                } else {\n                    const last = tMonths.pop();\n                    // in January and May\n                    desc.push(I18n.t('sch_desc_onMonths', tMonths.join(', '), last));\n                }\n            }\n        }\n        else\n        if (schedule.period.years) {\n            if (schedule.period.years === 1) {\n                desc.push(I18n.t('sch_desc_everyYear'));\n            } else {\n                desc.push(I18n.t('sch_desc_everyNYears', schedule.period.years));\n            }\n            desc.push(I18n.t('sch_desc_onDate', schedule.period.yearDate, schedule.period.yearMonth ? I18n.t(MONTHS[schedule.period.yearMonth - 1]) : I18n.t('sch_desc_everyMonth')));\n        }\n\n        // time\n        if (schedule.time.exactTime) {\n            if (ASTRO.indexOf(schedule.time.start) !== -1) {\n                // at sunset\n                desc.push(I18n.t('sch_desc_atTime', I18n.t('sch_astro_' + schedule.time.start)));\n            } else {\n                // at HH:MM\n                desc.push(I18n.t('sch_desc_atTime', schedule.time.start));\n            }\n        } else {\n            if (schedule.time.mode === PERIODS.minutes) {\n                if (schedule.time.interval === 1) {\n                    // every minute\n                    desc.push(I18n.t('sch_desc_everyMinute'));\n                } else {\n                    // every N minutes\n                    desc.push(I18n.t('sch_desc_everyNMinutes', schedule.time.interval));\n                }\n            } else {\n                if (schedule.time.interval === 1) {\n                    // every minute\n                    desc.push(I18n.t('sch_desc_everyHour'));\n                } else {\n                    // every N minutes\n                    desc.push(I18n.t('sch_desc_everyNHours', schedule.time.interval));\n                }\n            }\n            const start = ASTRO.indexOf(schedule.time.start) !== -1 ? I18n.t('sch_astro_' + schedule.time.start) : schedule.time.start;\n            const end = ASTRO.indexOf(schedule.time.end) !== -1 ? I18n.t('sch_astro_' + schedule.time.end) : schedule.time.end;\n            if (start !== '00:00' || (end !== '24:00' && end !== '23:59')) {\n                // from HH:mm to HH:mm\n                desc.push(I18n.t('sch_desc_intervalFromTo', start, end));\n            }\n        }\n\n        if (!schedule.period.once) {\n            // valid\n            if (validFrom.getTime() > Date.now() && schedule.valid.to) {\n                // from XXX to XXXX\n                desc.push(I18n.t('sch_desc_validFromTo', schedule.valid.from, schedule.valid.to));\n            } else if (validFrom.getTime() > Date.now()) {\n                // from XXXX\n                desc.push(I18n.t('sch_desc_validFrom', schedule.valid.from));\n            } else if (schedule.valid.to) {\n                // till XXXX\n                desc.push(I18n.t('sch_desc_validTo', schedule.valid.to));\n            }\n        }\n        return desc.join(' ');\n    }\n\n    getTimePeriodElements() {\n        const schedule = this.state.schedule;\n        let wholeDay = false;\n        let day = false;\n        let night = false;\n        let fromTo = true;\n        if (schedule.time.start === '00:00' && schedule.time.end === '24:00') {\n            wholeDay = true;\n            fromTo = false;\n        } else if (schedule.time.start === 'sunrise') {\n            day = true;\n            fromTo = false;\n        } else if (schedule.time.start === 'sunset') {\n            night = true;\n            fromTo = false;\n        }\n\n        return (\n            <div key=\"timePeriod\" className={this.props.classes.rowDiv}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={!schedule.time.exactTime} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.exactTime = false;\n                        this.onChange(_schedule);\n                    }}/>} label={I18n.t('sch_intervalTime')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>\n                        {!schedule.time.exactTime && (<div>\n                            <div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={fromTo} onClick={() => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.time.start = '00:00';\n                                _schedule.time.end = '23:59';\n                                this.onChange(_schedule);\n                            }}/>} label={!fromTo ? I18n.t('sch_fromTo') : ''} />\n                                {fromTo && [\n                                    (<TextField\n                                        className={this.props.classes.inputTime}\n                                        style={{marginRight: 10}}\n                                        key=\"exactTimeFrom\"\n                                        type=\"time\"\n                                        value={this.state.schedule.time.start}\n                                        //InputProps={{inputComponent: TextTime}}\n                                        onChange={e => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.time.start = e.target.value;\n                                            this.onChange(_schedule);\n                                        }}\n                                        InputLabelProps={{shrink: true,}}\n                                        label={I18n.t('sch_from')}\n                                        margin=\"normal\"\n                                    />),\n                                    (<TextField\n                                        className={this.props.classes.inputTime}\n                                        key=\"exactTimeTo\"\n                                        type=\"time\"\n                                        value={this.state.schedule.time.end}\n                                        //InputProps={{inputComponent: TextTime}}\n                                        onChange={e => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.time.end = e.target.value;\n                                            this.onChange(_schedule);\n                                        }}\n                                        InputLabelProps={{shrink: true,}}\n                                        label={I18n.t('sch_to')}\n                                        margin=\"normal\"\n                                    />)\n                                ]}\n                            </div>\n                        </div>)}\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={wholeDay} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = '00:00';\n                            _schedule.time.end = '24:00';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_wholeDay')} /></div>) }\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={day} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = 'sunrise';\n                            _schedule.time.end = 'sunset';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_astroDay')} /></div>) }\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={night} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = 'sunset';\n                            _schedule.time.end = 'sunrise';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_astroNight')} /></div>) }\n                    </div>\n                    {!schedule.time.exactTime && this.getPeriodSettingsMinutes()}\n                </div>\n            </div>);\n    }\n\n    getTimeExactElements() {\n        const isAstro = ASTRO.indexOf(this.state.schedule.time.start) !== -1;\n\n        return (<div key=\"timeExact\"  className={this.props.classes.rowDiv}>\n            <div className={this.props.classes.modeDiv}>\n                <FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={this.state.schedule.time.exactTime} onClick={() => {\n                    const schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    schedule.time.exactTime = true;\n                    this.onChange(schedule);\n                }}/>} label={I18n.t('sch_exactTime')} />\n            </div>\n            {this.state.schedule.time.exactTime &&\n                (<Select value={isAstro ? this.state.schedule.time.start : '00:00'}\n                         onChange={e => {\n                             const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                             _schedule.time.start = e.target.value;\n                             this.onChange(_schedule);\n                         }}\n                >\n                    <MenuItem key=\"specific\" value={'00:00'}>{I18n.t('sch_specificTime')}</MenuItem>\n                    {ASTRO.map(event => (<MenuItem key={event} value={event}>{I18n.t('sch_astro_' + event)}</MenuItem>))}\n                </Select>)\n            }\n            {this.state.schedule.time.exactTime && !isAstro &&\n                (<div className={this.props.classes.settingsDiv}><TextField\n                    className={this.props.classes.inputTime}\n                    key=\"exactTimeValue\"\n                    value={this.state.schedule.time.start}\n                    type=\"time\"\n                    // inputComponent={TextTime}\n                    onChange={e => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.start = e.target.value;\n                        this.onChange(_schedule);\n                    }}\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                /></div>)\n            }\n        </div>)\n    }\n\n    getDivider() {\n        return (<hr className={this.props.classes.hr}/>);\n    }\n\n    getPeriodModes() {\n        const schedule = this.state.schedule;\n        const isOnce = !schedule.period.dows && !schedule.period.months && !schedule.period.dates && !schedule.period.years && !schedule.period.days && !schedule.period.weeks;\n        if (isOnce && !schedule.period.once) {\n            schedule.period.once = this.now2string(true);\n        }\n\n        return [\n            // ----- once ---\n            (<div key=\"once\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowOnce}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={isOnce} onClick={() => {\n                                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.once = _schedule.period.once || this.now2string(true);\n                                    _schedule.period.dows = '';\n                                    _schedule.period.months = '';\n                                    _schedule.period.dates = '';\n                                    _schedule.period.years = 0;\n                                    _schedule.period.yearDate = 0;\n                                    _schedule.period.yearMonth = 0;\n                                    _schedule.period.weeks = 0;\n                                    _schedule.period.days = 0;\n                                    this.onChange(_schedule);\n                                }}/>)}\n                              label={I18n.t('sch_periodOnce')} />\n                </div>\n                {isOnce && (<div className={this.props.classes.settingsDiv}>\n                    {<TextField\n                        className={this.props.classes.inputDate}\n                        type=\"date\"\n                        ref={this.refOnce}\n                        key=\"exactDateAt\"\n                        defaultValue={string2USdate(schedule.period.once)}\n                        //InputProps={{inputComponent: TextTime}}\n                        onChange={e => {\n                            this.timerOnce && clearTimeout(this.timerOnce);\n\n                            this.refOnce.current.style.background = '#ff000030';\n                            this.timerOnce = setTimeout(value => {\n                                this.timerOnce = null;\n                                this.refOnce.current.style.background = '';\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const date = this.string2date(value);\n                                if (date.toString() !== 'Invalid Date') {\n                                    _schedule.period.once = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                    this.onChange(_schedule);\n                                }\n                            }, 1500, e.target.value);\n                        }}\n                        InputLabelProps={{shrink: true,}}\n                        label={I18n.t('sch_at')}\n                        margin=\"normal\"\n                    />}\n                </div>)}\n            </div>),\n\n\n            // ----- days ---\n            (<div key=\"days\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDays}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.days} onClick={() => {\n                               const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.days = 1;\n                                _schedule.period.dows = '';\n                                _schedule.period.months = '';\n                                _schedule.period.dates = '';\n                                _schedule.period.years = 0;\n                                _schedule.period.yearDate = 0;\n                                _schedule.period.yearMonth = 0;\n                                _schedule.period.weeks = 0;\n                                _schedule.period.once = '';\n                               this.onChange(_schedule);\n                           }}/>)}\n                           label={I18n.t('sch_periodDaily')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    {this.getPeriodSettingsDaily()}\n                    {schedule.period.days ? this.getPeriodSettingsWeekdays() : null}\n                </div>\n            </div>),\n\n\n            // ----- days of weeks ---\n            /*!schedule.period.days && (\n                <div key=\"dows\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDows}>\n                    <div className={this.props.classes.modeDiv}>\n                        <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.dows} onClick={() => {\n                            const schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            schedule.period.dows = schedule.period.dows ? '' : '[0,1,2,3,4,5,6]';\n                            this.onChange(schedule);\n                        }}/>)}\n                        label={I18n.t('sch_periodWeekdays')} />\n                    </div>\n                    <div className={this.props.classes.settingsDiv}>\n                        {this.getPeriodSettingsWeekdays()}\n                    </div>\n                </div>),\n*/\n            // ----- weeks ---\n            (<div key=\"weeks\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDows}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.weeks} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.period.weeks = schedule.period.weeks ? 0 : 1;\n                        _schedule.period.dows = schedule.period.dows || '[0]';\n                        _schedule.period.months = '';\n                        _schedule.period.dates = '';\n                        _schedule.period.years = 0;\n                        _schedule.period.yearDate = 0;\n                        _schedule.period.yearMonth = 0;\n                        _schedule.period.days = 0;\n                        _schedule.period.once = '';\n                        this.onChange(_schedule);\n                    }}/>)}\n                    label={I18n.t('sch_periodWeekly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>{this.getPeriodSettingsWeekly()}</div>\n                    <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowDowsDows}>{this.state.schedule.period.weeks ? this.getPeriodSettingsWeekdays() : null}</div>\n                </div>\n            </div>),\n\n\n            // ----- months ---\n            (<div key=\"months\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowMonths}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.months} onClick={() => {\n                           const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.months = 1;\n                            _schedule.period.dows = '';\n                            _schedule.period.dates = '';\n                            _schedule.period.years = 0;\n                            _schedule.period.yearDate = 0;\n                            _schedule.period.yearMonth = 0;\n                            _schedule.period.weeks = 0;\n                            _schedule.period.days = 0;\n                            _schedule.period.once = '';\n                           this.onChange(_schedule);\n                       }}/>)}\n                       label={I18n.t('sch_periodMonthly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    {this.getPeriodSettingsMonthly()}\n                    {schedule.period.months ? (<div>\n                        <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowMonthsDates}>\n                            <FormControlLabel control={(<Checkbox className={this.props.classes.inputRadio} checked={!!schedule.period.dates} onClick={() => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.months = _schedule.period.months || 1;\n                                const dates = [];\n                                for (let i = 1; i <= 31; i++) {\n                                    dates.push(i);\n                                }\n                                _schedule.period.dates = _schedule.period.dates || JSON.stringify(dates);\n                                _schedule.period.dows = '';\n                                _schedule.period.years = 0;\n                                _schedule.period.yearDate = 0;\n                                _schedule.period.yearMonth = 0;\n                                _schedule.period.weeks = 0;\n                                _schedule.period.days = 0;\n                                _schedule.period.once = '';\n\n                                this.onChange(_schedule);\n                            }}/>)}\n                            label={I18n.t('sch_periodDates')} /></div>\n                        <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowMonthsDates}>\n                            {this.getPeriodSettingsDates()}\n                        </div>\n                    </div>) : null}\n                </div>\n            </div>),\n\n\n            // ----- years ---\n            (<div key=\"years\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowYears}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.years} onClick={() => {\n                       const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.period.years = 1;\n                        _schedule.period.yearDate = 1;\n                        _schedule.period.yearMonth = 1;\n                        _schedule.period.dows = '';\n                        _schedule.period.months = 0;\n                        _schedule.period.dates = '';\n                        _schedule.period.weeks = 0;\n                        _schedule.period.days = 0;\n                        _schedule.period.once = '';\n                       this.onChange(_schedule);\n                   }}/>)}\n                   label={I18n.t('sch_periodYearly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>{this.getPeriodSettingsYearly()}</div>\n                    {!!schedule.period.years && (<div className={this.props.classes.settingsDiv}>\n                        <span>{I18n.t('sch_on')}</span>\n                        <Input key=\"input\" value={this.state.schedule.period.yearDate} className={this.props.classes.inputEvery} type=\"number\" min=\"1\" max=\"31\" onChange={e => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.yearDate = parseInt(e.target.value, 10);\n                            if (_schedule.period.yearDate < 1) _schedule.period.yearDate = 31;\n                            if (_schedule.period.yearDate > 31) _schedule.period.yearDate = 1;\n                            this.onChange(_schedule);\n                        }} />\n                        <Select value={schedule.period.yearMonth}\n                             onChange={e => {\n                                 const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                 _schedule.period.yearMonth = e.target.value;\n                                 this.onChange(_schedule);\n                             }}\n                        >\n                            <MenuItem key=\"every\" value={0}>{I18n.t('sch_yearEveryMonth')}</MenuItem>\n                            {MONTHS.map((month, i) => (<MenuItem key={month} value={i + 1}>{I18n.t(month)}</MenuItem>))}\n                        </Select>\n                    </div>)}\n                </div>\n            </div>),\n        ];\n    }\n\n    getPeriodSettingsMinutes() {\n        return (<div style={{display: 'inline-block'}}>\n            <label>{I18n.t('sch_every')}</label>\n            <Input value={this.state.schedule.time.interval}\n                   style={{ verticalAlign: 'bottom'}}\n                   className={this.props.classes.inputEvery} type=\"number\" min=\"1\" onChange={e => {\n                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                _schedule.time.interval = parseInt(e.target.value, 10);\n                this.onChange(_schedule);\n            }} />\n            <Select value={this.state.schedule.time.mode}\n                    onChange={e => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.mode = e.target.value;\n                        this.onChange(_schedule);\n                    }}\n            >\n                <MenuItem value={PERIODS.minutes}>{I18n.t('sch_periodMinutes')}</MenuItem>\n                <MenuItem value={PERIODS.hours}>{I18n.t('sch_periodHours')}</MenuItem>\n            </Select>\n        </div>);\n    }\n\n    getPeriodSettingsWeekdays() {\n        // || this.state.schedule.period.dows === '[1, 2, 3, 4, 5]' || this.state.schedule.period.dows === '[0, 6]'\n        const schedule = this.state.schedule;\n        const isSpecific = schedule.period.dows && schedule.period.dows !== '[1, 2, 3, 4, 5]' && schedule.period.dows !== '[0, 6]';\n        return [\n            (<div key=\"workdays\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.dows === '[1, 2, 3, 4, 5]'} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[1, 2, 3, 4, 5]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)}\n                label={I18n.t('sch_periodWorkdays')} /></div>),\n\n            (<div key=\"weekend\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.dows === '[0, 6]'} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[0, 6]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)}\n                label={I18n.t('sch_periodWeekend')} /></div>),\n\n            (<div key=\"specific\" style={{verticalAlign: 'top'}}><FormControlLabel style={{verticalAlign: 'top'}}\n                                                                   control={(<Radio className={this.props.classes.inputRadio} checked={isSpecific} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[0,1,2,3,4,5,6]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)\n                }\n                label={I18n.t('sch_periodWeekdays')} />\n                {isSpecific && (schedule.period.days === 1 || schedule.period.weeks) && (<FormGroup row className={this.props.classes.inputGroup} style={{width: 150}}>\n                    {[1,2,3,4,5,6,0].map(i =>\n                        (<FormControlLabel key={'specific_' + i} className={this.props.classes.inputGroupElement} control={\n                              <Checkbox className={this.props.classes.inputSmallCheck} checked={schedule.period.dows.indexOf('' + i) !== -1}\n                                    onChange={e => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        let dows;\n                                        try {\n                                            dows = JSON.parse(_schedule.period.dows);\n                                        } catch (e) {\n                                            dows = [];\n                                        }\n                                        if (e.target.checked && dows.indexOf(i) === -1) {\n                                            dows.push(i);\n                                        } else if (!e.target.checked && dows.indexOf(i) !== -1) {\n                                            dows.splice(dows.indexOf(i), 1);\n                                        }\n                                        dows.sort((a, b) => a - b);\n                                        _schedule.period.dows = JSON.stringify(dows);\n                                        if (_schedule.period.days) {\n                                            _schedule.period.days = 1;\n                                        }\n                                        this.onChange(_schedule);\n                                    }}\n                              />\n                          }\n                          label={I18n.t(WEEKDAYS[i])}\n                        />))}\n                </FormGroup>)}\n            </div>),\n            ];\n    }\n\n    getPeriodSettingsDaily() {\n        if (!this.state.schedule.period.days) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div key=\"every_day\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.days === 1 && !schedule.period.dows} onClick={() => {\n                                   const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.days = 1;\n                                    _schedule.period.dows = '';\n                                   this.onChange(_schedule);\n                               }}/>)}\n                                    label={I18n.t('sch_periodEveryDay')} /></div>),\n            (<div key=\"everyN_day\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.days > 1} onClick={() => {\n                                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.days = 2;\n                                    _schedule.period.dows = '';\n                                    this.onChange(_schedule);\n                               }}/>)}\n                                    label={I18n.t('sch_periodEvery')} />\n                {schedule.period.days > 1 && [(<Input key=\"input\" value={this.state.schedule.period.days} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.days = parseInt(e.target.value, 10);\n                    _schedule.period.dows = '';\n                    this.onChange(_schedule);\n                }} />), (<span key=\"span\" style={{paddingRight: 10}}>{I18n.t('sch_periodDay')}</span>)]}\n            </div>),\n            ];\n    }\n\n    getPeriodSettingsWeekly() {\n        if (!this.state.schedule.period.weeks) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div key=\"radios\" style={{display: 'inline-block', verticalAlign: 'top'}}>\n                    <div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.weeks === 1} onClick={() => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.period.weeks = 1;\n                                            this.onChange(_schedule);\n                                        }}/>)\n                                        }\n                                             label={I18n.t('sch_periodEveryWeek')} /></div>\n                    <div>\n                        <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.weeks > 1} onClick={() => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.period.weeks = 2;\n                                            this.onChange(_schedule);\n                                        }}/>)\n                                        }\n                                        label={I18n.t('sch_periodEvery')} />\n                        {schedule.period.weeks > 1 && [(<Input value={this.state.schedule.period.weeks} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.weeks = parseInt(e.target.value, 10);\n                            this.onChange(_schedule);\n                        }} />), (<span>{I18n.t('sch_periodWeek')}</span>)]}\n                    </div>\n                </div>),\n            ];\n    }\n\n    getPeriodSettingsDates() {\n        if (!this.state.schedule.period.dates) {\n            return;\n        }\n        const schedule = this.state.schedule;\n\n        const dates = [];\n        for (let i = 1; i <= 31; i++) {\n            dates.push(i);\n        }\n\n        const parsedDates = JSON.parse(schedule.period.dates);\n\n        return (\n            <FormGroup row className={this.props.classes.inputGroup} style={{maxWidth: 620}}>\n                <FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={parsedDates.length === 31}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const dates = [];\n                                for (let i = 1; i <= 31; i++) {\n                                    dates.push(i);\n                                }\n                                _schedule.period.dates = JSON.stringify(dates);\n                                this.onChange(_schedule);\n                            }}\n                      />\n                    } label={I18n.t('sch_all')}\n                />\n                <FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={!parsedDates.length}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.dates = '[]';\n                                this.onChange(_schedule);\n                            }}\n                        />\n                    } label={I18n.t('sch_no_one')}\n                />\n                {parsedDates.length !== 31 && !!parsedDates.length && (<FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={false}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const result = [];\n                                const parsedDates = JSON.parse(_schedule.period.dates);\n                                for (let i = 1; i <= 31; i++) {\n                                    if (parsedDates.indexOf(i) === -1) {\n                                        result.push(i);\n                                    }\n                                }\n                                result.sort((a, b) => a - b);\n                                _schedule.period.dates = JSON.stringify(result);\n                                this.onChange(_schedule);\n                            }}\n                        />\n                    } label={I18n.t('sch_invert')}\n                />)}\n                <div/>\n            {dates.map(i =>\n                (<FormControlLabel key={'date_' + i} className={this.props.classes.inputDateDay} style={!i ? {opacity: 0, cursor: 'default', userSelect: 'none', pointerEvents: 'none'}: {}}\n                      control={\n                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={JSON.parse(schedule.period.dates).indexOf(i) !== -1}\n                                    onChange={e => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        let dates;\n                                        try {\n                                            dates = JSON.parse(_schedule.period.dates);\n                                        } catch (e) {\n                                            dates = [];\n                                        }\n                                        if (e.target.checked && dates.indexOf(i) === -1) {\n                                            dates.push(i);\n                                        } else if (!e.target.checked && dates.indexOf(i) !== -1) {\n                                            dates.splice(dates.indexOf(i), 1);\n                                        }\n                                        dates.sort((a, b) => a - b);\n                                        _schedule.period.dates = JSON.stringify(dates);\n                                        this.onChange(_schedule);\n                                    }}\n                          />\n                      } label={i < 10 ? [(<span key=\"0\" style={{opacity: 0}}>0</span>), (<span key=\"num\">{i}</span>)] : i}\n                />))}\n            </FormGroup>);\n    }\n\n    getPeriodSettingsMonthly() {\n        if (!this.state.schedule.period.months) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        const parsedMonths = typeof schedule.period.months === 'string' ? JSON.parse(schedule.period.months)  : [];\n\n        return [\n            (<div key=\"every\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'number' && schedule.period.months === 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = 1;\n                                        this.onChange(schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEveryMonth')} /></div>),\n            (<div key=\"everyN\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'number' && schedule.period.months > 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = 2;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEvery')} />\n                {typeof schedule.period.months === 'number' && schedule.period.months > 1 && [(<Input value={schedule.period.months} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.months = parseInt(e.target.value, 10);\n                    if (_schedule.period.months < 1) _schedule.period.months = 1;\n                    this.onChange(_schedule);\n                }} />), (<span>{I18n.t('sch_periodMonth')}</span>)]}\n            </div>),\n            (<div  key=\"specific\" style={{verticalAlign: 'top'}}><FormControlLabel style={{verticalAlign: 'top'}} control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'string'} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = '[1,2,3,4,5,6,7,8,9,10,11,12]';\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodSpecificMonths')} />\n                {typeof schedule.period.months === 'string' &&\n                (<FormGroup row className={this.props.classes.inputGroup}>\n                    <FormControlLabel className={this.props.classes.inputDateDay}\n                                      control={\n                                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={parsedMonths.length === 12}\n                                                    onChange={e => {\n                                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                        const months = [];\n                                                        for (let i = 1; i <= 12; i++) {\n                                                            months.push(i);\n                                                        }\n                                                        _schedule.period.months = JSON.stringify(months);\n                                                        this.onChange(_schedule);\n                                                    }}\n                                          />\n                                      } label={I18n.t('sch_all')}\n                    />\n                    <FormControlLabel className={this.props.classes.inputDateDay}\n                                      control={\n                                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={!parsedMonths.length}\n                                                    onChange={e => {\n                                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                        _schedule.period.months = '[]';\n                                                        this.onChange(_schedule);\n                                                    }}\n                                          />\n                                      } label={I18n.t('sch_no_one')}\n                    />\n                    {parsedMonths.length !== 12 && !!parsedMonths.length && (<FormControlLabel className={this.props.classes.inputDateDay}\n                                                                                             control={\n                                                                                                 <Checkbox className={this.props.classes.inputDateDayCheck} checked={false}\n                                                                                                           onChange={e => {\n                                                                                                               const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                                                                               const result = [];\n                                                                                                               const parsedMonths = JSON.parse(_schedule.period.months);\n                                                                                                               for (let i = 1; i <= 12; i++) {\n                                                                                                                   if (parsedMonths.indexOf(i) === -1) {\n                                                                                                                       result.push(i);\n                                                                                                                   }\n                                                                                                               }\n                                                                                                               result.sort((a, b) => a - b);\n                                                                                                               _schedule.period.months = JSON.stringify(result);\n                                                                                                               this.onChange(_schedule);\n                                                                                                           }}\n                                                                                                 />\n                                                                                             } label={I18n.t('sch_invert')}\n                    />)}\n                    <div/>\n                    {MONTHS.map((month, i) => (<FormControlLabel className={this.props.classes.inputGroupElement}\n                        control={\n                            <Checkbox className={this.props.classes.inputSmallCheck} checked={JSON.parse(schedule.period.months).indexOf(i + 1) !== -1}\n                                      onChange={e => {\n                                          const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                          let months;\n                                          try {\n                                              months = JSON.parse(_schedule.period.months);\n                                          } catch (e) {\n                                              months = [];\n                                          }\n                                          if (e.target.checked && months.indexOf(i + 1) === -1) {\n                                              months.push(i + 1);\n                                          } else if (!e.target.checked && months.indexOf(i + 1) !== -1) {\n                                              months.splice(months.indexOf(i + 1), 1);\n                                          }\n                                          months.sort((a, b) => a - b);\n                                          _schedule.period.months = JSON.stringify(months);\n                                          this.onChange(_schedule);\n                                      }}\n                            />\n                        }\n                        label={I18n.t(month)}\n                    />))}\n                </FormGroup>)}\n            </div>),\n        ];\n    }\n\n    getPeriodSettingsYearly() {\n        if (!this.state.schedule.period.years) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.years === 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.years = 1;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEveryYear')} /></div>),\n            (<div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.years > 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.years = 2;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEvery')} />\n                {schedule.period.years > 1 && [(<Input value={this.state.schedule.period.years} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.years = parseInt(e.target.value, 10);\n                    if (_schedule.period.years < 1) _schedule.period.years = 1;\n                    this.onChange(_schedule);\n                }} />), (<span>{I18n.t('sch_periodYear')}</span>)]}\n            </div>),\n        ];\n    }\n\n    now2string(isEnd) {\n        const d = new Date();\n        d.setHours(0);\n        d.setMinutes(0);\n        d.setSeconds(0);\n        d.setMilliseconds(0);\n        if (isEnd) {\n            d.setDate(d.getDate() + 2);\n            d.setMilliseconds(d.getMilliseconds() - 1);\n        }\n\n        return padding(d.getDate()) + '.' + padding(d.getMonth() + 1) + '.' + padding(d.getFullYear());\n    }\n\n    string2date(str) {\n        let parts = str.split('.'); // 31.12.2019\n        if (parts.length === 1) {\n            parts = str.split('-'); // 2018-12-31\n            return new Date(parseInt(parts[0], 10), parseInt(parts[1], 10) - 1, parseInt(parts[2], 10));\n        } else {\n            return new Date(parseInt(parts[2], 10), parseInt(parts[1], 10) - 1, parseInt(parts[0], 10));\n        }\n    }\n\n    getValidSettings() {\n        const schedule = this.state.schedule;\n        // ----- from ---\n        return (\n            <div className={this.props.classes.rowDiv}>\n                <div className={this.props.classes.modeDiv} style={{verticalAlign: 'middle'}}>\n                    <span style={{fontWeight: 'bold', paddingRight: 10}}>{I18n.t('sch_valid')}</span>\n                    <span>{I18n.t('sch_validFrom')}</span>\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <TextField\n                        className={this.props.classes.inputDate}\n                        style={{marginRight: 10}}\n                        key=\"exactTimeFrom\"\n                        inputRef={this.refFrom}\n                        defaultValue={string2USdate(schedule.valid.from)}\n                        type=\"date\"\n                        //inputComponent={TextDate}\n                        onChange={e => {\n                            this.timerFrom && clearTimeout(this.timerFrom);\n\n                            this.refFrom.current.style.background = '#ff000030';\n\n                            this.timerFrom = setTimeout(value => {\n                                this.timerFrom = null;\n                                this.refFrom.current.style.background = '';\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const date = this.string2date(value);\n                                if (date.toString() !== 'Invalid Date') {\n                                    _schedule.valid.from = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                    this.onChange(_schedule);\n                                }\n                            }, 1500, e.target.value);\n                        }}\n                        InputLabelProps={{shrink: true,}}\n                        margin=\"normal\"\n                    />\n                    <FormControlLabel control={(<Checkbox className={this.props.classes.inputRadio} checked={!!schedule.valid.to} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.valid.to = _schedule.valid.to ? '' : this.now2string(true);\n                        this.onChange(_schedule);\n                    }}/>)}\n                        label={I18n.t('sch_validTo')} />\n                        {!!schedule.valid.to && (\n                            <TextField\n                                inputRef={this.refTo}\n                                className={this.props.classes.inputDate}\n                                style={{marginRight: 10}}\n                                key=\"exactTimeFrom\"\n                                type=\"date\"\n                                defaultValue={string2USdate(schedule.valid.to)}\n                                //inputComponent={TextDate}\n                                onChange={e => {\n                                    this.timerTo && clearTimeout(this.timerTo);\n\n                                    this.refTo.current.style.background = '#ff000030';\n                                    this.timerTo = setTimeout(value => {\n                                        this.timerTo = null;\n                                        this.refTo.current.style.background = '';\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        const date = this.string2date(value);\n                                        if (date.toString() !== 'Invalid Date') {\n                                            _schedule.valid.to = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                            this.onChange(_schedule);\n                                        }\n                                    }, 1500, e.target.value);\n                                }}\n                                InputLabelProps={{shrink: true,}}\n                                margin=\"normal\"\n                            />)}\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        return (<div style={{height: 'calc(100% - 48px)', width: '100%', overflow: 'hidden'}}>\n            <div>{this.state.desc}</div>\n            <div className={this.props.classes.scrollWindow}>\n                <h5>{I18n.t('sch_time')}</h5>\n                {this.getTimePeriodElements()}\n                {this.getTimeExactElements()}\n                {this.getDivider()}\n                <h5>{I18n.t('sch_period')}</h5>\n                {this.getPeriodModes()}\n                {!this.state.schedule.period.once && this.getDivider()}\n                {!this.state.schedule.period.once && this.getValidSettings()}\n            </div>\n        </div>);\n    }\n}\n\nSchedule.propTypes = {\n    schedule: PropTypes.string,\n    onChange: PropTypes.func\n};\n\nexport default withStyles(styles)(Schedule);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles/index';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Radio from '@material-ui/core/Radio';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport ComplexCron from '../Components/ComplexCron';\nimport SimpleCron from '../Components/simple-cron/SimpleCron';\nimport Schedule from '../Components/Schedule';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\n// Generate cron expression\n\nconst styles = theme => ({\n    headerID: {\n        fontWeight: 'bold',\n        fontStyle: 'italic'\n    },\n    radio: {\n        display: 'inline-block'\n    },\n    dialogPaper: {\n        height: 'calc(100% - 96px)'\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron;\n        if (this.props.cron && typeof this.props.cron === 'string' && this.props.cron.replace(/^[\"']/, '')[0] !== '{') {\n            cron = this.props.cron.replace(/['\"]/g, '').trim();\n        } else {\n            cron = this.props.cron || '{}';\n            if (typeof cron === 'string') {\n                cron = cron.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '');\n            }\n        }\n\n        this.state =  {\n            cron,\n            mode: this.props.simple ?\n                'simple' :\n                (typeof cron === 'object' || cron[0] === '{' ?\n                    'wizard' :\n                    (SimpleCron.cron2state(this.props.cron || '* * * * *') ? 'simple' : 'complex'))\n        };\n    }\n\n    handleCancel() {\n        this.props.onClose();\n    }\n\n    handleOk() {\n        this.props.onOk(this.state.cron);\n        this.props.onClose();\n    }\n\n    setMode(mode) {\n        this.setState({mode});\n    }\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                classes={{paper: this.props.classes.dialogPaper}}\n                open={true}\n                aria-labelledby=\"cron-dialog-title\"\n            >\n                <DialogTitle id=\"cron-dialog-title\">{this.props.title || I18n.t('Define schedule...')}</DialogTitle>\n                <DialogContent style={{height: '100%', overflow: 'hidden'}}>\n                    {!this.props.simple && (<div>\n                        <Radio\n                            key=\"wizard\"\n                            checked={this.state.mode === 'wizard'}\n                            onChange={e => this.setMode('wizard')}\n                        /><label onClick={e => this.setMode('wizard')}\n                                 style={this.state.mode !== 'wizard' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_wizard')}</label>\n\n                        <Radio\n                            key=\"simple\"\n                            checked={this.state.mode === 'simple'}\n                            onChange={e => this.setMode('simple')}\n                        /><label onClick={e => this.setMode('simple')}\n                                 style={this.state.mode !== 'simple' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_simple')}</label>\n                        <Radio\n                            key=\"complex\"\n                            checked={this.state.mode === 'complex'}\n                            onChange={e => this.setMode('complex')}\n                        /><label onClick={e => this.setMode('complex')} style={this.state.mode !== 'complex' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_cron')}</label></div>)}\n\n                    {this.state.mode === 'simple' &&\n                        (<SimpleCron\n                            cronExpression={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                    {this.state.mode === 'wizard' &&\n                        (<Schedule\n                            schedule={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                    {this.state.mode === 'complex' &&\n                        (<ComplexCron\n                            cronExpression={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()}     color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{this.props.ok || I18n.t('Ok')}</Button>\n                    <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{this.props.cancel || I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogCron.propTypes = {\n    classes: PropTypes.object,\n    onClose: PropTypes.func,\n    onOk: PropTypes.func.isRequired,\n    title: PropTypes.string,\n    cron: PropTypes.string,\n    cancel: PropTypes.string,\n    ok: PropTypes.string,\n    simple: PropTypes.bool,\n    language: PropTypes.string\n\n};\n\nexport default withStyles(styles)(DialogCron);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport IconSave from '@material-ui/icons/Save';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport ScriptEditorComponent from '../Components/ScriptEditorVanilaMonaco';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    args: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        height: 30,\n        width: '100%',\n        fontSize: 16\n    },\n    argsTitle: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        fontWeight: 'bold'\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            source: this.props.source,\n        };\n        if (!this.state.source && this.props.isReturn) {\n            this.state.source = '\\nreturn false';\n        }\n\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('source-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose(false);\n    }\n\n    handleOk () {\n        if (this.props.isReturn && this.state.source.indexOf('return ') === -1) {\n\n        } else {\n            this.props.onClose(this.state.source);\n        }\n    }\n\n    onChange(value) {\n        this.setState({source: value});\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return <Dialog\n            disableBackdropClick\n            disableEscapeKeyDown\n            maxWidth=\"lg\"\n            classes={{paper: classes.dialog}}\n            fullWidth={true}\n            open={true}\n            aria-labelledby=\"source-dialog-title\"\n        >\n            <DialogTitle id=\"source-dialog-title\">{I18n.t('Function editor')}</DialogTitle>\n            <DialogContent className={classes.fullHeight}>\n                {this.props.args && (<div key=\"arguments\" className={classes.args}>\n                    <span className={classes.argsTitle}>{I18n.t('function (')}</span>\n                    {this.props.args}\n                    <span className={classes.argsTitle}>)</span>\n                </div>)}\n                <ScriptEditorComponent\n                    adapterName={this.props.adapterName}\n                    runningInstances={this.props.runningInstances}\n                    className={classes.textArea}\n                    style={{height: this.props.args ? 'calc(100% - 30px)' : '100%'}}\n                    key=\"scriptEditor\"\n                    name={'blockly'}\n                    socket={this.props.socket}\n                    readOnly={false}\n                    checkJs={false}\n                    code={this.state.source}\n                    isDark={this.props.themeType === 'dark'}\n                    onChange={newValue => this.onChange(newValue)}\n                    language={'javascript'}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => this.handleOk()} color=\"primary\"><IconSave className={this.props.classes.buttonIcon}/>{I18n.t('Save')}</Button>\n                <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogScriptEditor.propTypes = {\n    classes: PropTypes.object.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    runningInstances: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    source: PropTypes.string,\n    args: PropTypes.string,\n    isReturn: PropTypes.bool,\n    themeType: PropTypes.string,\n    socket: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogScriptEditor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport Toolbar from '@material-ui/core/Toolbar';\nimport {withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Badge from '@material-ui/core/Badge';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport {MdSave as IconSave} from 'react-icons/md';\nimport {MdCancel as IconCancel} from 'react-icons/md';\nimport {MdClose as IconClose} from 'react-icons/md';\nimport {MdRefresh as IconRestart} from 'react-icons/md';\nimport {MdInput as IconDoEdit} from 'react-icons/md';\nimport {FaClock as IconCron} from 'react-icons/fa';\nimport {FaClipboardList as IconSelectId} from 'react-icons/fa';\nimport {FaFileExport as IconExport} from 'react-icons/fa';\nimport {FaFileImport as IconImport} from 'react-icons/fa';\nimport {FaFlagCheckered as IconCheck} from 'react-icons/fa';\nimport {MdGpsFixed as IconLocate} from 'react-icons/md';\nimport {MdClearAll as IconCloseAll} from 'react-icons/md';\nimport {MdBuild as IconDebugMenu} from 'react-icons/md';\nimport {MdBugReport as IconDebug} from 'react-icons/md';\nimport {MdPlaylistAddCheck as IconVerbose} from 'react-icons/md';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgBlockly2Js from './assets/blockly2js.png'\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport ScriptEditorComponent from './Components/ScriptEditorVanilaMonaco';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport DialogConfirm from '@iobroker/adapter-react/Dialogs/Confirm';\nimport DialogSelectID from '@iobroker/adapter-react/Dialogs/SelectID';\nimport DialogCron from './Dialogs/Cron';\nimport DialogScriptEditor from './Dialogs/ScriptEditor';\n\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    def: ImgJS,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_DEBUG = '#02a102';\nconst COLOR_VERBOSE = '#70aae9';\n\nconst styles = theme => ({\n\n    toolbar: {\n        minHeight: 38,//Theme.toolbar.height,\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    toolbarButtons: {\n        padding: 4,\n        marginLeft: 4\n    },\n    editorDiv: {\n        height: `calc(100% - ${theme.toolbar.height + 38/*Theme.toolbar.height */ + 5}px)`,\n        width: '100%',\n        overflow: 'hidden',\n        position: 'relative'\n    },\n    textButton: {\n        marginRight: 10,\n        minHeight: 24,\n        padding: '6px 16px'\n    },\n    saveButton: {\n        background: '#ff9900'\n    },\n    textIcon: {\n        marginLeft: theme.spacing(1),\n    },\n    tabIcon: {\n        width: 24,\n        height: 24,\n        verticalAlign: 'middle',\n        marginBottom: 2,\n        marginRight: 2,\n        borderRadius: 3\n    },\n    hintIcon: {\n        //fontSize: 32,\n        padding: '0 8px 0 8px'\n    },\n    hintText: {\n        //fontSize: 18\n    },\n    hintButton: {\n        marginTop: 8,\n        marginLeft: 20\n    },\n    tabMenuButton: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n    },\n    tabChanged: {\n        color: theme.palette.secondary.main\n    },\n    tabText: {\n        maxWidth: 130,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    tabChangedIcon: {\n        color: '#FF0000',\n        fontSize: 16\n    },\n    closeButton: {\n        position: 'absolute',\n        top: 8,\n        right: 0,\n        zIndex: 10,\n        padding: 8,\n        cursor: 'pointer'\n    },\n    notRunning: {\n        color: '#ffbc00',\n        marginRight: theme.spacing(1)\n    },\n    tabButton: {\n\n    },\n    tabButtonWrapper: {\n        display: 'inline-block',\n    },\n    menuIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5\n    },\n});\n\nclass Editor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const selected = window.localStorage.getItem('Editor.selected') || '';\n        let editing = window.localStorage.getItem('Editor.editing') || '[]';\n        try {\n            editing = JSON.parse(editing);\n        } catch (e) {\n            editing = [];\n        }\n        if (selected && editing.indexOf(selected) === -1) {\n            editing.push(selected);\n        }\n\n        this.tabsRef = React.createRef();\n\n        this.state = {\n            selected: selected,\n            editing: editing, // array of opened scripts\n            changed: {}, // for every script\n            blockly: null,\n            debugEnabled: false,\n            verboseEnabled: false,\n            showBlocklyCode: false,\n            showSelectId: false,\n            showCron: false,\n            showScript: false,\n            insert: '',\n            searchText: '',\n            themeType: this.props.themeType,\n            visible: props.visible,\n            cmdToBlockly: '',\n            menuOpened: !!this.props.menuOpened,\n            menuTabsOpened: false,\n            menuTabsAnchorEl: null,\n            runningInstances: this.props.runningInstances || {},\n            showDebugMenu: false,\n            toast: '',\n            instancesLoaded: false,\n        };\n\n        this.setChangedInAdmin();\n\n        /* ----------------------- */\n        // required by selectIdDialog in Blockly\n        this.selectId = {\n            initValue: null,\n            callback: null\n        };\n        this.cron = {\n            initValue: null,\n            callback: null\n        };\n        this.scriptDialog = {\n            initValue: null,\n            callback: null,\n            args: null,\n            isReturn: false\n        };\n\n        window.systemLang = I18n.getLanguage();\n        window.main = {\n            objects: {},\n            getObject: (id, cb) => this.props.socket.getObject(id).then(obj => cb && cb(null, obj)).catch(err => cb && cb(err)),\n            instances: [],\n            selectIdDialog: (initValue, cb) => {\n                this.selectId.callback = cb;\n                this.selectId.initValue = initValue;\n                this.setState({showSelectId: true});\n            },\n            cronDialog: (initValue, cb) => {\n                this.cron.callback = cb;\n                this.cron.initValue = initValue;\n                this.setState({showCron: true});\n            },\n            showScriptDialog: (value, args, isReturn, cb) => {\n                this.scriptDialog.callback = cb;\n                this.scriptDialog.initValue = value;\n                this.scriptDialog.args = args;\n                this.scriptDialog.isReturn = isReturn || false;\n                this.setState({showScript: true});\n            }\n        };\n\n        this.objects = props.objects;\n        /* ----------------------- */\n\n        this.scripts = {};\n\n        if (!this.state.selected && this.state.editing.length) {\n            this.state.selected = this.state.editing[0];\n        }\n\n        this.getAllAdapterInstances()\n            .then(() => {\n                // to enable logging\n                if (this.props.onSelectedChange && this.state.selected) {\n                    setTimeout(() => this.props.onSelectedChange(this.state.selected, this.state.editing), 100);\n                }\n            });\n    }\n\n    getAllAdapterInstances() {\n        return this.props.socket.getAdapterInstances(true)\n            .then(instanceObjects => {\n                const objects = {};\n                const instances = instanceObjects.map(obj => {\n                    objects[obj._id] = obj;\n                    return obj._id;\n                });\n                window.main.objects = objects;\n                window.main.instances = instances;\n                this.setState({instancesLoaded: true});\n            });\n    }\n\n    onInstanceChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n\n        if (!obj && window.main.instances.includes[id]) {\n            delete window.main.objects[id];\n            const pos = window.main.instances.indexOf(id);\n            window.main.instances.splice(pos, 1);\n        } else\n        if (obj && obj.type === 'instance') {\n            // update instances\n            if (!window.main.instances.includes(id)) {\n                window.main.instances.push(id);\n                window.main.instances.sort();\n            }\n            window.main.objects[id] = obj;\n        }\n    };\n\n    setChangedInAdmin() {\n        const isChanged = Object.keys(this.state.changed).find(id => this.state.changed[id]);\n\n        if (typeof window.parent !== 'undefined' && window.parent) {\n            window.parent.configNotSaved = isChanged;\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener('beforeunload', this.onBrowserClose, false);\n        this.props.socket.subscribeObject('system.adapter.*', this.onInstanceChanged);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('beforeunload', this.onBrowserClose);\n        this.props.socket.unsubscribeObject('system.adapter.*', this.onInstanceChanged);\n    }\n\n    onBrowserClose = e => {\n        const isChanged = Object.keys(this.scripts).find(id =>\n            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common));\n\n        if (!!isChanged) {\n            console.log('Script ' + console.log('Script ' + JSON.stringify(this.scripts[isChanged])));\n            const message = I18n.t('Configuration not saved.');\n            e = e || window.event;\n            // For IE and Firefox\n            if (e) {\n                e.returnValue = message;\n            }\n\n            // For Safari\n            return message;\n        }\n    };\n\n    removeNonExistingScripts(nextProps, newState) {\n        nextProps = nextProps || this.props;\n        newState = newState || {};\n\n        let _changed = false;\n        if (this.state.editing) {\n            const isAnyNonExists = this.state.editing.find(id => !nextProps.objects[id]);\n\n            if (isAnyNonExists) {\n                // remove non-existing scripts\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                for (let i = editing.length - 1; i >= 0; i--) {\n                    if (!this.objects[editing[i]]) {\n                        _changed = true;\n                        editing.splice(i, 1);\n                    }\n                }\n                if (_changed) {\n                    newState.editing = editing;\n                }\n                if (this.state.selected && !this.objects[this.state.selected]) {\n                    _changed = true;\n                    newState.selected = editing[0] || '';\n                    if (this.scripts[newState.selected]) {\n                        if (this.state.blockly !== (this.scripts[newState.selected].engineType === 'Blockly')) {\n                            newState.blockly = this.scripts[newState.selected].engineType === 'Blockly';\n                            _changed = true;\n                        }\n                        if (this.state.verboseEnabled !== this.scripts[newState.selected].verbose) {\n                            newState.verboseEnabled = this.scripts[newState.selected].verbose;\n                            _changed = true;\n                        }\n                        if (this.state.debugEnabled !== this.scripts[newState.selected].debug) {\n                            newState.debugEnabled = this.scripts[newState.selected].debug;\n                            _changed = true;\n                        }\n                    }\n                }\n            }\n        }\n        return _changed;\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const newState = {};\n        let _changed = false;\n        if (JSON.stringify(nextProps.runningInstances) !== JSON.stringify(this.state.runningInstances)) {\n            _changed = true;\n            newState.runningInstances = nextProps.runningInstances;\n        }\n\n        if (this.state.menuOpened !== nextProps.menuOpened) {\n            newState.menuOpened = nextProps.menuOpened;\n            _changed = true;\n        }\n\n        if (this.state.themeType !== nextProps.themeType) {\n            newState.themeType = nextProps.themeType;\n            _changed = true;\n        }\n\n        // check if all opened files still exists\n        if (this.removeNonExistingScripts(nextProps, newState)) {\n            _changed = true;\n        }\n\n        // update search text\n        if (this.state.searchText !== nextProps.searchText) {\n            newState.searchText = nextProps.searchText;\n            _changed = true;\n        }\n\n        // if objects read\n        if (this.objects !== nextProps.objects) {\n            this.objects = nextProps.objects;\n            window.main.objects = nextProps.objects;\n\n            // update all scripts\n            Object.keys(this.scripts).forEach(id => {\n                const source = this.scripts[id].source;\n                this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                this.scripts[id].source = source;\n            });\n\n            // if script is blockly\n            if (this.state.selected && this.objects[this.state.selected]) {\n                this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.objects[this.state.selected].common));\n                if (this.state.blockly !== (this.scripts[this.state.selected].engineType === 'Blockly')) {\n                    newState.blockly = this.scripts[this.state.selected].engineType === 'Blockly';\n                    _changed = true;\n                }\n                if (this.state.verboseEnabled !== this.scripts[this.state.selected].verbose) {\n                    newState.verboseEnabled = this.scripts[this.state.selected].verbose;\n                    _changed = true;\n                }\n                if (this.state.debugEnabled !== this.scripts[this.state.selected].debug) {\n                    newState.debugEnabled = this.scripts[this.state.selected].debug;\n                    _changed = true;\n                }\n            }\n\n            // remove non-existing scripts\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            for (let i = editing.length - 1; i >= 0; i--) {\n                if (!this.objects[editing[i]]) {\n                    _changed = true;\n                    editing.splice(i, 1);\n                    if (this.state.changed[editing[i]] !== undefined) {\n                        newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                        delete newState.changed[editing[i]];\n                    }\n                }\n            }\n            if (this.state.selected && !this.objects[this.state.selected]) {\n                newState.selected = editing[0] || '';\n            }\n            if (_changed) {\n                newState.editing = editing;\n            }\n        } else {\n            // update all scripts\n            for (const id in this.scripts) {\n                if (!this.scripts.hasOwnProperty(id)) continue;\n                if (this.objects[id] && this.objects[id].common) {\n                    const oldSource = this.scripts[id].source;\n                    const commonLocal = JSON.parse(JSON.stringify(this.scripts[id]));\n                    commonLocal.source = this.objects[id].common.source;\n                    // if anything except source was changed\n                    if (JSON.stringify(commonLocal) !== JSON.stringify(this.objects[id].common)) {\n                        this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                        this.scripts[id].source = oldSource;\n                    }\n\n                    if (oldSource !== this.objects[id].common.source) {\n                        // take new script if it not yet changed\n                        if (!this.state.changed[id]) {\n                            // just use new value\n                            this.scripts[id].source = this.objects[id].common.source;\n                        } else {\n                            if (this.objects[id].from && this.objects[id].from.startsWith('system.adapter.javascript.')) {\n                                this.objects[id].from = 'system.adapter.admin.0';\n                                // show that script was changed from outside\n                                this.setState({toast: I18n.t('Script %s was modified on disk.', id.split('.').pop())});\n                            }\n                        }\n                    } else {\n                        if (this.state.changed[id]) {\n                            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                            newState.changed[id] = false;\n                            _changed = true;\n                        }\n                    }\n                } else {\n                    delete this.scripts[id];\n                    if (this.state.selected === id) {\n                        if (this.state.editing.indexOf(id) !== -1) {\n                            const editing = JSON.parse(JSON.stringify(this.state.editing));\n                            const pos = editing.indexOf(id);\n                            if (pos !== -1) {\n                                editing.splice(pos, 1);\n                                newState.editing = editing;\n                                _changed = true;\n                            }\n                        }\n                        newState.selected = this.state.editing[0] || '';\n                        _changed = true;\n                    }\n                }\n            }\n        }\n\n        if (this.state.selected !== nextProps.selected && nextProps.selected) {\n            if (nextProps.selected) {\n                this.scripts[nextProps.selected] = this.scripts[nextProps.selected] || JSON.parse(JSON.stringify(this.props.objects[nextProps.selected].common));\n            }\n\n            const nextCommon = this.props.objects[nextProps.selected] && this.props.objects[nextProps.selected].common;\n\n            const changed = nextCommon && JSON.stringify(this.scripts[nextProps.selected]) !== JSON.stringify(nextCommon);\n\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            if (nextProps.selected && editing.indexOf(nextProps.selected) === -1) {\n                editing.push(nextProps.selected);\n                this.props.onSelectedChange(nextProps.selected, editing);\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n            }\n\n            _changed = true;\n            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n            newState.changed[nextProps.selected] = changed;\n            newState.editing = editing;\n            newState.selected = nextProps.selected;\n            newState.blockly = this.scripts[nextProps.selected].engineType === 'Blockly';\n            newState.verboseEnabled = this.scripts[nextProps.selected].verbose;\n            newState.debugEnabled = this.scripts[nextProps.selected].debug;\n            newState.showBlocklyCode = false;\n        } else {\n\n        }\n\n        if (this.state.visible !== nextProps.visible) {\n            _changed = true;\n            newState.visible = nextProps.visible;\n        }\n        _changed && this.setState(newState, () => this.setChangedInAdmin());\n    }\n\n    onRestart() {\n        this.props.onRestart && this.props.onRestart(this.state.selected);\n    }\n\n    onSave() {\n        if (this.state.changed[this.state.selected]) {\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = false;\n            this.setState({changed}, () => {\n                this.setChangedInAdmin();\n                this.props.onChange && this.props.onChange(this.state.selected, this.scripts[this.state.selected]);\n            });\n        }\n    }\n\n    onSaveAll() {\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        Object.keys(changed)\n            .forEach(id => {\n                if (changed[id]) {\n                    changed[id] = false;\n                    this.props.onChange && this.props.onChange(id, this.scripts[id]);\n                }\n            });\n\n        this.setState({ changed }, () =>\n            this.setChangedInAdmin());\n    }\n\n    onCancel() {\n        this.scripts[this.state.selected] = JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        changed[this.state.selected] = false;\n\n        this.setState({changed}, () => this.setChangedInAdmin());\n    }\n\n    onRegisterSelect(func) {\n        this.getSelect = func;\n    }\n\n    onConvert2JS() {\n        this.showConfirmDialog(I18n.t('It will not be possible to revert this operation.'), result => {\n            if (result) {\n                this.scripts[this.state.selected].engineType = 'Javascript/js';\n                let source = this.scripts[this.state.selected].source;\n                const lines = source.split('\\n');\n                lines.pop();\n                this.scripts[this.state.selected].source = lines.join('\\n');\n                const nowSelected = this.state.selected;\n\n                const changed = JSON.parse(JSON.stringify(this.state.changed));\n                changed[this.state.selected] = true;\n\n                this.setState({changed, blockly: false, selected: ''}, () => {\n                    this.setChangedInAdmin();\n                    // force update of the editor\n                    setTimeout(() => this.setState({selected: nowSelected}), 100);\n                });\n            }\n        });\n    }\n\n    onChange(options) {\n        options = options || {};\n        if (options.script !== undefined) {\n            this.scripts[this.state.selected].source = options.script;\n        }\n        if (options.debug !== undefined) {\n            this.scripts[this.state.selected].debug = options.debug;\n        }\n        if (options.verbose !== undefined) {\n            this.scripts[this.state.selected].verbose = options.verbose;\n        }\n        const _changed = JSON.stringify(this.scripts[this.state.selected]) !== JSON.stringify(this.props.objects[this.state.selected].common);\n        if (_changed !== (this.state.changed[this.state.selected] || false)) {\n\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = _changed;\n            this.objects[this.state.selected].from = 'system.adapter.admin.0';\n            this.setState({changed}, () => this.setChangedInAdmin());\n\n        }\n    }\n\n    onTabChange(event, selected) {\n        window.localStorage && window.localStorage.setItem('Editor.selected', selected);\n        const common = this.scripts[selected] || (this.props.objects[selected] && this.props.objects[selected].common);\n        this.setState({selected, blockly: common.engineType === 'Blockly', showBlocklyCode: false, verboseEnabled: common.verbose, debugEnabled: common.debug});\n        this.props.onSelectedChange && this.props.onSelectedChange(selected, this.state.editing);\n    }\n\n    isScriptChanged(id) {\n        return this.scripts[id] && this.props.objects[id] && JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common);\n    }\n\n    onTabClose(id, e) {\n        e && e.stopPropagation();\n\n        const pos = this.state.editing.indexOf(id);\n        if (this.state.editing.indexOf(id) !== -1) {\n            if (this.isScriptChanged(id)) {\n                this.showConfirmDialog(I18n.t('Discard changes for %s', this.props.objects[id].common.name), ok => {\n                    if (ok) {\n                        delete this.scripts[id];\n                        this.onTabClose(id);\n                    }\n                });\n            } else {\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                editing.splice(pos, 1);\n                const newState = {editing};\n                if (id === this.state.selected) {\n                    if (editing.length) {\n                        if (pos === 0 || editing.length === 1) {\n                            newState.selected = editing[0];\n                        } else {\n                            newState.selected = editing[pos - 1];\n                        }\n                    } else {\n                        newState.selected = '';\n                    }\n                } else if (this.state.selected && !editing.length) {\n                    newState.selected = '';\n                }\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                if (newState.selected !== undefined) {\n                    newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                    newState.changed[newState.selected] = this.isScriptChanged(newState.selected);\n                    const common = newState.selected && (this.scripts[newState.selected] || (this.props.objects[newState.selected] && this.props.objects[newState.selected].common));\n                    newState.blockly = common ? common.engineType === 'Blockly' : false;\n                    newState.verboseEnabled = common ? common.verbose : false;\n                    newState.debugEnabled = common ? common.debug : false;\n                    newState.showBlocklyCode = false;\n                }\n\n                this.setState(newState, () =>  {\n                    this.setChangedInAdmin();\n\n                    if (newState.selected !== undefined) {\n                        this.props.onSelectedChange && this.props.onSelectedChange(newState.selected, this.state.editing);\n                        window.localStorage && window.localStorage.setItem('Editor.selected', newState.selected);\n                    } else {\n                        this.props.onSelectedChange && this.props.onSelectedChange(this.state.selected, this.state.editing);\n                    }\n                });\n            }\n        }\n    }\n\n    showConfirmDialog(question, cb) {\n        this.confirmCallback = cb;\n        this.setState({confirm: question});\n    }\n\n    sendCommandToBlockly(cmd) {\n        this.setState({cmdToBlockly: cmd}, () =>\n            setTimeout(() =>\n                this.setState({cmdToBlockly: ''}), 200));\n    }\n\n    getTabs() {\n        if (this.state.editing.length) {\n            return [<Tabs\n                    component={'div'}\n                    key=\"tabs1\"\n                    value={this.state.selected}\n                    onChange={(event, value) => this.onTabChange(event, value)}\n                    indicatorColor=\"primary\"\n                    style={{position: 'relative', width: this.state.editing.length > 1 ? 'calc(100% - 50px)' : '100%', display: 'inline-block'}}\n                    textColor=\"primary\"\n                    variant=\"scrollable\"\n                    scrollButtons=\"auto\"\n                >\n                    {this.state.editing.map(id => {\n                        if (!this.props.objects[id]) {\n                            const label = [\n                                <div key=\"text\" className={this.props.classes.tabText + ' ' + (this.isScriptChanged(id) ? this.props.classes.tabChanged : '')}>{id.split('.').pop()}</div>,\n                                <span key=\"icon\" className={this.props.classes.closeButton}><IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} fontSize=\"small\"/></span>];\n                            return <Tab\n                                wrapped\n                                component={'div'}\n                                href={'#' + id}\n                                key={id}\n                                label={label}\n                                value={id}\n                                classes={{wrapper: this.props.classes.tabButtonWrapper}}\n                            />;\n                        } else {\n                            let text = this.props.objects[id].common.name;\n                            let title = '';\n                            if (text.length > 18) {\n                                title = text;\n                                text = text.substring(0, 15) + '...';\n                            }\n                            const changed = this.props.objects[id].common && this.scripts[id] && this.props.objects[id].common.source !== this.scripts[id].source;\n                            const label = [\n                                <img key=\"icon\" alt={\"\"} src={images[this.props.objects[id].common.engineType] || images.def} className={this.props.classes.tabIcon}/>,\n                                <div key=\"text\" className={clsx(this.props.classes.tabText, this.isScriptChanged(id) && this.props.classes.tabChanged)}>{text}</div>,\n                                changed ? <span key=\"changedSign\" className={this.props.classes.tabChangedIcon}>▣</span> : null,\n                                <span key=\"icon2\" className={this.props.classes.closeButton}><IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} fontSize=\"small\"/></span>\n                                ];\n\n                            return <Tab\n                                wrapped\n                                component={'div'}\n                                href={'#' + id}\n                                key={id}\n                                label={label}\n                                className={this.props.classes.tabButton}\n                                value={id}\n                                title={title}\n                                classes={{wrapper: this.props.classes.tabButtonWrapper}}\n                            />;\n                        }\n                    })}\n                </Tabs>,\n                this.state.editing.length > 1 ? <IconButton\n                    key=\"menuButton\"\n                    href=\"#\"\n                    aria-label=\"Close all but current\"\n                    className={this.props.classes.tabMenuButton}\n                    title={I18n.t('Close all but current')}\n                    aria-haspopup=\"false\"\n                    onClick={_event => {\n                        const editing = [this.state.selected];\n                        // Do not close not saved tabs\n                        Object.keys(this.scripts).forEach(id =>\n                            id !== this.state.selected &&\n                            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common) &&\n                            editing.push(id)\n                        );\n\n                        window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                        this.setState({menuTabsOpened: false, menuTabsAnchorEl: null, editing: editing});\n                    }}\n                >\n                    <IconCloseAll />\n                </IconButton> : null\n            ];\n        } else {\n            return <div key=\"tabs2\" className={this.props.classes.toolbar}>\n                <Button key=\"select1\" disabled={true} className={this.props.classes.hintButton} href=\"\">\n                    <span key=\"select2\">{I18n.t('Click on this icon')}</span>\n                    <IconDoEdit key=\"select3\" className={this.props.classes.hintIcon}/>\n                    <span key=\"select4\">{I18n.t('for edit or create script')}</span>\n                </Button>\n            </div>;\n        }\n    }\n\n    getDebugMenu() {\n        if (!this.state.showDebugMenu) return null;\n\n        return <Menu\n            key=\"menuDebug\"\n            id=\"menu-debug\"\n            anchorEl={this.state.menuDebugAnchorEl}\n            open={this.state.showDebugMenu}\n            onClose={() => this.setState({showDebugMenu: false, menuDebugAnchorEl: null})}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                },\n            }}\n        >\n            <MenuItem key=\"debugEnabled\"\n                      title={I18n.t('debug_help')}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.setState({showDebugMenu: false, menuDebugAnchorEl: null, debugEnabled: !this.state.debugEnabled}, () => this.onChange({debug: this.state.debugEnabled}));\n                      }}>\n                <Checkbox checked={this.state.debugEnabled}/>\n                <IconDebug className={this.props.classes.menuIcon} style={{color: COLOR_DEBUG}}/>\n                {I18n.t('debug')}\n            </MenuItem>\n            <MenuItem key=\"verboseEnabled\"\n                      title={I18n.t('verbose_help')}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.setState({showDebugMenu: false, menuDebugAnchorEl: null, verboseEnabled: !this.state.verboseEnabled}, () => this.onChange({verbose: this.state.verboseEnabled}));\n                      }}>\n                <Checkbox checked={this.state.verboseEnabled}/>\n                <IconVerbose className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>\n                {I18n.t('verbose')}\n            </MenuItem>\n        </Menu>;\n    }\n\n    getDebugBadge() {\n        return [\n            this.state.debugEnabled && this.state.verboseEnabled  && (<IconDebug key=\"DebugVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>),\n            this.state.debugEnabled && !this.state.verboseEnabled && (<IconDebug key=\"DebugNoVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_DEBUG}}/>),\n            !this.state.debugEnabled && this.state.verboseEnabled && (<IconVerbose key=\"noDebugVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>),\n        ]\n    }\n\n    getToolbar() {\n        const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n        const isScriptRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].enabled;\n\n        if (this.state.selected) {\n            const changedAll = Object.keys(this.state.changed).filter(id => this.state.changed[id]).length;\n            const changed = this.state.changed[this.state.selected];\n            return <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar1\">\n                    {this.state.menuOpened && this.props.onLocate && (<IconButton className={this.props.classes.toolbarButtons} key=\"locate\" title={I18n.t('Locate file')} onClick={() => this.props.onLocate(this.state.selected)}><IconLocate/></IconButton>)}\n                    {!changed && isInstanceRunning && <IconButton key=\"restart\" variant=\"contained\" className={this.props.classes.toolbarButtons} onClick={() => this.onRestart()} title={I18n.t('Restart')}><IconRestart /></IconButton>}\n                    {!changed && !isScriptRunning && <span className={ this.props.classes.notRunning }>{I18n.t('Script is not running')}</span>}\n                    {!changed && isScriptRunning && !isInstanceRunning && <span className={this.props.classes.notRunning}>{I18n.t('Instance is disabled')}</span>}\n                    {changed && <Button key=\"save\" variant=\"contained\" className={clsx(this.props.classes.textButton, this.props.classes.saveButton)} onClick={() => this.onSave()}>{I18n.t('Save')}<IconSave className={ this.props.classes.textIcon }/></Button>}\n                    {(changedAll > 1 || (changedAll === 1 && !changed)) && (<Button key=\"saveall\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onSaveAll()}>{I18n.t('Save all')}<IconSave className={ this.props.classes.textIcon }/></Button>)}\n                    {changed && (<Button key=\"cancel\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onCancel()}>{I18n.t('Cancel')}<IconCancel className={ this.props.classes.textIcon }/></Button>)}\n                    <div style={{flex: 2}}/>\n\n                    {this.state.blockly && !this.state.showBlocklyCode &&\n                        (<IconButton key=\"export\" aria-label=\"Export Blocks\"\n                                     title={I18n.t('Export blocks')}\n                             className={this.props.classes.toolbarButtons}\n                             onClick={() => this.sendCommandToBlockly('export')}>\n                        <IconExport /></IconButton>)}\n\n                    {this.state.blockly && !this.state.showBlocklyCode &&\n                        (<IconButton key=\"import\" aria-label=\"Import Blocks\"\n                                     title={I18n.t('Import blocks')}\n                                     className={this.props.classes.toolbarButtons}\n                                     onClick={() => this.sendCommandToBlockly('import')}>\n                            <IconImport /></IconButton>)}\n\n                    {this.state.blockly && !this.state.showBlocklyCode &&\n                        (<IconButton key=\"check\" aria-label=\"Check code\"\n                                     title={I18n.t('Check blocks')}\n                                     className={this.props.classes.toolbarButtons}\n                                     onClick={() => this.sendCommandToBlockly('check')}>\n                            <IconCheck /></IconButton>)}\n\n                    {!this.state.blockly && !this.state.showBlocklyCode && (<IconButton key=\"select-cron\" aria-label=\"create CRON\"\n                                                                                        title={I18n.t('Create or edit CRON or time wizard')}\n                                                                                        className={this.props.classes.toolbarButtons}\n                                                                                        onClick={() => this.setState({showCron: true})}><IconCron/></IconButton>)}\n\n                    {!this.state.blockly && !this.state.showBlocklyCode && (<IconButton key=\"select-id\" aria-label=\"select ID\"\n                                                                                        title={I18n.t('Insert object ID')}\n                                                                                        className={this.props.classes.toolbarButtons}\n                                                                                        onClick={() => this.setState({showSelectId: true})}><IconSelectId/></IconButton>)}\n\n                    {this.state.blockly && this.state.showBlocklyCode && (<Button key=\"convert2js\" aria-label=\"convert to javascript\"\n                                                                                  title={I18n.t('Convert blockly to javascript for ever.')}\n                                                                                  onClick={() => this.onConvert2JS()}\n                    >Blockly=>JS</Button>)}\n\n                    {this.state.blockly && (<Button key=\"blockly-code\" aria-label=\"blockly\"\n                                                    title={I18n.t('Show javascript code')}\n                                                    className={this.props.classes.toolbarButtons}\n                                                    color={this.state.showBlocklyCode ? 'secondary' : 'inherit'}\n                                                    style={{padding: '0 5px'}}\n                                                    onClick={() => this.setState({showBlocklyCode: !this.state.showBlocklyCode})}>\n                        <img alt=\"blockly2js\" src={ImgBlockly2Js} /></Button>)}\n\n                    {!this.state.showBlocklyCode && (<IconButton key=\"debug\" aria-label=\"Debug menu\"\n                                                                 title={I18n.t('Debug options')}\n                                                                 className={this.props.classes.toolbarButtons}\n                                                                 onClick={e => this.setState({showDebugMenu: true, menuDebugAnchorEl: e.currentTarget})}>\n                        <Badge className={this.props.classes.badgeMargin} badgeContent={this.getDebugBadge()}>\n                            <IconDebugMenu />\n                        </Badge>\n                    </IconButton>)}\n\n                </Toolbar>;\n        } else {\n            return null;\n        }\n    }\n\n    getScriptEditor() {\n        if (this.state.selected && this.props.objects[this.state.selected] && this.state.blockly !== null && (!this.state.blockly || this.state.showBlocklyCode)) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <div className={this.props.classes.editorDiv} key=\"scriptEditorDiv\">\n                <ScriptEditorComponent\n                    key=\"scriptEditor1\"\n                    name={this.state.selected}\n                    adapterName={this.props.adapterName}\n                    insert={this.state.insert}\n                    onInserted={() => this.setState({insert: ''})}\n                    onForceSave={() => this.onSave()}\n                    searchText={this.state.searchText}\n                    onRegisterSelect={func => this.onRegisterSelect(func)}\n                    readOnly={this.state.showBlocklyCode}\n                    changed={this.state.changed[this.state.selected]}\n                    code={this.scripts[this.state.selected].source || ''}\n                    isDark={this.state.themeType === 'dark'}\n                    socket={this.props.socket}\n                    runningInstances={this.state.runningInstances}\n                    onChange={newValue => this.onChange({script: newValue})}\n                    language={this.scripts[this.state.selected].engineType === 'TypeScript/ts' ? 'typescript' : 'javascript'}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getBlocklyEditor() {\n        if (this.state.instancesLoaded && this.state.selected && this.props.objects[this.state.selected] && (this.state.blockly && !this.state.showBlocklyCode) && this.state.visible) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return (<div className={this.props.classes.editorDiv} key=\"blocklyEditorDiv\">\n                <BlocklyEditor\n                    command={this.state.cmdToBlockly}\n                    key=\"BlocklyEditor\"\n                    themeType={this.state.themeType}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    onChange={newValue => this.onChange({script: newValue})}\n                />\n            </div>);\n        } else {\n            return null;\n        }\n    }\n\n    getConfirmDialog() {\n        if (this.state.confirm) {\n            return (<DialogConfirm\n                key=\"dialogConfirm1\"\n                text={this.state.confirm}\n                onClose={result => {\n                    if (this.confirmCallback) {\n                        const cb = this.confirmCallback;\n                        this.confirmCallback = null;\n                        cb(result);\n                    }\n                    this.setState({confirm: ''});\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    getSelectIdDialog() {\n        if (this.state.showSelectId) {\n            let selectedId = this.selectId.callback ? this.selectId.initValue || '' : this.getSelect ? this.getSelect() : '';\n            // it could be:\n            // - 'id.xx'/* aksjdhsdf*/\n            // - \"id.xx\"/* aksjdhsdf*/\n            // - \"id.xx\"//\n            let pos = selectedId.indexOf('/*');\n            if (pos !== -1) {\n                selectedId = selectedId.substring(0, pos);\n            }\n            pos = selectedId.indexOf('//');\n            if (pos !== -1) {\n                selectedId = selectedId.substring(0, pos);\n            }\n            let m = selectedId.match(/\"([^\"]+)\"/);\n            if (m) {\n                selectedId = m[1];\n            }\n            m = selectedId.match(/'([^']+)'/);\n            if (m) {\n                selectedId = m[1];\n            }\n\n            return <DialogSelectID\n                key=\"dialogSelectID1\"\n                imagePrefix=\"../..\"\n                themeName={this.props.themeName}\n                themeType={this.state.themeType}\n                socket={this.props.socket}\n                selected={selectedId}\n                statesOnly={true}\n                onClose={() => {\n                    this.setState({showSelectId: false});\n                    if (this.selectId.callback) {\n                        this.selectId.callback = null;\n                    }\n                }}\n                onOk={(selected, name) => {\n                    this.selectId.initValue = null;\n                    if (this.selectId.callback) {\n                        this.selectId.callback(selected);\n                        this.selectId.callback = null;\n                    } else {\n                        this.setState({insert: `'${selected}'/*${name}*/`})\n                    }\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getCronDialog() {\n        if (this.state.showCron) {\n            return (<DialogCron\n                key=\"dialogCron1\"\n                cron={this.cron.callback ? this.cron.initValue || '' : this.getSelect ? this.getSelect() : '* * * * *'}\n                onClose={() => this.setState({showCron: false})}\n                onOk={cron => {\n                    this.cron.initValue = null;\n                    if (this.cron.callback) {\n                        this.cron.callback(cron);\n                        this.cron.callback = null;\n                    } else {\n                        this.setState({insert: `'${cron}'`})\n                    }\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    getEditorDialog() {\n        if (this.state.showScript) {\n            return <DialogScriptEditor\n                key=\"scriptEditorDialog\"\n                adapterName={this.props.adapterName}\n                source={this.scriptDialog.initValue}\n                args={this.scriptDialog.args ? this.scriptDialog.args.join(', ') : ''}\n                isReturn={this.scriptDialog.isReturn}\n                socket={this.props.socket}\n                runningInstances={this.state.runningInstances}\n                themeType={this.state.themeType}\n                onClose={result => {\n                    this.scriptDialog.initValue = null;\n                    if (this.scriptDialog.callback) {\n                        result !== false && this.scriptDialog.callback(result || '');\n                        this.scriptDialog.callback = null;\n                    }\n                    this.setState({showScript: false});\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getToast() {\n        return <Snackbar\n            key=\"toast\"\n            anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left',\n            }}\n            open={!!this.state.toast}\n            autoHideDuration={6000}\n            onClose={() => this.setState({toast: ''})}\n            ContentProps={{'aria-describedby': 'message-id',}}\n            message={<span id=\"message-id\">{this.state.toast}</span>}\n            action={[\n                <IconButton\n                    key=\"close\"\n                    aria-label=\"close\"\n                    color=\"inherit\"\n                    className={this.props.classes.closeToast}\n                    onClick={() => this.setState({toast: ''})}\n                ><IconClose />\n                </IconButton>,\n            ]}\n        />;\n    }\n\n    render() {\n        if (this.state.selected && this.props.objects[this.state.selected] && this.state.blockly === null) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n            setTimeout(() => {\n                const newState = {\n                    blockly: this.scripts[this.state.selected].engineType === 'Blockly',\n                    showBlocklyCode: false,\n                    debugEnabled: this.scripts[this.state.selected].debug,\n                    verboseEnabled: this.scripts[this.state.selected].verbose,\n                };\n\n                // check if all opened files still exists\n                this.removeNonExistingScripts(null, newState);\n                this.setState(newState);\n            }, 100);\n        }\n\n        return [\n            this.getTabs(),\n            this.getToolbar(),\n            this.getScriptEditor(),\n            this.getBlocklyEditor(),\n            this.getConfirmDialog(),\n            this.getSelectIdDialog(),\n            this.getCronDialog(),\n            this.getEditorDialog(),\n            this.getDebugMenu(),\n            this.getToast(),\n        ];\n    }\n}\n\nEditor.propTypes = {\n    objects: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    selected: PropTypes.string.isRequired,\n    onSelectedChange: PropTypes.func.isRequired,\n    onRestart: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    visible: PropTypes.bool,\n    menuOpened: PropTypes.bool,\n    onLocate: PropTypes.func,\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    searchText: PropTypes.string,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n};\n\nexport default withStyles(styles)(Editor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Dropzone from 'react-dropzone';\nimport DialogError from './Error';\nimport {MdFileUpload as IconUpload} from 'react-icons/md';\nimport {MdCancel as IconNo} from 'react-icons/md';\nimport {MdPlusOne as IconPlus} from 'react-icons/md';\n\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    dropzone: {\n        marginTop: 20,\n        width: '100%',\n        borderWidth: 5,\n        borderStyle: 'dashed',\n        borderColor: '#d0cccc',\n        textAlign: 'center',\n        boxSizing: 'border-box',\n        paddingTop: 45,\n        borderRadius: 10,\n        height: 'calc(100% - 10px)'\n    },\n    dropzoneDiv: {\n        width: '100%',\n        height: '100%'\n    },\n    dropzoneRejected: {\n        borderColor: '#970000',\n    },\n    dropzoneAccepted: {\n        borderColor: '#17cd02',\n    },\n    icon: {\n        height: '30%',\n        width: '30%',\n        color: '#eeeeee',\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        zIndex: 0,\n    },\n    iconError: {\n        color: '#ffc3c6',\n    },\n    iconOk: {\n        color: '#aaeebc',\n    },\n    text: {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        color: '#868686',\n        position: 'absolute',\n        zIndex: 1,\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n});\nclass DialogImportFile extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: '',\n            imageStatus: ''\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose();\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    static readFileDataUrl(file, cb) {\n        const reader = new FileReader();\n        reader.onload = () => {\n            cb(null, {data: reader.result, name: file.name});\n        };\n        reader.onabort = () => {\n            console.error('file reading was aborted');\n            cb(I18n.t('file reading was aborted'));\n        };\n        reader.onerror = (e) => {\n            console.error('file reading has failed');\n            cb(I18n.t('file reading has failed: %s', e));\n        };\n\n        reader.readAsDataURL(file)\n    }\n\n    handleDropFile(files) {\n        if (files && files.hasOwnProperty('target')) {\n            files = files.target.files;\n        }\n\n        if (!files && !files.length) {\n            return;\n        }\n\n        const file = files[files.length - 1];\n\n        if (!file) {\n            return;\n        }\n        DialogImportFile.readFileDataUrl(file, (err, result) => {\n            if (err) {\n                this.setState({error: err})\n            } else {\n                this.props.onClose(result && result.data);\n            }\n        });\n    }\n\n    render() {\n        const classes = this.props.classes;\n        const className = classes.dropzone + ' ' + (this.state.imageStatus === 'accepted' ? classes.dropzoneAccepted : (this.state.imageStatus === 'rejected' ? classes.dropzoneRejected : ''));\n\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"import-dialog-title\"\n            >\n                <DialogTitle id=\"import-dialog-title\">{I18n.t('Import scripts')}</DialogTitle>\n                <DialogContent className={classes.fullHeight}>\n                    <Dropzone   key='image-drop'\n\n                                maxSize={50000000}\n                                acceptClassName={classes.dropzoneAccepted}\n                                rejectClassName={classes.dropzoneRejected}\n                                onDrop={files => this.handleDropFile(files)}\n                                multiple={false}\n                                accept='application/zip,application/x-zip-compressed'\n                                className={className}>\n                        {\n                            ({ getRootProps, getInputProps, isDragActive, isDragReject}) => {\n                                if (isDragReject) {\n                                    if (this.state.imageStatus !== 'rejected') {\n                                        this.setState({imageStatus: 'rejected'});\n                                    }\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('Some files will be rejected')}</span>\n                                            <IconNo key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconError}/>\n                                        </div>);\n                                } else if (isDragActive) {\n                                    if (this.state.imageStatus !== 'accepted') {\n                                        this.setState({imageStatus: 'accepted'});\n                                    }\n\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('All files will be accepted')}</span>\n                                            <IconPlus key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconOk}/>\n                                        </div>);\n                                } else {\n                                    if (this.state.imageStatus !== 'wait') {\n                                        this.setState({imageStatus: 'wait'});\n                                    }\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('Drop some files here or click...')}</span>\n                                            <IconUpload key=\"icon\" className={this.props.classes.icon}/>\n                                        </div>);\n                                }\n                            }\n                        }\n                    </Dropzone>\n                    {this.state.error ? (<DialogError text={this.state.error} onClose={() => this.setState({error: ''})}/>) : null}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Close')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogImportFile.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n};\n\nexport default withStyles(styles)(DialogImportFile);\n","import React from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport SplitterLayout from 'react-splitter-layout';\nimport {MdMenu as IconMenuClosed} from 'react-icons/md';\nimport {MdArrowBack as IconMenuOpened} from 'react-icons/md';\n\nimport 'react-splitter-layout/lib/index.css';\n\nimport GenericApp from '@iobroker/adapter-react/GenericApp';\nimport Loader from '@iobroker/adapter-react/Components/Loader'\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\nimport DialogConfirm from '@iobroker/adapter-react/Dialogs/Confirm';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\n\nimport SideMenu from './SideMenu';\nimport Log from './Log';\nimport Editor from './Editor';\nimport DialogError from './Dialogs/Error';\nimport DialogImportFile from './Dialogs/ImportFile';\nimport BlocklyEditor from './Components/BlocklyEditor';\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        display: 'flex',\n        width: '100%',\n        height: '100%'\n    },\n    menuDiv: {\n        overflow: 'hidden',\n    },\n    splitterDivs: {\n        '&>div': {\n            overflow: 'hidden',\n            width: '100%',\n            height: '100%',\n        },\n        '& .layout-splitter': {\n           background: theme.palette.type === 'dark' ? '#595858' : '#ccc;'\n        }\n    },\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n    },\n    /*appBarWithMenu: {\n        width: `calc(100% - ${Theme.menu.width}px)`,\n        marginLeft: Theme.menu.width,\n    },\n    appBarWithoutMenu: {\n        width: `100%`,\n        marginLeft: 0,\n    },*/\n    content: {\n        width: '100%',\n        height: '100%',\n        backgroundColor: theme.palette.background && theme.palette.background.default,\n        position: 'relative'\n    },\n    splitterDivWithMenu: {\n        width: `calc(100% - 300px)`,\n        height: '100%'\n    },\n    menuDivWithoutMenu: {\n        '&>div:first-child': {\n            display: 'none'\n        },\n        '&>.layout-splitter': {\n            display: 'none'\n        },\n    },\n    progress: {\n        margin: 100\n    },\n    menuOpenCloseButton: {\n        position: 'absolute',\n        left: 0,\n        borderRadius: '0 5px 5px 0',\n        top: 6,\n        paddingTop: 8,\n        cursor: 'pointer',\n        zIndex: 1,\n        height: 25,\n        width: 20,\n        background: theme.palette.secondary.main,\n        color: theme.palette.primary.main,\n        paddingLeft: 3,\n        '&:hover': {\n            color: 'white'\n        }\n    }\n});\n\nclass App extends GenericApp {\n    constructor(props) {\n        super(props, {\n            translations: {\n                'en': require('./i18n/en'),\n                'de': require('./i18n/de'),\n                'es': require('./i18n/es'),\n                'fr': require('./i18n/fr'),\n                'it': require('./i18n/it'),\n                'nl': require('./i18n/nl'),\n                'pl': require('./i18n/pl'),\n                'pt': require('./i18n/pt'),\n                'ru': require('./i18n/ru'),\n                'zh-cn': require('./i18n/zh-cn'),\n            },\n            bottomButtons: false,\n            socket: {\n                autoSubscribeLog: true,\n            },\n        });\n\n        // this.logIndex = 0;\n        this.logSize  = window.localStorage ? parseFloat(window.localStorage.getItem('App.logSize'))  || 150 : 150;\n        this.menuSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.menuSize')) || 500 : 500;\n        this.hosts = [];\n        this.importFile = null;\n        this.scripts = {};\n\n        window.alert = message => {\n            console.error(message);\n            this.showError(message.toString());\n        };\n    }\n\n    onScriptsChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n        if (id.startsWith('script.js.')) {\n            if (obj) {\n                if (JSON.stringify(this.scripts[id]) !== JSON.stringify(obj)) {\n                    this.scripts[id] = obj;\n                    changed = true;\n                    newState.scriptsHash = this.state.scriptsHash + 1;\n                }\n            } else if (this.scripts[id]) {\n                delete this.scripts[id];\n                changed = true;\n                newState.scriptsHash = this.state.scriptsHash + 1;\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onInstanceChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n\n        if (id.match(/^system\\.adapter\\.[-_\\w\\d]+\\$/)) {\n            // update instances\n            if (id.startsWith('system.adapter.' + this.adapterName + '.')) {\n                if (obj && obj.type === 'instance') {\n                    if (!this.state.instances.includes(id)) {\n                        newState.instances = [...this.state.instances];\n                        newState.instances.push(id);\n                        newState.instances.sort();\n                        changed = true;\n                        // request alive\n                        this.socket.subscribeState(obj._id + '.alive', this.onInstanceAliveChange());\n                    }\n                } else if (!obj && this.state.instances.includes(id)) {\n                    this.socket.unsubscribeState(id + '.alive', this.onInstanceAliveChange());\n                    newState.instances = [...this.state.instances];\n                    const pos = newState.instances.indexOf(id);\n                    newState.instances.splice(pos, 1);\n                    changed = true;\n                }\n            }\n\n\n\n\n            if (obj && obj[id].common && obj[id].common.blockly) {\n                this.confirmCallback = result => result && window.location.reload();\n                newState.confirm = I18n.t('Some blocks were updated. Reload admin?');\n                changed = true;\n            }\n        }\n        changed && this.setState(newState);\n    };\n\n    onHostChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n\n        if (id.startsWith('system.host.')) {\n            if (obj && obj.type === 'host') {\n                if (!this.hosts.includes(id)) {\n                    this.hosts.push(id);\n                    this.hosts.sort();\n                }\n            } else if (!obj && this.hosts.includes(id)) {\n                const pos = this.hosts.indexOf(id);\n                this.hosts.splice(pos, 1);\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onConnectionReady() {\n        window.systemLang = this.socket.systemLang;\n        this.setState({\n            ready: false,\n            updateScripts: 0,\n            scriptsHash: 0,\n            instances: [],\n            updating: false,\n            resizing: false,\n            selected: null,\n            logMessage: {},\n            editing: [],\n            menuOpened: window.localStorage ? window.localStorage.getItem('App.menuOpened') !== 'false' : true,\n            menuSelectId: '',\n            expertMode: window.localStorage ? window.localStorage.getItem('App.expertMode') === 'true' : false,\n            logHorzLayout: window.localStorage ? window.localStorage.getItem('App.logHorzLayout') === 'true' : false,\n            runningInstances: {},\n            confirm: '',\n            importFile: false,\n            message: '',\n            searchText: '',\n        });\n\n        const newState = {};\n\n        // load instances & scripts\n        // Read all instances\n        this.subscribeOnInstances()\n            .then(result => {\n                newState.instances = result.instances;\n                newState.runningInstances = result.runningInstances;\n                return this.readAdaptersWithBlockly();\n            })\n            .then(() => this.socket.getHosts())\n            .then(hosts => {\n                this.hosts = hosts.map(obj => obj._id);\n                // load all scripts\n                return this.readAllScripts();\n            })\n            .then(scripts => {\n                if (window.localStorage && window.localStorage.getItem('App.expertMode') !== 'true' && window.localStorage.getItem('App.expertMode') !== 'false') {\n                    // detect if some global scripts exists\n                    if (Object.keys(scripts).find(id => id.startsWith('script.js.global.') && scripts.type === 'script')) {\n                        newState.expertMode = true;\n                    }\n                }\n                this.scripts = scripts;\n\n                let scriptsHash = this.state.scriptsHash;\n                if (this.compareScripts(scripts)) {\n                    scriptsHash++;\n                }\n                newState.scriptsHash = scriptsHash;\n                newState.ready = true;\n                this.socket.subscribeObject('script.*', this.onScriptsChanged);\n                this.socket.subscribeObject('system.adapter.*', this.onInstanceChanged);\n                this.socket.subscribeObject('system.host.*', this.onHostChanged);\n\n                this.setState(newState);\n            });\n    }\n\n    subscribeOnInstances() {\n        return this.socket.getAdapterInstances(this.adapterName)\n            .then(instancesArray => {\n                const instances = instancesArray.map(obj => parseInt(obj._id.split('.').pop())).sort();\n                const runningInstances = {};\n                instances.forEach(id => runningInstances['system.adapter.' + this.adapterName + '.' + id] = false);\n\n                const promises = [];\n\n                // subscribe on instances\n                instances.forEach(instance => {\n                    const instanceId = `system.adapter.${this.adapterName}.${instance}`;\n                    const id = `${instanceId}.alive`;\n                    promises.push(this.socket.getState(id)\n                        .then(state => {\n                            runningInstances[instanceId] = state ? state.val : false;\n                            this.socket.subscribeState(id, this.onInstanceAliveChange);\n                        }));\n                });\n\n                return Promise.all(promises)\n                    .then(() => ({instances, runningInstances}));\n            })\n    }\n\n    readAllScripts() {\n        return this.socket.getObjectView('script.js.', 'script.js.\\u9999', 'channel')\n            .then(folders =>\n                this.socket.getObjectView('script.js.', 'script.js.\\u9999', 'script')\n                    .then(scripts => {\n                        Object.keys(scripts).forEach(id => folders[id] = scripts[id]);\n                        return folders;\n                    }));\n    }\n\n    readAdaptersWithBlockly() {\n        return this.socket.getObjectView('system.adapter.', 'system.adapter.\\u9999', 'adapter')\n            .then(adapters =>\n                new Promise(resolve =>\n                    BlocklyEditor.loadCustomBlockly(adapters, () => resolve())));\n    }\n\n    onInstanceAliveChange = (id, state) => {\n        if (id) {\n            id = id && id.substring(0, id.length - 6); // - .alive\n\n            if (this.state.runningInstances[id] !== (state ? state.val : false)) {\n                const runningInstances = JSON.parse(JSON.stringify(this.state.runningInstances));\n                runningInstances[id] = state ? state.val : false;\n                this.setState({runningInstances});\n            }\n        }\n    };\n\n    compareScripts(newScripts) {\n        const oldIds = Object.keys(this.scripts);\n        const newIds = Object.keys(newScripts);\n        if (oldIds.length !== newIds.length) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        if (JSON.stringify(oldIds) !== JSON.stringify(newIds)) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        for (let i = 0; i < oldIds.length; i++) {\n            let oldScript = this.scripts[oldIds[i]].common;\n            let newScript = newScripts[oldIds[i]].common;\n            if (oldScript.name !== newScript.name) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engine !== newScript.engine) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engineType !== newScript.engineType) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.enabled !== newScript.enabled) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n        }\n    }\n\n    onRename(oldId, newId, newName, newInstance) {\n        console.log(`Rename ${oldId} => ${newId}`);\n        let promise;\n        this.setState({updating: true});\n\n        // Rename script.js.common.Skript_1 => script.js.common.New folder.Skript_1\n\n        if (this.scripts[oldId] && this.scripts[oldId].type === 'script') {\n            const common = JSON.parse(JSON.stringify(this.scripts[oldId].common));\n            common.name = newName || common.name;\n            if (newInstance !== undefined) {\n                common.engine = 'system.adapter.javascript.' + newInstance;\n            }\n            // Check if the script is not a children of other script\n            const parts = newId.split('.');\n            parts.pop();\n            const parentID = parts.join('.');\n\n            if (this.scripts[parentID] && this.scripts[parentID].type === 'script') {\n                parts.pop();\n                newId = parts.join('.') + '.' + newId.split('.').pop();\n            }\n\n            promise = this.updateScript(oldId, newId, common);\n        } else {\n            promise = this.renameGroup(oldId, newId, newName);\n        }\n\n        promise\n            .then(() => this.setState({updating: false}))\n            .catch(err => err !== 'canceled' && this.showError(err));\n    }\n\n    renameGroup(id, newId, newName, _list) {\n        if (!_list) {\n            _list = [];\n\n            // collect all elements to rename\n            // find all elements\n            _list = Object.keys(this.scripts).filter(_id => _id.startsWith(id + '.'));\n\n            return this.socket.getObject(id)\n                .then(obj => {\n                    obj = obj || {common: {}};\n                    obj.common.name = newName || obj.common.name || id.split('.').pop();\n                    obj._id = newId;\n\n                    this.socket.delObject(id)\n                        .catch(() => {})\n                        .then(() => this.socket.setObject(newId, obj))\n                        .then(() => this.renameGroup(id, newId, newName, _list))\n                        .catch(e => {\n                            console.log(e);\n                        });\n                })\n                .catch(e => {\n                    console.log(e);\n                    const obj = {\n                        _id: newId,\n                        type: 'channel',\n                        common: {\n                            name: newName || id.split('.').pop()\n                        },\n                        native: {}\n                    };\n                    // may be it is virtual folder\n                    return this.socket.setObject(newId, obj)\n                        .then(() => this.renameGroup(id, newId, newName, _list));\n                });\n        } else if (_list.length) {\n            let nId = _list.pop();\n\n            return this.socket.getObject(nId)\n                .then(obj =>\n                    this.socket.delObject(nId)\n                        .catch(() => {})\n                        .then(() => {\n                            nId = newId + nId.substring(id.length);\n                            obj._id = nId;\n                            return this.socket.setObject(nId, obj);\n                        })\n                        .then(() => this.renameGroup(id, newId, newName, _list))\n                );\n        } else {\n            return Promise.resolve();\n        }\n    }\n\n    onUpdateScript(id, common) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            this.updateScript(id, id, common)\n                .then(() => {})\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    onSelect(selected) {\n        if (this.scripts[selected] && this.scripts[selected].common && this.scripts[selected].type === 'script') {\n            this.setState({selected, menuSelectId: selected}, () =>\n                setTimeout(() => this.setState({menuSelectId: ''})), 300);\n        }\n    }\n\n    onExpertModeChange(expertMode) {\n        if (this.state.expertMode !== expertMode) {\n            window.localStorage && window.localStorage.setItem('App.expertMode', expertMode ? 'true' : 'false');\n            this.setState({ expertMode });\n        }\n    }\n\n    showError(err) {\n        this.setState({ errorText: err ? err.toString() : '' });\n    }\n\n    showMessage(message) {\n        this.setState({ message: message ? message.toString() : '' });\n    }\n\n    onDelete(id) {\n        this.socket.delObject(id)\n        .then(() => {})\n        .catch(err =>\n            this.showError(err));\n    }\n\n    onEdit(id) {\n        if (this.state.selected !== id) {\n            this.setState({selected: id});\n        }\n    }\n\n    onAddNew(id, name, isFolder, instance, type, source) {\n        const reg = new RegExp(`^${id}\\\\.`);\n\n        if (Object.keys(this.scripts).find(_id => id === _id || reg.test(id))) {\n            return this.showError(I18n.t('Yet exists!'));\n        }\n\n        if (isFolder) {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true\n                },\n                type: 'channel'\n            })\n                .then(() =>\n                    setTimeout(() => this.setState({menuSelectId: id}, () =>\n                        setTimeout(() => this.setState({menuSelectId: ''})), 300), 1000))\n                .catch(err => this.showError(err));\n        } else {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true,\n                    engineType: type,\n                    engine: 'system.adapter.javascript.' + (instance || 0),\n                    source: source || '',\n                    debug: false,\n                    verbose: false\n                },\n                type: 'script'\n            })\n                .then(() => setTimeout(() => this.onSelect(id), 1000))\n                .catch(err => this.showError(err));\n        }\n    }\n\n    updateScript(oldId, newId, newCommon) {\n        return this.socket.getObject(oldId)\n            .then(_obj => {\n                const obj = {common: {}};\n\n                if (newCommon.engine  !== undefined) obj.common.engine  = newCommon.engine;\n                if (newCommon.enabled !== undefined) obj.common.enabled = newCommon.enabled;\n                if (newCommon.source  !== undefined) obj.common.source  = newCommon.source;\n                if (newCommon.debug   !== undefined) obj.common.debug   = newCommon.debug;\n                if (newCommon.verbose !== undefined) obj.common.verbose = newCommon.verbose;\n\n                obj.from = 'system.adapter.admin.0'; // we must distinguish between GUI(admin.0) and disk(javascript.0)\n\n                if (oldId === newId && _obj && _obj.common && newCommon.name === _obj.common.name) {\n                    if (!newCommon.engineType || newCommon.engineType !== _obj.common.engineType) {\n                        if (newCommon.engineType !== undefined) {\n                            obj.common.engineType = newCommon.engineType || 'Javascript/js';\n                        }\n\n                        return new Promise((resolve, reject) =>\n                            this.socket.getRawSocket().emit('extendObject', oldId, obj, err =>\n                                err ? reject(err) : resolve()));\n                    } else {\n                        return new Promise((resolve, reject) =>\n                            this.socket.getRawSocket().emit('extendObject', oldId, obj, err =>\n                                err ? reject(err) : resolve()));\n                    }\n                } else {\n                    // let prefix;\n\n                    // let parts = _obj.common.engineType.split('/');\n\n                    // prefix = 'script.' + (parts[1] || parts[0]) + '.';\n\n                    if (_obj && _obj.common) {\n                        _obj.common.engineType = newCommon.engineType || _obj.common.engineType || 'Javascript/js';\n                        return this.socket.delObject(oldId)\n                            .then(() => {\n                                if (obj.common.engine !== undefined) _obj.common.engine = obj.common.engine;\n                                if (obj.common.enabled !== undefined) _obj.common.enabled = obj.common.enabled;\n                                if (obj.common.source !== undefined) _obj.common.source = obj.common.source;\n                                if (obj.common.name !== undefined) _obj.common.name = obj.common.name;\n                                if (obj.common.debug !== undefined) _obj.common.debug = obj.common.debug;\n                                if (obj.common.verbose !== undefined) _obj.common.verbose = obj.common.verbose;\n\n                                delete _obj._rev;\n\n                                // Name must always exist\n                                _obj.common.name = newCommon.name;\n\n                                _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                                this.socket.setObject(newId, _obj);\n                            });\n                    } else {\n                        _obj = obj;\n                    }\n\n                    // Name must always exist\n                    _obj.common.name = newCommon.name;\n\n                    _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                    return this.socket.setObject(newId, _obj);\n                }\n            });\n    }\n\n    onEnableDisable(id, enabled) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            const common = this.scripts[id].common;\n            common.enabled = enabled;\n            common.expert = true;\n            this.updateScript(id, id, common)\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    getLiveHost(cb, _list) {\n        if (!_list) {\n            _list = this.hosts ? [...this.hosts] : [];\n        }\n\n        if (_list.length) {\n            const id = _list.shift();\n            this.socket.getState(id + '.alive')\n                .then(state => {\n                    if (state && state.val) {\n                        cb(id);\n                    } else {\n                        setTimeout(() => this.getLiveHost(cb, _list));\n                    }\n                });\n        } else {\n            cb();\n        }\n    }\n\n    onExport() {\n        this.getLiveHost(host => {\n            if (!host) {\n                return this.showError(I18n.t('No active host found'));\n            }\n\n            const d = new Date();\n            let date = d.getFullYear();\n            let m = d.getMonth() + 1;\n            if (m < 10) {\n                m = '0' + m;\n            }\n            date += '-' + m;\n            m = d.getDate();\n            if (m < 10) {\n                m = '0' + m;\n            }\n            date += '-' + m + '-';\n\n            this.socket.getRawSocket().emit('sendToHost', host, 'readObjectsAsZip', {\n                adapter: 'javascript',\n                id: 'script.js',\n                link: date + 'scripts.zip' // request link to file and not the data itself\n            }, data => {\n                if (typeof data === 'string') {\n                    // it is a link to created file\n                    const a = document.createElement('a');\n                    // the data is \"system.host.HOST.zip.2020-01-26-scripts.zip\"\n                    const parts = data.split('.zip.');\n                    a.href = '/zip/' + parts[0] + '/' + parts[1];\n                    document.body.appendChild(a);\n                    a.click();\n                    a.remove();\n                } else {\n                    data.error && this.showError(data.error);\n                    if (data.data) {\n                        const a = document.createElement('a');\n                        a.href = 'data: application/zip;base64,' + data.data;\n                        a.download = date + 'scripts.zip';\n                        document.body.appendChild(a);\n                        a.click();\n                        a.remove();\n                    }\n                }\n            });\n        });\n    }\n\n    onImport(data) {\n        this.importFile = data;\n        if (data) {\n            this.confirmCallback = this.onImportConfirmed.bind(this);\n            this.setState({importFile: false, confirm: I18n.t('Existing scripts will be overwritten.')});\n        } else {\n            this.setState({importFile: false});\n        }\n    }\n\n    onImportConfirmed(ok) {\n        let data = this.importFile;\n        this.importFile = null;\n        if (ok && data) {\n            data = data.split(',')[1];\n            this.getLiveHost(host => {\n                if (!host) {\n                    this.showError(I18n.t('No active host found'));\n                    return;\n                }\n                this.socket.getRawSocket().emit('sendToHost', host, 'writeObjectsAsZip', {\n                    data: data,\n                    adapter: 'javascript',\n                    id: 'script.js'\n                }, data => {\n                    if (data === 'permissionError') {\n                        this.showError(I18n.t(data));\n                    } else if (!data || data.error) {\n                        this.showError(data ? I18n.t(data.error) : I18n.t('Unknown error'));\n                    } else {\n                        this.showMessage(I18n.t('Done'));\n                    }\n                });\n            });\n        }\n    }\n\n    toggleLogLayout() {\n        window.localStorage && window.localStorage.setItem('App.logHorzLayout', this.state.logHorzLayout ? 'false' : 'true');\n        this.setState({logHorzLayout: !this.state.logHorzLayout});\n    }\n\n    renderMain() {\n        const {classes} = this.props;\n        const errorDialog = this.state.errorText ? <DialogError key=\"dialogError\" onClose={() => this.setState({errorText: ''})} text={this.state.errorText}/> : null;\n        return [\n            this.state.message ? <DialogMessage key=\"dialogMessage\" onClose={() => this.setState({message: ''})} text={this.state.message}/> : null,\n            errorDialog,\n            this.state.importFile ? <DialogImportFile key=\"dialogImportFile\" onClose={data => this.onImport(data)} /> : null,\n            this.state.confirm ? <DialogConfirm\n                key=\"dialogConfirm\"\n                onClose={result => {\n                    this.state.confirm && this.setState({confirm: ''});\n                    this.confirmCallback && this.confirmCallback(result);\n                    this.confirmCallback = null;\n                }}\n                text={this.state.confirm}/> : null,\n            <div className={classes.content + ' iobVerticalSplitter'} key=\"main\">\n                <div key=\"closeMenu\" className={classes.menuOpenCloseButton} onClick={() => {\n                    window.localStorage && window.localStorage.setItem('App.menuOpened', this.state.menuOpened ? 'false' : 'true');\n                    this.setState({menuOpened: !this.state.menuOpened, resizing: true});\n                    setTimeout(() => this.setState({resizing: false}), 300);\n                }}>\n                    {this.state.menuOpened ? (<IconMenuOpened />) : (<IconMenuClosed />)}\n                </div>\n                <SplitterLayout\n                    key=\"splitterLayout\"\n                    vertical={!this.state.logHorzLayout}\n                    primaryMinSize={100}\n                    secondaryInitialSize={this.logSize}\n                    //customClassName={classes.menuDiv + ' ' + classes.splitterDivWithoutMenu}\n                    onDragStart={() => this.setState({resizing: true})}\n                    onSecondaryPaneSizeChange={size => this.logSize = parseFloat(size)}\n                    onDragEnd={() => {\n                        this.setState({resizing: false});\n                        window.localStorage && window.localStorage.setItem('App.logSize', this.logSize.toString());\n                    }}\n                >\n                    <Editor\n                        key=\"editor\"\n                        visible={!this.state.resizing}\n                        socket={this.socket}\n                        adapterName={this.adapterName}\n                        onLocate={menuSelectId => this.setState({menuSelectId})}\n                        runningInstances={this.state.runningInstances}\n                        menuOpened={this.state.menuOpened}\n                        searchText={this.state.searchText}\n                        themeType={this.state.themeType}\n                        themeName={this.state.themeName}\n                        onChange={(id, common) => this.onUpdateScript(id, common)}\n                        onSelectedChange={(id, editing) => {\n                            const newState = {};\n                            let changed = false;\n                            if (id !== this.state.selected) {\n                                changed = true;\n                                newState.selected = id;\n                            }\n                            if (JSON.stringify(editing) !== JSON.stringify(this.state.editing)) {\n                                changed = true;\n                                newState.editing = JSON.parse(JSON.stringify(editing));\n                            }\n                            changed && this.setState(newState);\n                        }}\n                        onRestart={id => this.socket.extendObject(id, {common: {enabled: true}})}\n                        selected={this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].type === 'script' ? this.state.selected : ''}\n                        objects={this.scripts}\n                        instances={this.state.instances}\n                    />\n                    <Log key=\"log\" verticalLayout={!this.state.logHorzLayout} onLayoutChange={() => this.toggleLogLayout()} editing={this.state.editing} socket={this.socket} selected={this.state.selected}/>\n                </SplitterLayout>\n            </div>,\n        ];\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        if (!this.state.ready) {\n            // return (<CircularProgress className={classes.progress} size={50} />);\n            return <Loader theme={this.state.themeType}/>;\n        }\n\n        return <div className={classes.root}>\n            <SplitterLayout\n                key=\"menuSplitter\"\n                vertical={false}\n                primaryMinSize={300}\n                primaryIndex={1}\n                secondaryMinSize={300}\n                secondaryInitialSize={this.menuSize}\n                customClassName={classes.splitterDivs + ' ' + (!this.state.menuOpened ? classes.menuDivWithoutMenu : '')}\n                onDragStart={() => this.setState({resizing: true})}\n                onSecondaryPaneSizeChange={size => this.menuSize = parseFloat(size)}\n                onDragEnd={() => {\n                    this.setState({resizing: false});\n                    window.localStorage && window.localStorage.setItem('App.menuSize', this.menuSize.toString());\n                }}\n            >\n                <div className={classes.mainDiv} key=\"menu\">\n                    <SideMenu\n                        key=\"sidemenu\"\n                        scripts={this.scripts}\n                        scriptsHash={this.state.scriptsHash}\n                        instances={this.state.instances}\n                        update={this.state.updateScripts}\n                        onRename={this.onRename.bind(this)}\n                        onSelect={this.onSelect.bind(this)}\n                        socket={this.socket}\n                        selectId={this.state.menuSelectId}\n                        onEdit={this.onEdit.bind(this)}\n                        expertMode={this.state.expertMode}\n                        themeType={this.state.themeType}\n                        themeName={this.state.themeName}\n                        onThemeChange={themeName => {\n                            Utils.setThemeName(themeName);\n                            const themeType = Utils.getThemeType(themeName);\n                            this.setState({themeName, themeType}, () => this.props.onThemeChange(themeName))\n                        }}\n                        runningInstances={this.state.runningInstances}\n                        onExpertModeChange={this.onExpertModeChange.bind(this)}\n                        onDelete={this.onDelete.bind(this) }\n                        onAddNew={ this.onAddNew.bind(this) }\n                        onEnableDisable={this.onEnableDisable.bind(this)}\n                        onExport={this.onExport.bind(this)}\n                        width={this.menuSize}\n                        onImport={() => this.setState({importFile: true})}\n                        onSearch={searchText => this.setState({searchText})}\n                    />\n                </div>\n                {this.renderMain()}\n            </SplitterLayout>\n        </div>;\n    }\n}\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as Sentry from '@sentry/browser';\nimport * as SentryIntegrations from '@sentry/integrations';\nimport { MuiThemeProvider} from '@material-ui/core/styles';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {version} from '../package.json';\nimport theme from '@iobroker/adapter-react/Theme';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\n\nwindow.adapterName = 'javascript';\nlet themeName = Utils.getThemeName();\n\nconsole.log('iobroker.' + window.adapterName + '@' + version + ' using theme \"' + themeName + '\"');\n\nfunction build() {\n    if (typeof Map === 'undefined') {\n        console.log('Something is wrong')\n    }\n    return ReactDOM.render(<MuiThemeProvider theme={theme(themeName)}>\n        <App onThemeChange={_theme => {\n            themeName = _theme;\n            build();\n        }}/>\n    </MuiThemeProvider>, document.getElementById('root'));\n\n}\n\n// if not local development\nif (window.location.host !== 'localhost:3000') {\n    Sentry.init({\n        dsn: 'https://504499a725eb4898930d3b9e9da95740@sentry.iobroker.net/56',\n        release: 'iobroker.' + window.adapterName + '@' + version,\n        integrations: [\n            new SentryIntegrations.Dedupe()\n        ]\n    });\n}\n\nbuild();\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}